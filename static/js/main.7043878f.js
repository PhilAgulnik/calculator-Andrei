/*! For license information please see main.7043878f.js.LICENSE.txt */
(()=>{var e={452:e=>{"use strict";e.exports=JSON.parse('["Aberdeen and Shire","Argyll and Bute","Ayrshires","Dumfries and Galloway","Dundee and Angus","East Dunbartonshire","Fife","Forth Valley","Greater Glasgow","Highland and Islands","Lothian","North Lanarkshire","Perth and Kinross","Renfrewshire/ Inverclyde","Scottish Borders","South Lanarkshire","West Dunbartonshire","West Lothian"]')},579:(e,t,n)=>{"use strict";e.exports=n(1153)},1153:(e,t,n)=>{"use strict";var i=n(5043),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,s={},c=null,d=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)r.call(t,i)&&!l.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:a,type:e,key:c,ref:d,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},1246:e=>{"use strict";const t=e=>new Promise((t,n)=>{const i=new FileReader;i.onload=()=>{t(i.result)},i.onerror=e=>{let{target:{error:{code:t}}}=e;n(Error("File could not be read! Code=".concat(t)))},i.readAsArrayBuffer(e)}),n=async e=>{let i=e;if("undefined"===typeof e)return"undefined";if("string"===typeof e)if(/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e))i=atob(e.split(",")[1]).split("").map(e=>e.charCodeAt(0));else{const t=await fetch(e);i=await t.arrayBuffer()}else if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)"IMG"===e.tagName&&(i=await n(e.src)),"VIDEO"===e.tagName&&(i=await n(e.poster)),"CANVAS"===e.tagName&&await new Promise(n=>{e.toBlob(async e=>{i=await t(e),n()})});else if("undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas){const n=await e.convertToBlob();i=await t(n)}else(e instanceof File||e instanceof Blob)&&(i=await t(e));return new Uint8Array(i)};e.exports=n},1257:(e,t,n)=>{"use strict";var i=n(2897).default;const a=n(1432),s=n(9343),r=n(2163),o=n(7092),l=n(1600),c=n(5783),{setLogging:d}=n(5597);e.exports=i({languages:o,OEM:l,PSM:c,createScheduler:a,createWorker:s,setLogging:d},r)},1389:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AcroForm:()=>Rs,AcroFormAppearance:()=>Is,AcroFormButton:()=>_s,AcroFormCheckBox:()=>Ps,AcroFormChoiceField:()=>As,AcroFormComboBox:()=>js,AcroFormEditBox:()=>Cs,AcroFormListBox:()=>ks,AcroFormPasswordField:()=>Ts,AcroFormPushButton:()=>Ss,AcroFormRadioButton:()=>Es,AcroFormTextField:()=>Ls,GState:()=>Ga,ShadingPattern:()=>Ya,TilingPattern:()=>Ka,default:()=>Xa,jsPDF:()=>Xa});var i=n(2284),a=Uint8Array,s=Uint16Array,r=Int32Array,o=new a([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new a([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new a([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=function(e,t){for(var n=new s(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];var a=new r(n[30]);for(i=1;i<30;++i)for(var o=n[i];o<n[i+1];++o)a[o]=o-n[i]<<5|i;return{b:n,r:a}},h=d(o,2),u=h.b,p=h.r;u[28]=258,p[258]=28;for(var m=d(l,0),f=(m.b,m.r),g=new s(32768),v=0;v<32768;++v){var b=(43690&v)>>1|(21845&v)<<1;b=(61680&(b=(52428&b)>>2|(13107&b)<<2))>>4|(3855&b)<<4,g[v]=((65280&b)>>8|(255&b)<<8)>>1}var y=function(e,t,n){for(var i=e.length,a=0,r=new s(t);a<i;++a)e[a]&&++r[e[a]-1];var o,l=new s(t);for(a=1;a<t;++a)l[a]=l[a-1]+r[a-1]<<1;if(n){o=new s(1<<t);var c=15-t;for(a=0;a<i;++a)if(e[a])for(var d=a<<4|e[a],h=t-e[a],u=l[e[a]-1]++<<h,p=u|(1<<h)-1;u<=p;++u)o[g[u]>>c]=d}else for(o=new s(i),a=0;a<i;++a)e[a]&&(o[a]=g[l[e[a]-1]++]>>15-e[a]);return o},x=new a(288);for(v=0;v<144;++v)x[v]=8;for(v=144;v<256;++v)x[v]=9;for(v=256;v<280;++v)x[v]=7;for(v=280;v<288;++v)x[v]=8;var w=new a(32);for(v=0;v<32;++v)w[v]=5;var N=y(x,9,0),A=y(w,5,0),k=function(e){return(e+7)/8|0},j=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new a(e.subarray(t,n))},C=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8},_=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>8,e[i+2]|=n>>16},S=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,o=n.slice();if(!r)return{t:F,l:0};if(1==r){var l=new a(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var c=n[0],d=n[1],h=0,u=1,p=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};u!=r-1;)c=n[n[h].f<n[p].f?h++:p++],d=n[h!=u&&n[h].f<n[p].f?h++:p++],n[u++]={s:-1,f:c.f+d.f,l:c,r:d};var m=o[0].s;for(i=1;i<r;++i)o[i].s>m&&(m=o[i].s);var f=new s(m+1),g=E(n[u-1],f,0);if(g>t){i=0;var v=0,b=g-t,y=1<<b;for(o.sort(function(e,t){return f[t.s]-f[e.s]||e.f-t.f});i<r;++i){var x=o[i].s;if(!(f[x]>t))break;v+=y-(1<<g-f[x]),f[x]=t}for(v>>=b;v>0;){var w=o[i].s;f[w]<t?v-=1<<t-f[w]++-1:++i}for(;i>=0&&v;--i){var N=o[i].s;f[N]==t&&(--f[N],++v)}g=t}return{t:new a(f),l:g}},E=function(e,t,n){return-1==e.s?Math.max(E(e.l,t,n+1),E(e.r,t,n+1)):t[e.s]=n},M=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new s(++t),i=0,a=e[0],r=1,o=function(e){n[i++]=e},l=1;l<=t;++l)if(e[l]==a&&l!=t)++r;else{if(!a&&r>2){for(;r>138;r-=138)o(32754);r>2&&(o(r>10?r-11<<5|28690:r-3<<5|12305),r=0)}else if(r>3){for(o(a),--r;r>6;r-=6)o(8304);r>2&&(o(r-3<<5|8208),r=0)}for(;r--;)o(a);r=1,a=e[l]}return{c:n.subarray(0,i),n:t}},P=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},L=function(e,t,n){var i=n.length,a=k(t+2);e[a]=255&i,e[a+1]=i>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var s=0;s<i;++s)e[a+s+4]=n[s];return 8*(a+4+i)},T=function(e,t,n,i,a,r,d,h,u,p,m){C(t,m++,n),++a[256];for(var f=S(a,15),g=f.t,v=f.l,b=S(r,15),k=b.t,j=b.l,E=M(g),T=E.c,I=E.n,F=M(k),R=F.c,D=F.n,B=new s(19),O=0;O<T.length;++O)++B[31&T[O]];for(O=0;O<R.length;++O)++B[31&R[O]];for(var W=S(B,7),H=W.t,z=W.l,U=19;U>4&&!H[c[U-1]];--U);var q,G,V,Y,K=p+5<<3,X=P(a,x)+P(r,w)+d,J=P(a,g)+P(r,k)+d+14+3*U+P(B,H)+2*B[16]+3*B[17]+7*B[18];if(u>=0&&K<=X&&K<=J)return L(t,m,e.subarray(u,u+p));if(C(t,m,1+(J<X)),m+=2,J<X){q=y(g,v,0),G=g,V=y(k,j,0),Y=k;var Q=y(H,z,0);C(t,m,I-257),C(t,m+5,D-1),C(t,m+10,U-4),m+=14;for(O=0;O<U;++O)C(t,m+3*O,H[c[O]]);m+=3*U;for(var Z=[T,R],$=0;$<2;++$){var ee=Z[$];for(O=0;O<ee.length;++O){var te=31&ee[O];C(t,m,Q[te]),m+=H[te],te>15&&(C(t,m,ee[O]>>5&127),m+=ee[O]>>12)}}}else q=N,G=x,V=A,Y=w;for(O=0;O<h;++O){var ne=i[O];if(ne>255){_(t,m,q[(te=ne>>18&31)+257]),m+=G[te+257],te>7&&(C(t,m,ne>>23&31),m+=o[te]);var ie=31&ne;_(t,m,V[ie]),m+=Y[ie],ie>3&&(_(t,m,ne>>5&8191),m+=l[ie])}else _(t,m,q[ne]),m+=G[ne]}return _(t,m,q[256]),m+G[256]},I=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new a(0),R=function(e,t,n,i,c,d){var h=d.z||e.length,u=new a(i+h+5*(1+Math.ceil(h/7e3))+c),m=u.subarray(i,u.length-c),g=d.l,v=7&(d.r||0);if(t){v&&(m[0]=d.r>>3);for(var b=I[t-1],y=b>>13,x=8191&b,w=(1<<n)-1,N=d.p||new s(32768),A=d.h||new s(w+1),C=Math.ceil(n/3),_=2*C,S=function(t){return(e[t]^e[t+1]<<C^e[t+2]<<_)&w},E=new r(25e3),M=new s(288),P=new s(32),F=0,R=0,D=d.i||0,B=0,O=d.w||0,W=0;D+2<h;++D){var H=S(D),z=32767&D,U=A[H];if(N[z]=U,A[H]=z,O<=D){var q=h-D;if((F>7e3||B>24576)&&(q>423||!g)){v=T(e,m,0,E,M,P,R,B,W,D-W,v),B=F=R=0,W=D;for(var G=0;G<286;++G)M[G]=0;for(G=0;G<30;++G)P[G]=0}var V=2,Y=0,K=x,X=z-U&32767;if(q>2&&H==S(D-X))for(var J=Math.min(y,q)-1,Q=Math.min(32767,D),Z=Math.min(258,q);X<=Q&&--K&&z!=U;){if(e[D+V]==e[D+V-X]){for(var $=0;$<Z&&e[D+$]==e[D+$-X];++$);if($>V){if(V=$,Y=X,$>J)break;var ee=Math.min(X,$-2),te=0;for(G=0;G<ee;++G){var ne=D-X+G&32767,ie=ne-N[ne]&32767;ie>te&&(te=ie,U=ne)}}}X+=(z=U)-(U=N[z])&32767}if(Y){E[B++]=268435456|p[V]<<18|f[Y];var ae=31&p[V],se=31&f[Y];R+=o[ae]+l[se],++M[257+ae],++P[se],O=D+V,++F}else E[B++]=e[D],++M[e[D]]}}for(D=Math.max(D,O);D<h;++D)E[B++]=e[D],++M[e[D]];v=T(e,m,g,E,M,P,R,B,W,D-W,v),g||(d.r=7&v|m[v/8|0]<<3,v-=7,d.h=A,d.p=N,d.i=D,d.w=O)}else{for(D=d.w||0;D<h+g;D+=65535){var re=D+65535;re>=h&&(m[v/8|0]=g,re=h),v=L(m,v+1,e.subarray(D,re))}d.i=h}return j(u,0,i+k(v)+c)},D=function(){var e=1,t=0;return{p:function(n){for(var i=e,a=t,s=0|n.length,r=0;r!=s;){for(var o=Math.min(r+2655,s);r<o;++r)a+=i+=n[r];i=(65535&i)+15*(i>>16),a=(65535&a)+15*(a>>16)}e=i,t=a},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},B=function(e,t,n,i,s){if(!s&&(s={l:1},t.dictionary)){var r=t.dictionary.subarray(-32768),o=new a(r.length+e.length);o.set(r),o.set(e,r.length),e=o,s.w=r.length}return R(e,null==t.level?6:t.level,null==t.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,i,s)},O=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},W=function(e,t){var n=t.level,i=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=i<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=D();a.p(t.dictionary),O(e,2,a.d())}};function H(e,t){t||(t={});var n=D();n.p(e);var i=B(e,t,t.dictionary?6:2,4);return W(i,t),O(i,i.length-4,n.d()),i}var z="undefined"!=typeof TextDecoder&&new TextDecoder;try{z.decode(F,{stream:!0})}catch(qr){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,a,s,r,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(o.push(i.value),o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var G=n(4980);function V(e){return new TextDecoder(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8").decode(e)}const Y=new TextEncoder;const K=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),X={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class J{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8192,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,G.A)(this,"buffer",void 0),(0,G.A)(this,"byteLength",void 0),(0,G.A)(this,"byteOffset",void 0),(0,G.A)(this,"length",void 0),(0,G.A)(this,"offset",void 0),(0,G.A)(this,"lastWrittenByte",void 0),(0,G.A)(this,"littleEndian",void 0),(0,G.A)(this,"_data",void 0),(0,G.A)(this,"_mark",void 0),(0,G.A)(this,"_marks",void 0);let n=!1;"number"===typeof e?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,a=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof J)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),this.lastWrittenByte=n?a:0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset+=e,this}back(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(!this.available(e)){const t=2*(this.offset+e),n=new Uint8Array(t);n.set(new Uint8Array(this.buffer)),this.buffer=n.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.readArray(e,"uint8")}readArray(e,t){const n=X[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===K&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(i,i+n));e.reverse();const a=new X[t](e.buffer);return this.offset+=n,a.reverse(),a}const s=new X[t](a);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return V(this.readBytes(e))}decodeText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return V(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return Y.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Q(e){let t=e.length;for(;--t>=0;)e[t]=0}const Z=256,$=286,ee=30,te=15,ne=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ie=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),ae=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),se=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),re=new Array(576);Q(re);const oe=new Array(60);Q(oe);const le=new Array(512);Q(le);const ce=new Array(256);Q(ce);const de=new Array(29);Q(de);const he=new Array(ee);function ue(e,t,n,i,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=a,this.has_stree=e&&e.length}let pe,me,fe;function ge(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}Q(he);const ve=e=>e<256?le[e]:le[256+(e>>>7)],be=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},ye=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,be(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},xe=(e,t,n)=>{ye(e,n[2*t],n[2*t+1])},we=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},Ne=(e,t,n)=>{const i=new Array(16);let a,s,r=0;for(a=1;a<=te;a++)r=r+n[a-1]<<1,i[a]=r;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=we(i[t]++,t))}},Ae=e=>{let t;for(t=0;t<$;t++)e.dyn_ltree[2*t]=0;for(t=0;t<ee;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},ke=e=>{e.bi_valid>8?be(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},je=(e,t,n,i)=>{const a=2*t,s=2*n;return e[a]<e[s]||e[a]===e[s]&&i[t]<=i[n]},Ce=(e,t,n)=>{const i=e.heap[n];let a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&je(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!je(t,i,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=i},_e=(e,t,n)=>{let i,a,s,r,o=0;if(0!==e.sym_next)do{i=255&e.pending_buf[e.sym_buf+o++],i+=(255&e.pending_buf[e.sym_buf+o++])<<8,a=e.pending_buf[e.sym_buf+o++],0===i?xe(e,a,t):(s=ce[a],xe(e,s+Z+1,t),r=ne[s],0!==r&&(a-=de[s],ye(e,a,r)),i--,s=ve(i),xe(e,s,n),r=ie[s],0!==r&&(i-=he[s],ye(e,i,r)))}while(o<e.sym_next);xe(e,256,t)},Se=(e,t)=>{const n=t.dyn_tree,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.elems;let r,o,l,c=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<s;r++)0!==n[2*r]?(e.heap[++e.heap_len]=c=r,e.depth[r]=0):n[2*r+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=c<2?++c:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,a&&(e.static_len-=i[2*l+1]);for(t.max_code=c,r=e.heap_len>>1;r>=1;r--)Ce(e,n,r);l=s;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ce(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=o,n[2*l]=n[2*r]+n[2*o],e.depth[l]=(e.depth[r]>=e.depth[o]?e.depth[r]:e.depth[o])+1,n[2*r+1]=n[2*o+1]=l,e.heap[1]=l++,Ce(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,i=t.max_code,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,r=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,d,h,u,p,m,f=0;for(u=0;u<=te;u++)e.bl_count[u]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)d=e.heap[c],u=n[2*n[2*d+1]+1]+1,u>l&&(u=l,f++),n[2*d+1]=u,d>i||(e.bl_count[u]++,p=0,d>=o&&(p=r[d-o]),m=n[2*d],e.opt_len+=m*(u+p),s&&(e.static_len+=m*(a[2*d+1]+p)));if(0!==f){do{for(u=l-1;0===e.bl_count[u];)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[l]--,f-=2}while(f>0);for(u=l;0!==u;u--)for(d=e.bl_count[u];0!==d;)h=e.heap[--c],h>i||(n[2*h+1]!==u&&(e.opt_len+=(u-n[2*h+1])*n[2*h],n[2*h+1]=u),d--)}})(e,t),Ne(n,c,e.bl_count)},Ee=(e,t,n)=>{let i,a,s=-1,r=t[1],o=0,l=7,c=4;for(0===r&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)a=r,r=t[2*(i+1)+1],++o<l&&a===r||(o<c?e.bl_tree[2*a]+=o:0!==a?(a!==s&&e.bl_tree[2*a]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=a,0===r?(l=138,c=3):a===r?(l=6,c=3):(l=7,c=4))},Me=(e,t,n)=>{let i,a,s=-1,r=t[1],o=0,l=7,c=4;for(0===r&&(l=138,c=3),i=0;i<=n;i++)if(a=r,r=t[2*(i+1)+1],!(++o<l&&a===r)){if(o<c)do{xe(e,a,e.bl_tree)}while(0!==--o);else 0!==a?(a!==s&&(xe(e,a,e.bl_tree),o--),xe(e,16,e.bl_tree),ye(e,o-3,2)):o<=10?(xe(e,17,e.bl_tree),ye(e,o-3,3)):(xe(e,18,e.bl_tree),ye(e,o-11,7));o=0,s=a,0===r?(l=138,c=3):a===r?(l=6,c=3):(l=7,c=4)}};let Pe=!1;const Le=(e,t,n,i)=>{ye(e,0+(i?1:0),3),ke(e),be(e,n),be(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var Te=e=>{Pe||((()=>{let e,t,n,i,a;const s=new Array(16);for(n=0,i=0;i<28;i++)for(de[i]=n,e=0;e<1<<ne[i];e++)ce[n++]=i;for(ce[n-1]=i,a=0,i=0;i<16;i++)for(he[i]=a,e=0;e<1<<ie[i];e++)le[a++]=i;for(a>>=7;i<ee;i++)for(he[i]=a<<7,e=0;e<1<<ie[i]-7;e++)le[256+a++]=i;for(t=0;t<=te;t++)s[t]=0;for(e=0;e<=143;)re[2*e+1]=8,e++,s[8]++;for(;e<=255;)re[2*e+1]=9,e++,s[9]++;for(;e<=279;)re[2*e+1]=7,e++,s[7]++;for(;e<=287;)re[2*e+1]=8,e++,s[8]++;for(Ne(re,287,s),e=0;e<ee;e++)oe[2*e+1]=5,oe[2*e]=we(e,5);pe=new ue(re,ne,257,$,te),me=new ue(oe,ie,0,ee,te),fe=new ue(new Array(0),ae,0,19,7)})(),Pe=!0),e.l_desc=new ge(e.dyn_ltree,pe),e.d_desc=new ge(e.dyn_dtree,me),e.bl_desc=new ge(e.bl_tree,fe),e.bi_buf=0,e.bi_valid=0,Ae(e)},Ie=(e,t,n,i)=>{let a,s,r=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<Z;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),Se(e,e.l_desc),Se(e,e.d_desc),r=(e=>{let t;for(Ee(e,e.dyn_ltree,e.l_desc.max_code),Ee(e,e.dyn_dtree,e.d_desc.max_code),Se(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*se[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),a=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?Le(e,t,n,i):4===e.strategy||s===a?(ye(e,2+(i?1:0),3),_e(e,re,oe)):(ye(e,4+(i?1:0),3),((e,t,n,i)=>{let a;for(ye(e,t-257,5),ye(e,n-1,5),ye(e,i-4,4),a=0;a<i;a++)ye(e,e.bl_tree[2*se[a]+1],3);Me(e,e.dyn_ltree,t-1),Me(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,r+1),_e(e,e.dyn_ltree,e.dyn_dtree)),Ae(e),i&&ke(e)},Fe=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ce[n]+Z+1)]++,e.dyn_dtree[2*ve(t)]++),e.sym_next===e.sym_end),Re=e=>{ye(e,2,3),xe(e,256,re),(e=>{16===e.bi_valid?(be(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},De={_tr_init:Te,_tr_stored_block:Le,_tr_flush_block:Ie,_tr_tally:Fe,_tr_align:Re};var Be=(e,t,n,i)=>{let a=65535&e,s=e>>>16&65535,r=0;for(;0!==n;){r=n>2e3?2e3:n,n-=r;do{a=a+t[i++]|0,s=s+a|0}while(--r);a%=65521,s%=65521}return a|s<<16};const Oe=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var We=(e,t,n,i)=>{const a=Oe,s=i+n;e^=-1;for(let r=i;r<s;r++)e=e>>>8^a[255&(e^t[r])];return-1^e},He={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ze={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Ue,_tr_stored_block:qe,_tr_flush_block:Ge,_tr_tally:Ve,_tr_align:Ye}=De,{Z_NO_FLUSH:Ke,Z_PARTIAL_FLUSH:Xe,Z_FULL_FLUSH:Je,Z_FINISH:Qe,Z_BLOCK:Ze,Z_OK:$e,Z_STREAM_END:et,Z_STREAM_ERROR:tt,Z_DATA_ERROR:nt,Z_BUF_ERROR:it,Z_DEFAULT_COMPRESSION:at,Z_FILTERED:st,Z_HUFFMAN_ONLY:rt,Z_RLE:ot,Z_FIXED:lt,Z_DEFAULT_STRATEGY:ct,Z_UNKNOWN:dt,Z_DEFLATED:ht}=ze,ut=258,pt=262,mt=42,ft=113,gt=666,vt=(e,t)=>(e.msg=He[t],t),bt=e=>2*e-(e>4?9:0),yt=e=>{let t=e.length;for(;--t>=0;)e[t]=0},xt=e=>{let t,n,i,a=e.w_size;t=e.hash_size,i=t;do{n=e.head[--i],e.head[i]=n>=a?n-a:0}while(--t);t=a,i=t;do{n=e.prev[--i],e.prev[i]=n>=a?n-a:0}while(--t)};let wt=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Nt=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},At=(e,t)=>{Ge(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Nt(e.strm)},kt=(e,t)=>{e.pending_buf[e.pending++]=t},jt=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ct=(e,t,n,i)=>{let a=e.avail_in;return a>i&&(a=i),0===a?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=Be(e.adler,t,a,n):2===e.state.wrap&&(e.adler=We(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},_t=(e,t)=>{let n,i,a=e.max_chain_length,s=e.strstart,r=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-pt?e.strstart-(e.w_size-pt):0,c=e.window,d=e.w_mask,h=e.prev,u=e.strstart+ut;let p=c[s+r-1],m=c[s+r];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,c[n+r]===m&&c[n+r-1]===p&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<u);if(i=ut-(u-s),s=u-ut,i>r){if(e.match_start=t,r=i,i>=o)break;p=c[s+r-1],m=c[s+r]}}}while((t=h[t&d])>l&&0!==--a);return r<=e.lookahead?r:e.lookahead},St=e=>{const t=e.w_size;let n,i,a;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-pt)&&(e.window.set(e.window.subarray(t,t+t-i),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),xt(e),i+=t),0===e.strm.avail_in)break;if(n=Ct(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=wt(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=wt(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<pt&&0!==e.strm.avail_in)},Et=(e,t)=>{let n,i,a,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r=0,o=e.strm.avail_in;do{if(n=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a)break;if(a=e.strm.avail_out-a,i=e.strstart-e.block_start,n>i+e.strm.avail_in&&(n=i+e.strm.avail_in),n>a&&(n=a),n<s&&(0===n&&t!==Qe||t===Ke||n!==i+e.strm.avail_in))break;r=t===Qe&&n===i+e.strm.avail_in?1:0,qe(e,0,0,r),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Nt(e.strm),i&&(i>n&&(i=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,n-=i),n&&(Ct(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===r);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),r?4:t!==Ke&&t!==Qe&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(Ct(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,s=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=s||(i||t===Qe)&&t!==Ke&&0===e.strm.avail_in&&i<=a)&&(n=i>a?a:i,r=t===Qe&&0===e.strm.avail_in&&n===i?1:0,qe(e,e.block_start,n,r),e.block_start+=n,Nt(e.strm)),r?3:1)},Mt=(e,t)=>{let n,i;for(;;){if(e.lookahead<pt){if(St(e),e.lookahead<pt&&t===Ke)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=wt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-pt&&(e.match_length=_t(e,n)),e.match_length>=3)if(i=Ve(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=wt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=wt(e,e.ins_h,e.window[e.strstart+1]);else i=Ve(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(At(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===Qe?(At(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(At(e,!1),0===e.strm.avail_out)?1:2},Pt=(e,t)=>{let n,i,a;for(;;){if(e.lookahead<pt){if(St(e),e.lookahead<pt&&t===Ke)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=wt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-pt&&(e.match_length=_t(e,n),e.match_length<=5&&(e.strategy===st||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,i=Ve(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=a&&(e.ins_h=wt(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(At(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(i=Ve(e,0,e.window[e.strstart-1]),i&&At(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=Ve(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===Qe?(At(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(At(e,!1),0===e.strm.avail_out)?1:2};function Lt(e,t,n,i,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=a}const Tt=[new Lt(0,0,0,0,Et),new Lt(4,4,8,4,Mt),new Lt(4,5,16,8,Mt),new Lt(4,6,32,32,Mt),new Lt(4,4,16,16,Pt),new Lt(8,16,32,32,Pt),new Lt(8,16,128,128,Pt),new Lt(8,32,128,256,Pt),new Lt(32,128,258,1024,Pt),new Lt(32,258,258,4096,Pt)];function It(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ht,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),yt(this.dyn_ltree),yt(this.dyn_dtree),yt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),yt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),yt(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Ft=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==mt&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==ft&&t.status!==gt?1:0},Rt=e=>{if(Ft(e))return vt(e,tt);e.total_in=e.total_out=0,e.data_type=dt;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?mt:ft,e.adler=2===t.wrap?0:1,t.last_flush=-2,Ue(t),$e},Dt=e=>{const t=Rt(e);return t===$e&&(e=>{e.window_size=2*e.w_size,yt(e.head),e.max_lazy_match=Tt[e.level].max_lazy,e.good_match=Tt[e.level].good_length,e.nice_match=Tt[e.level].nice_length,e.max_chain_length=Tt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},Bt=(e,t,n,i,a,s)=>{if(!e)return tt;let r=1;if(t===at&&(t=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),a<1||a>9||n!==ht||i<8||i>15||t<0||t>9||s<0||s>lt||8===i&&1!==r)return vt(e,tt);8===i&&(i=9);const o=new It;return e.state=o,o.strm=e,o.status=mt,o.wrap=r,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=s,o.method=n,Dt(e)};var Ot=(e,t)=>{if(Ft(e)||t>Ze||t<0)return e?vt(e,tt):tt;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===gt&&t!==Qe)return vt(e,0===e.avail_out?it:tt);const i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(Nt(e),0===e.avail_out)return n.last_flush=-1,$e}else if(0===e.avail_in&&bt(t)<=bt(i)&&t!==Qe)return vt(e,it);if(n.status===gt&&0!==e.avail_in)return vt(e,it);if(n.status===mt&&0===n.wrap&&(n.status=ft),n.status===mt){let t=ht+(n.w_bits-8<<4)<<8,i=-1;if(i=n.strategy>=rt||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=i<<6,0!==n.strstart&&(t|=32),t+=31-t%31,jt(n,t),0!==n.strstart&&(jt(n,e.adler>>>16),jt(n,65535&e.adler)),e.adler=1,n.status=ft,Nt(e),0!==n.pending)return n.last_flush=-1,$e}if(57===n.status)if(e.adler=0,kt(n,31),kt(n,139),kt(n,8),n.gzhead)kt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),kt(n,255&n.gzhead.time),kt(n,n.gzhead.time>>8&255),kt(n,n.gzhead.time>>16&255),kt(n,n.gzhead.time>>24&255),kt(n,9===n.level?2:n.strategy>=rt||n.level<2?4:0),kt(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(kt(n,255&n.gzhead.extra.length),kt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=We(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(kt(n,0),kt(n,0),kt(n,0),kt(n,0),kt(n,0),kt(n,9===n.level?2:n.strategy>=rt||n.level<2?4:0),kt(n,3),n.status=ft,Nt(e),0!==n.pending)return n.last_flush=-1,$e;if(69===n.status){if(n.gzhead.extra){let t=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=We(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=a,Nt(e),0!==n.pending)return n.last_flush=-1,$e;t=0,i-=a}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>t&&(e.adler=We(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=We(e.adler,n.pending_buf,n.pending-i,i)),Nt(e),0!==n.pending)return n.last_flush=-1,$e;i=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,kt(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>i&&(e.adler=We(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=We(e.adler,n.pending_buf,n.pending-i,i)),Nt(e),0!==n.pending)return n.last_flush=-1,$e;i=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,kt(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>i&&(e.adler=We(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Nt(e),0!==n.pending))return n.last_flush=-1,$e;kt(n,255&e.adler),kt(n,e.adler>>8&255),e.adler=0}if(n.status=ft,Nt(e),0!==n.pending)return n.last_flush=-1,$e}if(0!==e.avail_in||0!==n.lookahead||t!==Ke&&n.status!==gt){let i=0===n.level?Et(n,t):n.strategy===rt?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(St(e),0===e.lookahead)){if(t===Ke)return 1;break}if(e.match_length=0,n=Ve(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(At(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Qe?(At(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(At(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===ot?((e,t)=>{let n,i,a,s;const r=e.window;for(;;){if(e.lookahead<=ut){if(St(e),e.lookahead<=ut&&t===Ke)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(a=e.strstart-1,i=r[a],i===r[++a]&&i===r[++a]&&i===r[++a])){s=e.strstart+ut;do{}while(i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&a<s);e.match_length=ut-(s-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Ve(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Ve(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(At(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===Qe?(At(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(At(e,!1),0===e.strm.avail_out)?1:2})(n,t):Tt[n.level].func(n,t);if(3!==i&&4!==i||(n.status=gt),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),$e;if(2===i&&(t===Xe?Ye(n):t!==Ze&&(qe(n,0,0,!1),t===Je&&(yt(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Nt(e),0===e.avail_out))return n.last_flush=-1,$e}return t!==Qe?$e:n.wrap<=0?et:(2===n.wrap?(kt(n,255&e.adler),kt(n,e.adler>>8&255),kt(n,e.adler>>16&255),kt(n,e.adler>>24&255),kt(n,255&e.total_in),kt(n,e.total_in>>8&255),kt(n,e.total_in>>16&255),kt(n,e.total_in>>24&255)):(jt(n,e.adler>>>16),jt(n,65535&e.adler)),Nt(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?$e:et)},Wt=(e,t)=>{let n=t.length;if(Ft(e))return tt;const i=e.state,a=i.wrap;if(2===a||1===a&&i.status!==mt||i.lookahead)return tt;if(1===a&&(e.adler=Be(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===a&&(yt(i.head),i.strstart=0,i.block_start=0,i.insert=0);let e=new Uint8Array(i.w_size);e.set(t.subarray(n-i.w_size,n),0),t=e,n=i.w_size}const s=e.avail_in,r=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,St(i);i.lookahead>=3;){let e=i.strstart,t=i.lookahead-2;do{i.ins_h=wt(i,i.ins_h,i.window[e+3-1]),i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++}while(--t);i.strstart=e,i.lookahead=2,St(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=r,e.input=o,e.avail_in=s,i.wrap=a,$e},Ht={deflateInit:(e,t)=>Bt(e,t,ht,15,8,ct),deflateInit2:Bt,deflateReset:Dt,deflateResetKeep:Rt,deflateSetHeader:(e,t)=>Ft(e)||2!==e.state.wrap?tt:(e.state.gzhead=t,$e),deflate:Ot,deflateEnd:e=>{if(Ft(e))return tt;const t=e.state.status;return e.state=null,t===ft?vt(e,nt):$e},deflateSetDictionary:Wt,deflateInfo:"pako deflate (from Nodeca project)"};const zt=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Ut=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)zt(n,t)&&(e[t]=n[t])}}return e},qt=e=>{let t=0;for(let i=0,a=e.length;i<a;i++)t+=e[i].length;const n=new Uint8Array(t);for(let i=0,a=0,s=e.length;i<s;i++){let t=e[i];n.set(t,a),a+=t.length}return n};let Gt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(Gr){Gt=!1}const Vt=new Uint8Array(256);for(let Vr=0;Vr<256;Vr++)Vt[Vr]=Vr>=252?6:Vr>=248?5:Vr>=240?4:Vr>=224?3:Vr>=192?2:1;Vt[254]=Vt[254]=1;var Yt=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,i,a,s,r=e.length,o=0;for(a=0;a<r;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<r&&(i=e.charCodeAt(a+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),a++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,a=0;s<o;a++)n=e.charCodeAt(a),55296===(64512&n)&&a+1<r&&(i=e.charCodeAt(a+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),a++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},Kt=(e,t)=>{const n=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let i,a;const s=new Array(2*n);for(a=0,i=0;i<n;){let t=e[i++];if(t<128){s[a++]=t;continue}let r=Vt[t];if(r>4)s[a++]=65533,i+=r-1;else{for(t&=2===r?31:3===r?15:7;r>1&&i<n;)t=t<<6|63&e[i++],r--;r>1?s[a++]=65533:t<65536?s[a++]=t:(t-=65536,s[a++]=55296|t>>10&1023,s[a++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Gt)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n})(s,a)},Xt=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+Vt[e[n]]>t?n:t};var Jt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Qt=Object.prototype.toString,{Z_NO_FLUSH:Zt,Z_SYNC_FLUSH:$t,Z_FULL_FLUSH:en,Z_FINISH:tn,Z_OK:nn,Z_STREAM_END:an,Z_DEFAULT_COMPRESSION:sn,Z_DEFAULT_STRATEGY:rn,Z_DEFLATED:on}=ze;function ln(e){this.options=Ut({level:sn,method:on,chunkSize:16384,windowBits:15,memLevel:8,strategy:rn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Jt,this.strm.avail_out=0;let n=Ht.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==nn)throw new Error(He[n]);if(t.header&&Ht.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?Yt(t.dictionary):"[object ArrayBuffer]"===Qt.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Ht.deflateSetDictionary(this.strm,e),n!==nn)throw new Error(He[n]);this._dict_set=!0}}function cn(e,t){const n=new ln(t);if(n.push(e,!0),n.err)throw n.msg||He[n.err];return n.result}ln.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize;let a,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?tn:Zt,"string"===typeof e?n.input=Yt(e):"[object ArrayBuffer]"===Qt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(s===$t||s===en)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(a=Ht.deflate(n,s),a===an)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),a=Ht.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===nn;if(0!==n.avail_out){if(s>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},ln.prototype.onData=function(e){this.chunks.push(e)},ln.prototype.onEnd=function(e){e===nn&&(this.result=qt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var dn={Deflate:ln,deflate:cn,deflateRaw:function(e,t){return(t=t||{}).raw=!0,cn(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,cn(e,t)},constants:ze};const hn=16209;var un=function(e,t){let n,i,a,s,r,o,l,c,d,h,u,p,m,f,g,v,b,y,x,w,N,A,k,j;const C=e.state;n=e.next_in,k=e.input,i=n+(e.avail_in-5),a=e.next_out,j=e.output,s=a-(t-e.avail_out),r=a+(e.avail_out-257),o=C.dmax,l=C.wsize,c=C.whave,d=C.wnext,h=C.window,u=C.hold,p=C.bits,m=C.lencode,f=C.distcode,g=(1<<C.lenbits)-1,v=(1<<C.distbits)-1;e:do{p<15&&(u+=k[n++]<<p,p+=8,u+=k[n++]<<p,p+=8),b=m[u&g];t:for(;;){if(y=b>>>24,u>>>=y,p-=y,y=b>>>16&255,0===y)j[a++]=65535&b;else{if(!(16&y)){if(0===(64&y)){b=m[(65535&b)+(u&(1<<y)-1)];continue t}if(32&y){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=hn;break e}x=65535&b,y&=15,y&&(p<y&&(u+=k[n++]<<p,p+=8),x+=u&(1<<y)-1,u>>>=y,p-=y),p<15&&(u+=k[n++]<<p,p+=8,u+=k[n++]<<p,p+=8),b=f[u&v];n:for(;;){if(y=b>>>24,u>>>=y,p-=y,y=b>>>16&255,!(16&y)){if(0===(64&y)){b=f[(65535&b)+(u&(1<<y)-1)];continue n}e.msg="invalid distance code",C.mode=hn;break e}if(w=65535&b,y&=15,p<y&&(u+=k[n++]<<p,p+=8,p<y&&(u+=k[n++]<<p,p+=8)),w+=u&(1<<y)-1,w>o){e.msg="invalid distance too far back",C.mode=hn;break e}if(u>>>=y,p-=y,y=a-s,w>y){if(y=w-y,y>c&&C.sane){e.msg="invalid distance too far back",C.mode=hn;break e}if(N=0,A=h,0===d){if(N+=l-y,y<x){x-=y;do{j[a++]=h[N++]}while(--y);N=a-w,A=j}}else if(d<y){if(N+=l+d-y,y-=d,y<x){x-=y;do{j[a++]=h[N++]}while(--y);if(N=0,d<x){y=d,x-=y;do{j[a++]=h[N++]}while(--y);N=a-w,A=j}}}else if(N+=d-y,y<x){x-=y;do{j[a++]=h[N++]}while(--y);N=a-w,A=j}for(;x>2;)j[a++]=A[N++],j[a++]=A[N++],j[a++]=A[N++],x-=3;x&&(j[a++]=A[N++],x>1&&(j[a++]=A[N++]))}else{N=a-w;do{j[a++]=j[N++],j[a++]=j[N++],j[a++]=j[N++],x-=3}while(x>2);x&&(j[a++]=j[N++],x>1&&(j[a++]=j[N++]))}break}}break}}while(n<i&&a<r);x=p>>3,n-=x,p-=x<<3,u&=(1<<p)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=a<r?r-a+257:257-(a-r),C.hold=u,C.bits=p};const pn=15,mn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),fn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),gn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var bn=(e,t,n,i,a,s,r,o)=>{const l=o.bits;let c,d,h,u,p,m,f=0,g=0,v=0,b=0,y=0,x=0,w=0,N=0,A=0,k=0,j=null;const C=new Uint16Array(16),_=new Uint16Array(16);let S,E,M,P=null;for(f=0;f<=pn;f++)C[f]=0;for(g=0;g<i;g++)C[t[n+g]]++;for(y=l,b=pn;b>=1&&0===C[b];b--);if(y>b&&(y=b),0===b)return a[s++]=20971520,a[s++]=20971520,o.bits=1,0;for(v=1;v<b&&0===C[v];v++);for(y<v&&(y=v),N=1,f=1;f<=pn;f++)if(N<<=1,N-=C[f],N<0)return-1;if(N>0&&(0===e||1!==b))return-1;for(_[1]=0,f=1;f<pn;f++)_[f+1]=_[f]+C[f];for(g=0;g<i;g++)0!==t[n+g]&&(r[_[t[n+g]]++]=g);if(0===e?(j=P=r,m=20):1===e?(j=mn,P=fn,m=257):(j=gn,P=vn,m=0),k=0,g=0,f=v,p=s,x=y,w=0,h=-1,A=1<<y,u=A-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){S=f-w,r[g]+1<m?(E=0,M=r[g]):r[g]>=m?(E=P[r[g]-m],M=j[r[g]-m]):(E=96,M=0),c=1<<f-w,d=1<<x,v=d;do{d-=c,a[p+(k>>w)+d]=S<<24|E<<16|M}while(0!==d);for(c=1<<f-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,g++,0===--C[f]){if(f===b)break;f=t[n+r[g]]}if(f>y&&(k&u)!==h){for(0===w&&(w=y),p+=v,x=f-w,N=1<<x;x+w<b&&(N-=C[x+w],!(N<=0));)x++,N<<=1;if(A+=1<<x,1===e&&A>852||2===e&&A>592)return 1;h=k&u,a[h]=y<<24|x<<16|p-s}}return 0!==k&&(a[p+k]=f-w<<24|64<<16),o.bits=y,0};const{Z_FINISH:yn,Z_BLOCK:xn,Z_TREES:wn,Z_OK:Nn,Z_STREAM_END:An,Z_NEED_DICT:kn,Z_STREAM_ERROR:jn,Z_DATA_ERROR:Cn,Z_MEM_ERROR:_n,Z_BUF_ERROR:Sn,Z_DEFLATED:En}=ze,Mn=16180,Pn=16190,Ln=16191,Tn=16192,In=16194,Fn=16199,Rn=16200,Dn=16206,Bn=16209,On=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Wn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hn=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Mn||t.mode>16211?1:0},zn=e=>{if(Hn(e))return jn;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Mn,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Nn},Un=e=>{if(Hn(e))return jn;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,zn(e)},qn=(e,t)=>{let n;if(Hn(e))return jn;const i=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?jn:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Un(e))},Gn=(e,t)=>{if(!e)return jn;const n=new Wn;e.state=n,n.strm=e,n.window=null,n.mode=Mn;const i=qn(e,t);return i!==Nn&&(e.state=null),i};let Vn,Yn,Kn=!0;const Xn=e=>{if(Kn){Vn=new Int32Array(512),Yn=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(bn(1,e.lens,0,288,Vn,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;bn(2,e.lens,0,32,Yn,0,e.work,{bits:5}),Kn=!1}e.lencode=Vn,e.lenbits=9,e.distcode=Yn,e.distbits=5},Jn=(e,t,n,i)=>{let a;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>i&&(a=i),s.window.set(t.subarray(n-i,n-i+a),s.wnext),(i-=a)?(s.window.set(t.subarray(n-i,n),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0};var Qn=(e,t)=>{let n,i,a,s,r,o,l,c,d,h,u,p,m,f,g,v,b,y,x,w,N,A,k=0;const j=new Uint8Array(4);let C,_;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hn(e)||!e.output||!e.input&&0!==e.avail_in)return jn;n=e.state,n.mode===Ln&&(n.mode=Tn),r=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,i=e.input,o=e.avail_in,c=n.hold,d=n.bits,h=o,u=l,A=Nn;e:for(;;)switch(n.mode){case Mn:if(0===n.wrap){n.mode=Tn;break}for(;d<16;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,j[0]=255&c,j[1]=c>>>8&255,n.check=We(n.check,j,2,0),c=0,d=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Bn;break}if((15&c)!==En){e.msg="unknown compression method",n.mode=Bn;break}if(c>>>=4,d-=4,N=8+(15&c),0===n.wbits&&(n.wbits=N),N>15||N>n.wbits){e.msg="invalid window size",n.mode=Bn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:Ln,c=0,d=0;break;case 16181:for(;d<16;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}if(n.flags=c,(255&n.flags)!==En){e.msg="unknown compression method",n.mode=Bn;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Bn;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(j[0]=255&c,j[1]=c>>>8&255,n.check=We(n.check,j,2,0)),c=0,d=0,n.mode=16182;case 16182:for(;d<32;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(j[0]=255&c,j[1]=c>>>8&255,j[2]=c>>>16&255,j[3]=c>>>24&255,n.check=We(n.check,j,4,0)),c=0,d=0,n.mode=16183;case 16183:for(;d<16;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(j[0]=255&c,j[1]=c>>>8&255,n.check=We(n.check,j,2,0)),c=0,d=0,n.mode=16184;case 16184:if(1024&n.flags){for(;d<16;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(j[0]=255&c,j[1]=c>>>8&255,n.check=We(n.check,j,2,0)),c=0,d=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(p=n.length,p>o&&(p=o),p&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(s,s+p),N)),512&n.flags&&4&n.wrap&&(n.check=We(n.check,i,p,s)),o-=p,s+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;p=0;do{N=i[s+p++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N))}while(N&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=We(n.check,i,p,s)),o-=p,s+=p,N)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;p=0;do{N=i[s+p++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N))}while(N&&p<o);if(512&n.flags&&4&n.wrap&&(n.check=We(n.check,i,p,s)),o-=p,s+=p,N)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;d<16;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Bn;break}c=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Ln;break;case 16189:for(;d<32;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}e.adler=n.check=On(c),c=0,d=0,n.mode=Pn;case Pn:if(0===n.havedict)return e.next_out=r,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=d,kn;e.adler=n.check=1,n.mode=Ln;case Ln:if(t===xn||t===wn)break e;case Tn:if(n.last){c>>>=7&d,d-=7&d,n.mode=Dn;break}for(;d<3;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}switch(n.last=1&c,c>>>=1,d-=1,3&c){case 0:n.mode=16193;break;case 1:if(Xn(n),n.mode=Fn,t===wn){c>>>=2,d-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Bn}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Bn;break}if(n.length=65535&c,c=0,d=0,n.mode=In,t===wn)break e;case In:n.mode=16195;case 16195:if(p=n.length,p){if(p>o&&(p=o),p>l&&(p=l),0===p)break e;a.set(i.subarray(s,s+p),r),o-=p,s+=p,l-=p,r+=p,n.length-=p;break}n.mode=Ln;break;case 16196:for(;d<14;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}if(n.nlen=257+(31&c),c>>>=5,d-=5,n.ndist=1+(31&c),c>>>=5,d-=5,n.ncode=4+(15&c),c>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Bn;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;d<3;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}n.lens[S[n.have++]]=7&c,c>>>=3,d-=3}for(;n.have<19;)n.lens[S[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},A=bn(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,A){e.msg="invalid code lengths set",n.mode=Bn;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,v=k>>>16&255,b=65535&k,!(g<=d);){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}if(b<16)c>>>=g,d-=g,n.lens[n.have++]=b;else{if(16===b){for(_=g+2;d<_;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}if(c>>>=g,d-=g,0===n.have){e.msg="invalid bit length repeat",n.mode=Bn;break}N=n.lens[n.have-1],p=3+(3&c),c>>>=2,d-=2}else if(17===b){for(_=g+3;d<_;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}c>>>=g,d-=g,N=0,p=3+(7&c),c>>>=3,d-=3}else{for(_=g+7;d<_;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}c>>>=g,d-=g,N=0,p=11+(127&c),c>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Bn;break}for(;p--;)n.lens[n.have++]=N}}if(n.mode===Bn)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Bn;break}if(n.lenbits=9,C={bits:n.lenbits},A=bn(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,A){e.msg="invalid literal/lengths set",n.mode=Bn;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},A=bn(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,A){e.msg="invalid distances set",n.mode=Bn;break}if(n.mode=Fn,t===wn)break e;case Fn:n.mode=Rn;case Rn:if(o>=6&&l>=258){e.next_out=r,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=d,un(e,u),r=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,i=e.input,o=e.avail_in,c=n.hold,d=n.bits,n.mode===Ln&&(n.back=-1);break}for(n.back=0;k=n.lencode[c&(1<<n.lenbits)-1],g=k>>>24,v=k>>>16&255,b=65535&k,!(g<=d);){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}if(v&&0===(240&v)){for(y=g,x=v,w=b;k=n.lencode[w+((c&(1<<y+x)-1)>>y)],g=k>>>24,v=k>>>16&255,b=65535&k,!(y+g<=d);){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,n.length=b,0===v){n.mode=16205;break}if(32&v){n.back=-1,n.mode=Ln;break}if(64&v){e.msg="invalid literal/length code",n.mode=Bn;break}n.extra=15&v,n.mode=16201;case 16201:if(n.extra){for(_=n.extra;d<_;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;k=n.distcode[c&(1<<n.distbits)-1],g=k>>>24,v=k>>>16&255,b=65535&k,!(g<=d);){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}if(0===(240&v)){for(y=g,x=v,w=b;k=n.distcode[w+((c&(1<<y+x)-1)>>y)],g=k>>>24,v=k>>>16&255,b=65535&k,!(y+g<=d);){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}c>>>=y,d-=y,n.back+=y}if(c>>>=g,d-=g,n.back+=g,64&v){e.msg="invalid distance code",n.mode=Bn;break}n.offset=b,n.extra=15&v,n.mode=16203;case 16203:if(n.extra){for(_=n.extra;d<_;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Bn;break}n.mode=16204;case 16204:if(0===l)break e;if(p=u-l,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Bn;break}p>n.wnext?(p-=n.wnext,m=n.wsize-p):m=n.wnext-p,p>n.length&&(p=n.length),f=n.window}else f=a,m=r-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do{a[r++]=f[m++]}while(--p);0===n.length&&(n.mode=Rn);break;case 16205:if(0===l)break e;a[r++]=n.length,l--,n.mode=Rn;break;case Dn:if(n.wrap){for(;d<32;){if(0===o)break e;o--,c|=i[s++]<<d,d+=8}if(u-=l,e.total_out+=u,n.total+=u,4&n.wrap&&u&&(e.adler=n.check=n.flags?We(n.check,a,u,r-u):Be(n.check,a,u,r-u)),u=l,4&n.wrap&&(n.flags?c:On(c))!==n.check){e.msg="incorrect data check",n.mode=Bn;break}c=0,d=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;d<32;){if(0===o)break e;o--,c+=i[s++]<<d,d+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Bn;break}c=0,d=0}n.mode=16208;case 16208:A=An;break e;case Bn:A=Cn;break e;case 16210:return _n;default:return jn}return e.next_out=r,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=d,(n.wsize||u!==e.avail_out&&n.mode<Bn&&(n.mode<Dn||t!==yn))&&Jn(e,e.output,e.next_out,u-e.avail_out),h-=e.avail_in,u-=e.avail_out,e.total_in+=h,e.total_out+=u,n.total+=u,4&n.wrap&&u&&(e.adler=n.check=n.flags?We(n.check,a,u,e.next_out-u):Be(n.check,a,u,e.next_out-u)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Ln?128:0)+(n.mode===Fn||n.mode===In?256:0),(0===h&&0===u||t===yn)&&A===Nn&&(A=Sn),A},Zn={inflateReset:Un,inflateReset2:qn,inflateResetKeep:zn,inflateInit:e=>Gn(e,15),inflateInit2:Gn,inflate:Qn,inflateEnd:e=>{if(Hn(e))return jn;let t=e.state;return t.window&&(t.window=null),e.state=null,Nn},inflateGetHeader:(e,t)=>{if(Hn(e))return jn;const n=e.state;return 0===(2&n.wrap)?jn:(n.head=t,t.done=!1,Nn)},inflateSetDictionary:(e,t)=>{const n=t.length;let i,a,s;return Hn(e)?jn:(i=e.state,0!==i.wrap&&i.mode!==Pn?jn:i.mode===Pn&&(a=1,a=Be(a,t,n,0),a!==i.check)?Cn:(s=Jn(e,t,n,n),s?(i.mode=16210,_n):(i.havedict=1,Nn)))},inflateInfo:"pako inflate (from Nodeca project)"};var $n=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ei=Object.prototype.toString,{Z_NO_FLUSH:ti,Z_FINISH:ni,Z_OK:ii,Z_STREAM_END:ai,Z_NEED_DICT:si,Z_STREAM_ERROR:ri,Z_DATA_ERROR:oi,Z_MEM_ERROR:li}=ze;function ci(e){this.options=Ut({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Jt,this.strm.avail_out=0;let n=Zn.inflateInit2(this.strm,t.windowBits);if(n!==ii)throw new Error(He[n]);if(this.header=new $n,Zn.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Yt(t.dictionary):"[object ArrayBuffer]"===ei.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Zn.inflateSetDictionary(this.strm,t.dictionary),n!==ii)))throw new Error(He[n])}function di(e,t){const n=new ci(t);if(n.push(e),n.err)throw n.msg||He[n.err];return n.result}ci.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,a=this.options.dictionary;let s,r,o;if(this.ended)return!1;for(r=t===~~t?t:!0===t?ni:ti,"[object ArrayBuffer]"===ei.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),s=Zn.inflate(n,r),s===si&&a&&(s=Zn.inflateSetDictionary(n,a),s===ii?s=Zn.inflate(n,r):s===oi&&(s=si));n.avail_in>0&&s===ai&&n.state.wrap>0&&0!==e[n.next_in];)Zn.inflateReset(n),s=Zn.inflate(n,r);switch(s){case ri:case oi:case si:case li:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||s===ai))if("string"===this.options.to){let e=Xt(n.output,n.next_out),t=n.next_out-e,a=Kt(n.output,e);n.next_out=t,n.avail_out=i-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(a)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==ii||0!==o){if(s===ai)return s=Zn.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},ci.prototype.onData=function(e){this.chunks.push(e)},ci.prototype.onEnd=function(e){e===ii&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=qt(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var hi={Inflate:ci,inflate:di,inflateRaw:function(e,t){return(t=t||{}).raw=!0,di(e,t)},ungzip:di,constants:ze};const{Deflate:ui,deflate:pi,deflateRaw:mi,gzip:fi}=dn,{Inflate:gi,inflate:vi,inflateRaw:bi,ungzip:yi}=hi;var xi=gi,wi=vi;const Ni=[];for(let Vr=0;Vr<256;Vr++){let e=Vr;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;Ni[Vr]=e}const Ai=4294967295;function ki(e,t){return(function(e,t,n){let i=e;for(let a=0;a<n;a++)i=Ni[255&(i^t[a])]^i>>>8;return i}(Ai,e,t)^Ai)>>>0}function ji(e,t,n){const i=e.readUint32(),a=ki(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==i)throw new Error("CRC mismatch for chunk ".concat(n,". Expected ").concat(i,", found ").concat(a))}function Ci(e,t,n){for(let i=0;i<n;i++)t[i]=e[i]}function _i(e,t,n,i){let a=0;for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}function Si(e,t,n,i){let a=0;if(0===n.length)for(;a<i;a++)t[a]=e[a];else for(;a<i;a++)t[a]=e[a]+n[a]&255}function Ei(e,t,n,i,a){let s=0;if(0===n.length){for(;s<a;s++)t[s]=e[s];for(;s<i;s++)t[s]=e[s]+(t[s-a]>>1)&255}else{for(;s<a;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<i;s++)t[s]=e[s]+(t[s-a]+n[s]>>1)&255}}function Mi(e,t,n,i,a){let s=0;if(0===n.length){for(;s<a;s++)t[s]=e[s];for(;s<i;s++)t[s]=e[s]+t[s-a]&255}else{for(;s<a;s++)t[s]=e[s]+n[s]&255;for(;s<i;s++)t[s]=e[s]+Pi(t[s-a],n[s],n[s-a])&255}}function Pi(e,t,n){const i=e+t-n,a=Math.abs(i-e),s=Math.abs(i-t),r=Math.abs(i-n);return a<=s&&a<=r?e:s<=r?t:n}function Li(e,t,n,i,a,s){switch(e){case 0:Ci(t,n,a);break;case 1:_i(t,n,a,s);break;case 2:Si(t,n,i,a);break;case 3:Ei(t,n,i,a,s);break;case 4:Mi(t,n,i,a,s);break;default:throw new Error("Unsupported filter: ".concat(e))}}const Ti=new Uint16Array([255]),Ii=255===new Uint8Array(Ti.buffer)[0];function Fi(e){return(255&e)<<8|e>>8&255}const Ri=new Uint16Array([255]),Di=255===new Uint8Array(Ri.buffer)[0],Bi=new Uint8Array(0);function Oi(e){const{data:t,width:n,height:i,channels:a,depth:s}=e,r=Math.ceil(s/8)*a,o=Math.ceil(s/8*a*n),l=new Uint8Array(i*o);let c,d,h=Bi,u=0;for(let p=0;p<i;p++){switch(c=t.subarray(u+1,u+1+o),d=l.subarray(p*o,(p+1)*o),t[u]){case 0:Ci(c,d,o);break;case 1:_i(c,d,o,r);break;case 2:Si(c,d,h,o);break;case 3:Ei(c,d,h,o,r);break;case 4:Mi(c,d,h,o,r);break;default:throw new Error("Unsupported filter: ".concat(t[u]))}h=d,u+=o+1}if(16===s){const e=new Uint16Array(l.buffer);if(Di)for(let t=0;t<e.length;t++)e[t]=Wi(e[t]);return e}return l}function Wi(e){return(255&e)<<8|e>>8&255}const Hi=Uint8Array.of(137,80,78,71,13,10,26,10);function zi(e){if(!function(e){if(e.length<Hi.length)return!1;for(let t=0;t<Hi.length;t++)if(e[t]!==Hi[t])return!1;return!0}(e.readBytes(Hi.length)))throw new Error("wrong PNG signature")}const Ui="tEXt",qi=new TextDecoder("latin1");function Gi(e){if(Yi(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const Vi=/^[\u0000-\u00FF]*$/;function Yi(e){if(!Vi.test(e))throw new Error("invalid latin1 text")}function Ki(e,t,n){const i=Xi(t);e[i]=function(e,t){return qi.decode(e.readBytes(t))}(t,n-i.length-1)}function Xi(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const n=qi.decode(e.readBytes(t-e.offset-1));return e.skip(1),Gi(n),n}const Ji=-1,Qi=0,Zi=2,$i=3,ea=4,ta=6,na=-1,ia=0,aa=-1,sa=0,ra=-1,oa=0,la=1,ca=0,da=1,ha=2,ua=0,pa=1;class ma extends J{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),(0,G.A)(this,"_checkCrc",void 0),(0,G.A)(this,"_inflator",void 0),(0,G.A)(this,"_png",void 0),(0,G.A)(this,"_apng",void 0),(0,G.A)(this,"_end",void 0),(0,G.A)(this,"_hasPalette",void 0),(0,G.A)(this,"_palette",void 0),(0,G.A)(this,"_hasTransparency",void 0),(0,G.A)(this,"_transparency",void 0),(0,G.A)(this,"_compressionMethod",void 0),(0,G.A)(this,"_filterMethod",void 0),(0,G.A)(this,"_interlaceMethod",void 0),(0,G.A)(this,"_colorType",void 0),(0,G.A)(this,"_isAnimated",void 0),(0,G.A)(this,"_numberOfFrames",void 0),(0,G.A)(this,"_numberOfPlays",void 0),(0,G.A)(this,"_frames",void 0),(0,G.A)(this,"_writingDataChunks",void 0);const{checkCrc:n=!1}=t;this._checkCrc=n,this._inflator=new xi,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=na,this._filterMethod=aa,this._interlaceMethod=ra,this._colorType=Ji,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(zi(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(zi(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const n=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case Ui:Ki(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?ji(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const n=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=n+e}if(this.offset-n!==e)throw new Error("Length mismatch while decoding chunk ".concat(t));this._checkCrc?ji(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error("invalid bit depth: ".concat(e));return e}(this.readUint8());const t=this.readUint8();let n;switch(this._colorType=t,t){case Qi:n=1;break;case Zi:n=3;break;case $i:n=1;break;case ea:n=2;break;case ta:n=4;break;default:throw new Error("Unknown color type: ".concat(t))}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==ia)throw new Error("Unsupported compression method: ".concat(this._compressionMethod));this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError("PLTE field length must be a multiple of 3. Got ".concat(e));const t=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<t;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,n=this.offset+this.byteOffset;if(n+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,n,t)),this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));this.skip(e)}decodetRNS(e){switch(this._colorType){case Qi:case Zi:if(e%2!==0)throw new RangeError("tRNS chunk length must be a multiple of 2. Got ".concat(e));if(e/2>this._png.width*this._png.height)throw new Error("tRNS chunk contains more alpha values than there are pixels (".concat(e/2," vs ").concat(this._png.width*this._png.height,")"));this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case $i:{if(e>this._palette.length)throw new Error("tRNS chunk contains more alpha values than there are palette colors (".concat(e," vs ").concat(this._palette.length,")"));let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error("tRNS chunk is not supported for color type ".concat(this._colorType))}}decodeiCCP(e){const t=Xi(this),n=this.readUint8();if(n!==ia)throw new Error("Unsupported iCCP compression method: ".concat(n));const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:wi(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:t,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=Oi({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===n.xOffset&&0===n.yOffset&&n.width===this._png.width&&n.height===this._png.height)t.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,t),this.addFrameDataToCanvas(t,n)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,n){switch(e.disposeOp){case ca:break;case da:for(let t=0;t<this._png.height;t++)for(let i=0;i<this._png.width;i++){const a=(t*e.width+i)*this._png.channels;for(let e=0;e<this._png.channels;e++)n.data[a+e]=0}break;case ha:n.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const n=1<<this._png.depth,i=(e,n)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+n)*this._png.channels,frameIndex:(e*t.width+n)*this._png.channels});switch(t.blendOp){case ua:for(let n=0;n<t.height;n++)for(let a=0;a<t.width;a++){const{index:s,frameIndex:r}=i(n,a);for(let n=0;n<this._png.channels;n++)e.data[s+n]=t.data[r+n]}break;case pa:for(let a=0;a<t.height;a++)for(let s=0;s<t.width;s++){const{index:r,frameIndex:o}=i(a,s);for(let i=0;i<this._png.channels;i++){const a=t.data[o+this._png.channels-1]/n,s=i%(this._png.channels-1)===0?1:t.data[o+i],l=Math.floor(a*s+(1-a)*e.data[r+i]);e.data[r+i]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var e;if(this._inflator.err)throw new Error("Error while decompressing the data: ".concat(this._inflator.err));const t=this._isAnimated?(null===(e=this._frames)||void 0===e?void 0:e.at(0)).data:this._inflator.result;if(this._filterMethod!==sa)throw new Error("Filter method ".concat(this._filterMethod," not supported"));if(this._interlaceMethod===oa)this._png.data=Oi({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==la)throw new Error("Interlace method ".concat(this._interlaceMethod," not supported"));this._png.data=function(e){const{data:t,width:n,height:i,channels:a,depth:s}=e,r=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*a,l=new Uint8Array(i*n*o);let c=0;for(let d=0;d<7;d++){const e=r[d],a=Math.ceil((n-e.x)/e.xStep),s=Math.ceil((i-e.y)/e.yStep);if(a<=0||s<=0)continue;const h=a*o,u=new Uint8Array(h);for(let r=0;r<s;r++){const s=t[c++],d=t.subarray(c,c+h);c+=h;const p=new Uint8Array(h);Li(s,d,p,u,h,o),u.set(p);for(let t=0;t<a;t++){const a=e.x+t*e.xStep,s=e.y+r*e.yStep;if(!(a>=n||s>=i))for(let e=0;e<o;e++)l[(s*n+a)*o+e]=p[t*o+e]}}}if(16===s){const e=new Uint16Array(l.buffer);if(Ii)for(let t=0;t<e.length;t++)e[t]=Fi(e[t]);return e}return l}({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:ca,blendOp:ua,data:e}),this._inflator=new xi,this._writingDataChunks=!1}}n(9379);var fa;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(fa||(fa={}));var ga=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function va(){ga.console&&"function"==typeof ga.console.log&&ga.console.log.apply(ga.console,arguments)}var ba={log:va,warn:function(e){ga.console&&("function"==typeof ga.console.warn?ga.console.warn.apply(ga.console,arguments):va.call(null,arguments))},error:function(e){ga.console&&("function"==typeof ga.console.error?ga.console.error.apply(ga.console,arguments):va(e))}};function ya(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){Na(i.response,t,n)},i.onerror=function(){ba.error("could not download file")},i.send()}function xa(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(n){}return t.status>=200&&t.status<=299}function wa(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Na=ga.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,i.A)(window))||window!==ga?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=ga.URL||ga.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener","string"==typeof e?(a.href=e,a.origin!==location.origin?xa(a.href)?ya(e,t,n):wa(a,a.target="_blank"):wa(a)):(a.href=i.createObjectURL(e),setTimeout(function(){i.revokeObjectURL(a.href)},4e4),setTimeout(function(){wa(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(xa(e))ya(e,t,n);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout(function(){wa(a)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,i.A)(t)&&(ba.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return ya(e,t,n);var s="application/octet-stream"===e.type,r=/constructor/i.test(ga.HTMLElement)||ga.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&r)&&"object"===("undefined"==typeof FileReader?"undefined":(0,i.A)(FileReader))){var l=new FileReader;l.onloadend=function(){var e=l.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},l.readAsDataURL(e)}else{var c=ga.URL||ga.webkitURL,d=c.createObjectURL(e);a?a.location=d:location.href=d,a=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});function Aa(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],i=0;i<n.length;i++){var a=n[i].re,s=n[i].process,r=a.exec(e);r&&(t=s(r),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}var ka=ga.atob.bind(ga),ja=ga.btoa.bind(ga);function Ca(e,t){var n=e[0],i=e[1],a=e[2],s=e[3];n=Sa(n,i,a,s,t[0],7,-680876936),s=Sa(s,n,i,a,t[1],12,-389564586),a=Sa(a,s,n,i,t[2],17,606105819),i=Sa(i,a,s,n,t[3],22,-1044525330),n=Sa(n,i,a,s,t[4],7,-176418897),s=Sa(s,n,i,a,t[5],12,1200080426),a=Sa(a,s,n,i,t[6],17,-1473231341),i=Sa(i,a,s,n,t[7],22,-45705983),n=Sa(n,i,a,s,t[8],7,1770035416),s=Sa(s,n,i,a,t[9],12,-1958414417),a=Sa(a,s,n,i,t[10],17,-42063),i=Sa(i,a,s,n,t[11],22,-1990404162),n=Sa(n,i,a,s,t[12],7,1804603682),s=Sa(s,n,i,a,t[13],12,-40341101),a=Sa(a,s,n,i,t[14],17,-1502002290),n=Ea(n,i=Sa(i,a,s,n,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Ea(s,n,i,a,t[6],9,-1069501632),a=Ea(a,s,n,i,t[11],14,643717713),i=Ea(i,a,s,n,t[0],20,-373897302),n=Ea(n,i,a,s,t[5],5,-701558691),s=Ea(s,n,i,a,t[10],9,38016083),a=Ea(a,s,n,i,t[15],14,-660478335),i=Ea(i,a,s,n,t[4],20,-405537848),n=Ea(n,i,a,s,t[9],5,568446438),s=Ea(s,n,i,a,t[14],9,-1019803690),a=Ea(a,s,n,i,t[3],14,-187363961),i=Ea(i,a,s,n,t[8],20,1163531501),n=Ea(n,i,a,s,t[13],5,-1444681467),s=Ea(s,n,i,a,t[2],9,-51403784),a=Ea(a,s,n,i,t[7],14,1735328473),n=Ma(n,i=Ea(i,a,s,n,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Ma(s,n,i,a,t[8],11,-2022574463),a=Ma(a,s,n,i,t[11],16,1839030562),i=Ma(i,a,s,n,t[14],23,-35309556),n=Ma(n,i,a,s,t[1],4,-1530992060),s=Ma(s,n,i,a,t[4],11,1272893353),a=Ma(a,s,n,i,t[7],16,-155497632),i=Ma(i,a,s,n,t[10],23,-1094730640),n=Ma(n,i,a,s,t[13],4,681279174),s=Ma(s,n,i,a,t[0],11,-358537222),a=Ma(a,s,n,i,t[3],16,-722521979),i=Ma(i,a,s,n,t[6],23,76029189),n=Ma(n,i,a,s,t[9],4,-640364487),s=Ma(s,n,i,a,t[12],11,-421815835),a=Ma(a,s,n,i,t[15],16,530742520),n=Pa(n,i=Ma(i,a,s,n,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Pa(s,n,i,a,t[7],10,1126891415),a=Pa(a,s,n,i,t[14],15,-1416354905),i=Pa(i,a,s,n,t[5],21,-57434055),n=Pa(n,i,a,s,t[12],6,1700485571),s=Pa(s,n,i,a,t[3],10,-1894986606),a=Pa(a,s,n,i,t[10],15,-1051523),i=Pa(i,a,s,n,t[1],21,-2054922799),n=Pa(n,i,a,s,t[8],6,1873313359),s=Pa(s,n,i,a,t[15],10,-30611744),a=Pa(a,s,n,i,t[6],15,-1560198380),i=Pa(i,a,s,n,t[13],21,1309151649),n=Pa(n,i,a,s,t[4],6,-145523070),s=Pa(s,n,i,a,t[11],10,-1120210379),a=Pa(a,s,n,i,t[2],15,718787259),i=Pa(i,a,s,n,t[9],21,-343485551),e[0]=Oa(n,e[0]),e[1]=Oa(i,e[1]),e[2]=Oa(a,e[2]),e[3]=Oa(s,e[3])}function _a(e,t,n,i,a,s){return t=Oa(Oa(t,e),Oa(i,s)),Oa(t<<a|t>>>32-a,n)}function Sa(e,t,n,i,a,s,r){return _a(t&n|~t&i,e,t,a,s,r)}function Ea(e,t,n,i,a,s,r){return _a(t&i|n&~i,e,t,a,s,r)}function Ma(e,t,n,i,a,s,r){return _a(t^n^i,e,t,a,s,r)}function Pa(e,t,n,i,a,s,r){return _a(n^(t|~i),e,t,a,s,r)}function La(e){var t,n=e.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ca(i,Ta(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Ca(i,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,Ca(i,a),i}function Ta(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var Ia="0123456789abcdef".split("");function Fa(e){for(var t="",n=0;n<4;n++)t+=Ia[e>>8*n+4&15]+Ia[e>>8*n&15];return t}function Ra(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Da(e){return La(e).map(Ra).join("")}var Ba="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=Fa(e[t]);return e.join("")}(La("hello"));function Oa(e,t){if(Ba){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Wa(e,t){var n,i,a,s;if(e!==n){for(var r=(a=e,s=1+(256/e.length|0),new Array(s+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+r.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=e,i=o}else o=i;var h=t.length,u=0,p=0,m="";for(l=0;l<h;l++)p=(p+(d=o[u=(u+1)%256]))%256,o[u]=o[p],o[p]=d,r=o[(o[u]+o[p])%256],m+=String.fromCharCode(t.charCodeAt(l)^r);return m}var Ha={print:4,modify:8,copy:16,"annot-forms":32};function za(e,t,n,i){this.v=1,this.r=2;var a=192;e.forEach(function(e){if(void 0!==Ha.perm)throw new Error("Invalid permission: "+e);a+=Ha[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(t+this.padding).substr(0,32),r=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,r),this.P=-(1+(255^a)),this.encryptionKey=Da(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=Wa(this.encryptionKey,this.padding)}function Ua(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,i=0;i<n;i++){var a=e.charCodeAt(i);t+=a<33||35===a||37===a||40===a||41===a||47===a||60===a||62===a||91===a||93===a||123===a||125===a||a>126?"#"+("0"+a.toString(16)).slice(-2):e[i]}return t}function qa(e){if("object"!==(0,i.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,i){if(i=i||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof i)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var a=Math.random().toString(35);return t[e][a]=[n,!!i],a},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[n]){var r=t[n][s];try{r[0].apply(e,i)}catch(wa){ga.console&&ba.error("jsPDF PubSub Error",wa.message,wa)}r[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ga(e){if(!(this instanceof Ga))return new Ga(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Va(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ya(e,t,n,i,a){if(!(this instanceof Ya))return new Ya(e,t,n,i,a);this.type="axial"===e?2:3,this.coords=t,this.colors=n,Va.call(this,i,a)}function Ka(e,t,n,i,a){if(!(this instanceof Ka))return new Ka(e,t,n,i,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Va.call(this,i,a)}function Xa(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",a=arguments[1],s=arguments[2],r=arguments[3],o=[],l=1,c=16,d="S",h=null;"object"===(0,i.A)(e=e||{})&&(n=e.orientation,a=e.unit||a,s=e.format||s,r=e.compress||e.compressPdf||r,null!==(h=e.encryption||null)&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),l="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(!0===r?["FlateEncode"]:o),a=a||"mm",n=(""+(n||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=qa;var f="1.3",g=m.__private__.getPdfVersion=function(){return f};m.__private__.setPdfVersion=function(e){f=e};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return v};var b=m.__private__.getPageFormat=function(e){return v[e]};s=s||"a4";var y="compat",x="advanced",w=y;function N(){this.saveGraphicsState(),Z(new Le(pe,0,0,-pe,0,dn()*pe).toString()+" cm"),this.setFontSize(this.getFontSize()/pe),d="n",w=x}function A(){this.restoreGraphicsState(),d="S",w=y}var k=m.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};m.advancedAPI=function(e){var t=w===y;return t&&N.call(this),"function"!=typeof e||(e(this),t&&A.call(this)),this},m.compatAPI=function(e){var t=w===x;return t&&A.call(this),"function"!=typeof e||(e(this),t&&N.call(this)),this},m.isAdvancedAPI=function(){return w===x};var j,C=function(e){if(w!==x)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},_=m.roundToPrecision=m.__private__.roundToPrecision=function(e,n){var i=t||n;if(isNaN(e)||isNaN(i))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(i).replace(/0+$/,"")};j=m.hpf=m.__private__.hpf="number"==typeof c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return _(e,c)}:"smart"===c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return _(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return _(e,16)};var S=m.f2=m.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return _(e,2)},E=m.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return _(e,3)},M=m.scale=m.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return w===y?e*pe:w===x?e:void 0},P=function(e){return M(function(e){return w===y?dn()-e:w===x?e:void 0}(e))};m.__private__.setPrecision=m.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var L,T="00000000000000000000000000000000",I=m.__private__.getFileId=function(){return T},F=m.__private__.setFileId=function(e){return T=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():T.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==h&&(yt=new za(h.userPermissions,h.userPassword,h.ownerPassword,T)),T};m.setFileId=function(e){return F(e),this},m.getFileId=function(){return I()};var R=m.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",i=Math.floor(Math.abs(t/60)),a=Math.abs(t%60),s=[n,H(i),"'",H(a),"'"].join("");return["D:",e.getFullYear(),H(e.getMonth()+1),H(e.getDate()),H(e.getHours()),H(e.getMinutes()),H(e.getSeconds()),s].join("")},D=m.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,i=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),r=parseInt(e.substr(14,2),10);return new Date(t,n,i,a,s,r,0)},B=m.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=R(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return L=t},O=m.__private__.getCreationDate=function(e){var t=L;return"jsDate"===e&&(t=D(L)),t};m.setCreationDate=function(e){return B(e),this},m.getCreationDate=function(e){return O(e)};var W,H=m.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},z=m.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},U=0,q=[],G=[],V=0,Y=[],K=[],X=!1,J=G;m.__private__.setCustomOutputDestination=function(e){X=!0,J=e};var Q=function(e){X||(J=e)};m.__private__.resetCustomOutputDestination=function(){X=!1,J=G};var Z=m.__private__.out=function(e){return e=e.toString(),V+=e.length+1,J.push(e),J},$=m.__private__.write=function(e){return Z(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},ee=m.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n);t--;)i[t]=e.charCodeAt(t);return n},te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return te};var ne=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(e){return ne=w===x?e/pe:e,this};var ie,ae=m.__private__.getFontSize=m.getFontSize=function(){return w===y?ne:ne*pe},se=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(e){return se=e,this},m.__private__.getR2L=m.getR2L=function(){return se};var re,oe=m.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ie=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ie=e}else ie=parseInt(e,10)};m.__private__.getZoomMode=function(){return ie};var le,ce=m.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');re=e};m.__private__.getPageMode=function(){return re};var de=m.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');le=e};m.__private__.getLayoutMode=function(){return le},m.__private__.setDisplayMode=m.setDisplayMode=function(e,t,n){return oe(e),de(t),ce(n),this};var he={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(e){if(-1===Object.keys(he).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return he[e]},m.__private__.getDocumentProperties=function(){return he},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(e){for(var t in he)he.hasOwnProperty(t)&&e[t]&&(he[t]=e[t]);return this},m.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(he).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return he[e]=t};var ue,pe,me,fe,ge,ve={},be={},ye=[],xe={},we={},Ne={},Ae={},ke=null,je=0,Ce=[],_e=new qa(m),Se=e.hotfixes||[],Ee={},Me={},Pe=[],Le=function e(t,n,i,a,s,r){if(!(this instanceof e))return new e(t,n,i,a,s,r);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(i)&&(i=0),isNaN(a)&&(a=1),isNaN(s)&&(s=0),isNaN(r)&&(r=0),this._matrix=[t,n,i,a,s,r]};Object.defineProperty(Le.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Le.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Le.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Le.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Le.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Le.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Le.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Le.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Le.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Le.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Le.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Le.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Le.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Le.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Le.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Le.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Le.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(j).join(e)},Le.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,i=e.shx*this.sx+e.sy*this.shx,a=e.shx*this.shy+e.sy*this.sy,s=e.tx*this.sx+e.ty*this.shx+this.tx,r=e.tx*this.shy+e.ty*this.sy+this.ty;return new Le(t,n,i,a,s,r)},Le.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,i=this.sy,a=this.tx,s=this.ty,r=Math.sqrt(e*e+t*t),o=(e/=r)*n+(t/=r)*i;n-=e*o,i-=t*o;var l=Math.sqrt(n*n+i*i);return o/=l,e*(i/=l)<t*(n/=l)&&(e=-e,t=-t,o=-o,r=-r),{scale:new Le(r,0,0,l,0,0),translate:new Le(1,0,0,1,a,s),rotate:new Le(e,t,-t,e,0,0),skew:new Le(1,0,o,1,0,0)}},Le.prototype.toString=function(e){return this.join(" ")},Le.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,i=this.sy,a=this.tx,s=this.ty,r=1/(e*i-t*n),o=i*r,l=-t*r,c=-n*r,d=e*r;return new Le(o,l,c,d,-o*a-c*s,-l*a-d*s)},Le.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new nn(t,n)},Le.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new nn(e.x+e.w,e.y+e.h));return new an(t.x,t.y,n.x-t.x,n.y-t.y)},Le.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,i=this.sy,a=this.tx,s=this.ty;return new Le(e,t,n,i,a,s)},m.Matrix=Le;var Te=m.matrixMult=function(e,t){return t.multiply(e)},Ie=new Le(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Ie;var Fe=function(e,t){if(!we[e]){var n=(t instanceof Ya?"Sh":"P")+(Object.keys(xe).length+1).toString(10);t.id=n,we[e]=n,xe[n]=t,_e.publish("addPattern",t)}};m.ShadingPattern=Ya,m.TilingPattern=Ka,m.addShadingPattern=function(e,t){return C("addShadingPattern()"),Fe(e,t),this},m.beginTilingPattern=function(e){C("beginTilingPattern()"),rn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},m.endTilingPattern=function(e,t){C("endTilingPattern()"),t.stream=K[W].join("\n"),Fe(e,t),_e.publish("endTilingPattern",t),Pe.pop().restore()};var Re,De=m.__private__.newObject=function(){var e=Be();return Oe(e,!0),e},Be=m.__private__.newObjectDeferred=function(){return U++,q[U]=function(){return V},U},Oe=function(e,t){return t="boolean"==typeof t&&t,q[e]=V,t&&Z(e+" 0 obj"),e},We=m.__private__.newAdditionalObject=function(){var e={objId:Be(),content:""};return Y.push(e),e},He=Be(),ze=Be(),Ue=m.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var i="#",a=0;a<3;a++)i+=("0"+Math.floor(255*parseFloat(t[a])).toString(16)).slice(-2);return i},qe=m.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,a=e.ch2,s=e.ch3,r=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var l=new Aa(n);if(l.ok)n=l.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var c=parseInt(n.substr(1),16);n=c>>16&255,a=c>>8&255,s=255&c}if(void 0===a||void 0===r&&n===a&&a===s)t="string"==typeof n?n+" "+o[0]:2===e.precision?S(n/255)+" "+o[0]:E(n/255)+" "+o[0];else if(void 0===r||"object"===(0,i.A)(r)){if(r&&!isNaN(r.a)&&0===r.a)return["1.","1.","1.",o[1]].join(" ");t="string"==typeof n?[n,a,s,o[1]].join(" "):2===e.precision?[S(n/255),S(a/255),S(s/255),o[1]].join(" "):[E(n/255),E(a/255),E(s/255),o[1]].join(" ")}else t="string"==typeof n?[n,a,s,r,o[2]].join(" "):2===e.precision?[S(n),S(a),S(s),S(r),o[2]].join(" "):[E(n),E(a),E(s),E(r),o[2]].join(" ");return t},Ge=m.__private__.getFilters=function(){return o},Ve=m.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||Ge(),i=e.alreadyAppliedFilters||[],a=e.addLength1||!1,s=t.length,r=e.objectId,o=function(e){return e};if(null!==h&&void 0===r)throw new Error("ObjectId must be passed to putStream for file encryption");null!==h&&(o=yt.encryptor(r,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],d=(l=void 0!==Xa.API.processDataByFilters?Xa.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(i)?i.join(" "):i.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===a&&c.push({key:"Length1",value:s})),0!=d.length)if(d.split("/").length-1==1)c.push({key:"Filter",value:d});else{c.push({key:"Filter",value:"["+d+"]"});for(var u=0;u<c.length;u+=1)if("DecodeParms"===c[u].key){for(var p=[],m=0;m<l.reverseChain.split("/").length-1;m+=1)p.push("null");p.push(c[u].value),c[u].value="["+p.join(" ")+"]"}}Z("<<");for(var f=0;f<c.length;f++)Z("/"+c[f].key+" "+c[f].value);Z(">>"),0!==l.data.length&&(Z("stream"),Z(o(l.data)),Z("endstream"))},Ye=m.__private__.putPage=function(e){var t=e.number,n=e.data,i=e.objId,a=e.contentsObjId;Oe(i,!0),Z("<</Type /Page"),Z("/Parent "+e.rootDictionaryObjId+" 0 R"),Z("/Resources "+e.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(j(e.mediaBox.bottomLeftX))+" "+parseFloat(j(e.mediaBox.bottomLeftY))+" "+j(e.mediaBox.topRightX)+" "+j(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Z("/CropBox ["+j(e.cropBox.bottomLeftX)+" "+j(e.cropBox.bottomLeftY)+" "+j(e.cropBox.topRightX)+" "+j(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Z("/BleedBox ["+j(e.bleedBox.bottomLeftX)+" "+j(e.bleedBox.bottomLeftY)+" "+j(e.bleedBox.topRightX)+" "+j(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Z("/TrimBox ["+j(e.trimBox.bottomLeftX)+" "+j(e.trimBox.bottomLeftY)+" "+j(e.trimBox.topRightX)+" "+j(e.trimBox.topRightY)+"]"),null!==e.artBox&&Z("/ArtBox ["+j(e.artBox.bottomLeftX)+" "+j(e.artBox.bottomLeftY)+" "+j(e.artBox.topRightX)+" "+j(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Z("/UserUnit "+e.userUnit),_e.publish("putPage",{objId:i,pageContext:Ce[t],pageNumber:t,page:n}),Z("/Contents "+a+" 0 R"),Z(">>"),Z("endobj");var s=n.join("\n");return w===x&&(s+="\nQ"),Oe(a,!0),Ve({data:s,filters:Ge(),objectId:a}),Z("endobj"),i},Ke=m.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=je;e++)Ce[e].objId=Be(),Ce[e].contentsObjId=Be();for(e=1;e<=je;e++)n.push(Ye({number:e,data:K[e],objId:Ce[e].objId,contentsObjId:Ce[e].contentsObjId,mediaBox:Ce[e].mediaBox,cropBox:Ce[e].cropBox,bleedBox:Ce[e].bleedBox,trimBox:Ce[e].trimBox,artBox:Ce[e].artBox,userUnit:Ce[e].userUnit,rootDictionaryObjId:He,resourceDictionaryObjId:ze}));Oe(He,!0),Z("<</Type /Pages");var i="/Kids [";for(t=0;t<je;t++)i+=n[t]+" 0 R ";Z(i+"]"),Z("/Count "+je),Z(">>"),Z("endobj"),_e.publish("postPutPages")},Xe=function(e){_e.publish("putFont",{font:e,out:Z,newObject:De,putStream:Ve}),!0!==e.isAlreadyPutted&&(e.objectNumber=De(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Ua(e.postScriptName)),Z("/Subtype /Type1"),"string"==typeof e.encoding&&Z("/Encoding /"+e.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Je=function(e){e.objectNumber=De();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[j(e.x),j(e.y),j(e.x+e.width),j(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");Ve({data:n,additionalKeyValues:t,objectId:e.objectNumber}),Z("endobj")},Qe=function(e,t){t||(t=21);var n=De(),i=function(e,t){var n,i=[],a=1/(t-1);for(n=0;n<1;n+=a)i.push(n);if(i.push(1),0!=e[0].offset){var s={offset:0,color:e[0].color};e.unshift(s)}if(1!=e[e.length-1].offset){var r={offset:1,color:e[e.length-1].color};e.push(r)}for(var o="",l=0,c=0;c<i.length;c++){for(n=i[c];n>e[l+1].offset;)l++;var d=e[l].offset,h=(n-d)/(e[l+1].offset-d),u=e[l].color,p=e[l+1].color;o+=z(Math.round((1-h)*u[0]+h*p[0]).toString(16))+z(Math.round((1-h)*u[1]+h*p[1]).toString(16))+z(Math.round((1-h)*u[2]+h*p[2]).toString(16))}return o.trim()}(e.colors,t),a=[];a.push({key:"FunctionType",value:"0"}),a.push({key:"Domain",value:"[0.0 1.0]"}),a.push({key:"Size",value:"["+t+"]"}),a.push({key:"BitsPerSample",value:"8"}),a.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),a.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:i,additionalKeyValues:a,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Z("endobj"),e.objectNumber=De(),Z("<< /ShadingType "+e.type),Z("/ColorSpace /DeviceRGB");var s="/Coords ["+j(parseFloat(e.coords[0]))+" "+j(parseFloat(e.coords[1]))+" ";2===e.type?s+=j(parseFloat(e.coords[2]))+" "+j(parseFloat(e.coords[3])):s+=j(parseFloat(e.coords[2]))+" "+j(parseFloat(e.coords[3]))+" "+j(parseFloat(e.coords[4]))+" "+j(parseFloat(e.coords[5])),Z(s+="]"),e.matrix&&Z("/Matrix ["+e.matrix.toString()+"]"),Z("/Function "+n+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Ze=function(e,t){var n=Be(),i=De();t.push({resourcesOid:n,objectOid:i}),e.objectNumber=i;var a=[];a.push({key:"Type",value:"/Pattern"}),a.push({key:"PatternType",value:"1"}),a.push({key:"PaintType",value:"1"}),a.push({key:"TilingType",value:"1"}),a.push({key:"BBox",value:"["+e.boundingBox.map(j).join(" ")+"]"}),a.push({key:"XStep",value:j(e.xStep)}),a.push({key:"YStep",value:j(e.yStep)}),a.push({key:"Resources",value:n+" 0 R"}),e.matrix&&a.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ve({data:e.stream,additionalKeyValues:a,objectId:e.objectNumber}),Z("endobj")},$e=function(e){for(var t in e.objectNumber=De(),Z("<<"),e)switch(t){case"opacity":Z("/ca "+S(e[t]));break;case"stroke-opacity":Z("/CA "+S(e[t]))}Z(">>"),Z("endobj")},et=function(e){Oe(e.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in Z("/Font <<"),ve)ve.hasOwnProperty(e)&&(!1===u||!0===u&&p.hasOwnProperty(e))&&Z("/"+e+" "+ve[e].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(xe).length>0){for(var e in Z("/Shading <<"),xe)xe.hasOwnProperty(e)&&xe[e]instanceof Ya&&xe[e].objectNumber>=0&&Z("/"+e+" "+xe[e].objectNumber+" 0 R");_e.publish("putShadingPatternDict"),Z(">>")}}(),function(e){if(Object.keys(xe).length>0){for(var t in Z("/Pattern <<"),xe)xe.hasOwnProperty(t)&&xe[t]instanceof m.TilingPattern&&xe[t].objectNumber>=0&&xe[t].objectNumber<e&&Z("/"+t+" "+xe[t].objectNumber+" 0 R");_e.publish("putTilingPatternDict"),Z(">>")}}(e.objectOid),function(){if(Object.keys(Ne).length>0){var e;for(e in Z("/ExtGState <<"),Ne)Ne.hasOwnProperty(e)&&Ne[e].objectNumber>=0&&Z("/"+e+" "+Ne[e].objectNumber+" 0 R");_e.publish("putGStateDict"),Z(">>")}}(),function(){for(var e in Z("/XObject <<"),Ee)Ee.hasOwnProperty(e)&&Ee[e].objectNumber>=0&&Z("/"+e+" "+Ee[e].objectNumber+" 0 R");_e.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},tt=function(e){be[e.fontName]=be[e.fontName]||{},be[e.fontName][e.fontStyle]=e.id},nt=function(e,t,n,i,a){var s={id:"F"+(Object.keys(ve).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:i,isStandardFont:a||!1,metadata:{}};return _e.publish("addFont",{font:s,instance:this}),ve[s.id]=s,tt(s),s.id},it=m.__private__.pdfEscape=m.pdfEscape=function(e,t){return function(e,t){var n,i,a,s,r,o,l,c,d;if(a=(t=t||{}).sourceEncoding||"Unicode",r=t.outputEncoding,(t.autoencode||r)&&ve[ue].metadata&&ve[ue].metadata[a]&&ve[ue].metadata[a].encoding&&(s=ve[ue].metadata[a].encoding,!r&&ve[ue].encoding&&(r=ve[ue].encoding),!r&&s.codePages&&(r=s.codePages[0]),"string"==typeof r&&(r=s[r]),r)){for(l=!1,o=[],n=0,i=e.length;n<i;n++)(c=r[e.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(e[n]),o[n].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(o=t.noBOM?[]:[254,255],n=0,i=e.length;n<i;n++){if((d=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},at=m.__private__.beginPage=function(e){K[++je]=[],Ce[je]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},ot(je),Q(K[W])},st=function(e,t){var i,a,r;switch(n=t||n,"string"==typeof e&&(i=b(e.toLowerCase()),Array.isArray(i)&&(a=i[0],r=i[1])),Array.isArray(e)&&(a=e[0]*pe,r=e[1]*pe),isNaN(a)&&(a=s[0],r=s[1]),(a>14400||r>14400)&&(ba.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),a=Math.min(14400,a),r=Math.min(14400,r)),s=[a,r],n.substr(0,1)){case"l":r>a&&(s=[r,a]);break;case"p":a>r&&(s=[r,a])}at(s),Ot(Dt),Z(Yt),0!==$t&&Z($t+" J"),0!==en&&Z(en+" j"),_e.publish("addPage",{pageNumber:je})},rt=function(e){e>0&&e<=je&&(K.splice(e,1),Ce.splice(e,1),je--,W>je&&(W=je),this.setPage(W))},ot=function(e){e>0&&e<=je&&(W=e)},lt=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return K.length-1},ct=function(e,t,n){var i,a=void 0;return n=n||{},e=void 0!==e?e:ve[ue].fontName,t=void 0!==t?t:ve[ue].fontStyle,i=e.toLowerCase(),void 0!==be[i]&&void 0!==be[i][t]?a=be[i][t]:void 0!==be[e]&&void 0!==be[e][t]?a=be[e][t]:!1===n.disableWarning&&ba.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),a||n.noFallback||null==(a=be.times[t])&&(a=be.times.normal),a},dt=m.__private__.putInfo=function(){var e=De(),t=function(e){return e};for(var n in null!==h&&(t=yt.encryptor(e,0)),Z("<<"),Z("/Producer ("+it(t("jsPDF "+Xa.version))+")"),he)he.hasOwnProperty(n)&&he[n]&&Z("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+it(t(he[n]))+")");Z("/CreationDate ("+it(t(L))+")"),Z(">>"),Z("endobj")},ht=m.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||He;switch(De(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+t+" 0 R"),ie||(ie="fullwidth"),ie){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ie;"%"===n.substr(n.length-1)&&(ie=parseInt(ie)/100),"number"==typeof ie&&Z("/OpenAction [3 0 R /XYZ null null "+S(ie)+"]")}switch(le||(le="continuous"),le){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}re&&Z("/PageMode /"+re),_e.publish("putCatalog"),Z(">>"),Z("endobj")},ut=m.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(U+1)),Z("/Root "+U+" 0 R"),Z("/Info "+(U-1)+" 0 R"),null!==h&&Z("/Encrypt "+yt.oid+" 0 R"),Z("/ID [ <"+T+"> <"+T+"> ]"),Z(">>")},pt=m.__private__.putHeader=function(){Z("%PDF-"+f),Z("%\xba\xdf\xac\xe0")},mt=m.__private__.putXRef=function(){var e="0000000000";Z("xref"),Z("0 "+(U+1)),Z("0000000000 65535 f ");for(var t=1;t<=U;t++)"function"==typeof q[t]?Z((e+q[t]()).slice(-10)+" 00000 n "):void 0!==q[t]?Z((e+q[t]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},ft=m.__private__.buildDocument=function(){var e;U=0,V=0,G=[],q=[],Y=[],He=Be(),ze=Be(),Q(G),_e.publish("buildDocument"),pt(),Ke(),function(){_e.publish("putAdditionalObjects");for(var e=0;e<Y.length;e++){var t=Y[e];Oe(t.objId,!0),Z(t.content),Z("endobj")}_e.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in ve)ve.hasOwnProperty(e)&&(!1===u||!0===u&&p.hasOwnProperty(e))&&Xe(ve[e])}(),function(){var e;for(e in Ne)Ne.hasOwnProperty(e)&&$e(Ne[e])}(),function(){for(var e in Ee)Ee.hasOwnProperty(e)&&Je(Ee[e])}(),function(e){var t;for(t in xe)xe.hasOwnProperty(t)&&(xe[t]instanceof Ya?Qe(xe[t]):xe[t]instanceof Ka&&Ze(xe[t],e))}(e),_e.publish("putResources"),e.forEach(et),et({resourcesOid:ze,objectOid:Number.MAX_SAFE_INTEGER}),_e.publish("postPutResources"),null!==h&&(yt.oid=De(),Z("<<"),Z("/Filter /Standard"),Z("/V "+yt.v),Z("/R "+yt.r),Z("/U <"+yt.toHexString(yt.U)+">"),Z("/O <"+yt.toHexString(yt.O)+">"),Z("/P "+yt.P),Z(">>"),Z("endobj")),dt(),ht();var t=V;return mt(),ut(),Z("startxref"),Z(""+t),Z("%%EOF"),Q(K[W]),G.join("\n")},gt=m.__private__.getBlob=function(e){return new Blob([ee(e)],{type:"application/pdf"})},vt=m.output=m.__private__.output=(Re=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return ft();case"save":m.save(t.filename);break;case"arraybuffer":return ee(ft());case"blob":return gt(ft());case"bloburi":case"bloburl":if(void 0!==ga.URL&&"function"==typeof ga.URL.createObjectURL)return ga.URL&&ga.URL.createObjectURL(gt(ft()))||void 0;ba.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",i=ft();try{n=ja(i)}catch(h){n=ja(unescape(encodeURIComponent(i)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(ga)){var a="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",s=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(a=t.pdfObjectUrl,s="");var r='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+a+'"'+s+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=ga.open();return null!==o&&o.document.write(r),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(ga)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=ga.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(ga))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',p=ga.open();if(null!==p&&(p.document.write(u),p.document.title=t.filename),p||"undefined"==typeof safari)return p;break;case"datauri":case"dataurl":return ga.document.location.href=this.output("datauristring",t);default:return null}},Re.foo=function(){try{return Re.apply(this,arguments)}catch(t){var e=t.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var n="Error in function "+e.split("\n")[0].split("<")[0]+": "+t.message;if(!ga.console)throw new Error(n);ga.console.error(n,t),ga.alert&&alert(n)}},Re.foo.bar=Re,Re.foo),bt=function(e){return!0===Array.isArray(Se)&&Se.indexOf(e)>-1};switch(a){case"pt":pe=1;break;case"mm":pe=72/25.4;break;case"cm":pe=72/2.54;break;case"in":pe=72;break;case"px":pe=1==bt("px_scaling")?.75:96/72;break;case"pc":case"em":pe=12;break;case"ex":pe=6;break;default:if("number"!=typeof a)throw new Error("Invalid unit: "+a);pe=a}var yt=null;B(),F();var xt=m.__private__.getPageInfo=m.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ce[e].objId,pageNumber:e,pageContext:Ce[e]}},wt=m.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Ce)if(Ce[t].objId===e)break;return xt(t)},Nt=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:Ce[W].objId,pageNumber:W,pageContext:Ce[W]}};m.addPage=function(){return st.apply(this,arguments),this},m.setPage=function(){return ot.apply(this,arguments),Q.call(this,K[W]),this},m.insertPage=function(e){return this.addPage(),this.movePage(W,e),this},m.movePage=function(e,t){var n,i;if(e>t){n=K[e],i=Ce[e];for(var a=e;a>t;a--)K[a]=K[a-1],Ce[a]=Ce[a-1];K[t]=n,Ce[t]=i,this.setPage(t)}else if(e<t){n=K[e],i=Ce[e];for(var s=e;s<t;s++)K[s]=K[s+1],Ce[s]=Ce[s+1];K[t]=n,Ce[t]=i,this.setPage(t)}return this},m.deletePage=function(){return rt.apply(this,arguments),this},m.__private__.text=m.text=function(e,t,n,a,s){var r,o,l,c,d,h,u,m,f,g=(a=a||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var v=n;n=t,t=e,e=v}if(arguments[3]instanceof Le==0?(l=arguments[4],c=arguments[5],"object"===(0,i.A)(u=arguments[3])&&null!==u||("string"==typeof l&&(c=l,l=null),"string"==typeof u&&(c=u,u=null),"number"==typeof u&&(l=u,u=null),a={flags:u,angle:l,align:c})):(C("The transform parameter of text() with a Matrix value"),f=s),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return g;var b,y="",N="number"==typeof a.lineHeightFactor?a.lineHeightFactor:Rt,A=g.internal.scaleFactor;function k(e){return e=e.split("\t").join(Array(a.TabLen||9).join(" ")),it(e,u)}function _(e){for(var t,n=e.concat(),i=[],a=n.length;a--;)"string"==typeof(t=n.shift())?i.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?i.push(t[0]):i.push([t[0],t[1],t[2]]);return i}function S(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var i,a,s=e.concat(),r=[],o=s.length;o--;)"string"==typeof(i=s.shift())?r.push(t(i)[0]):Array.isArray(i)&&"string"==typeof i[0]&&(a=t(i[0],i[1],i[2]),r.push([a[0],a[1],a[2]]));n=r}return n}var E=!1,P=!0;if("string"==typeof e)E=!0;else if(Array.isArray(e)){var L=e.concat();o=[];for(var T,I=L.length;I--;)("string"!=typeof(T=L.shift())||Array.isArray(T)&&"string"!=typeof T[0])&&(P=!1);E=P}if(!1===E)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var F=ne/g.internal.scaleFactor,R=F*(N-1);switch(a.baseline){case"bottom":n-=R;break;case"top":n+=F-R;break;case"hanging":n+=F-2*R;break;case"middle":n+=F/2-R}if((h=a.maxWidth||0)>0&&("string"==typeof e?e=g.splitTextToSize(e,h):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(g.splitTextToSize(t,h))},[]))),r={text:e,x:t,y:n,options:a,mutex:{pdfEscape:it,activeFontKey:ue,fonts:ve,activeFontSize:ne}},_e.publish("preProcessText",r),e=r.text,l=(a=r.options).angle,f instanceof Le==0&&l&&"number"==typeof l){l*=Math.PI/180,0===a.rotationDirection&&(l=-l),w===x&&(l=-l);var D=Math.cos(l),B=Math.sin(l);f=new Le(D,B,-B,D,0,0)}else l&&l instanceof Le&&(f=l);w!==x||f||(f=Ie),void 0!==(d=a.charSpace||Qt)&&(y+=j(M(d))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(m=a.horizontalScale)&&(y+=j(100*m)+" Tz\n"),a.lang;var O=-1,W=void 0!==a.renderingMode?a.renderingMode:a.stroke,H=g.internal.getCurrentPageInfo().pageContext;switch(W){case 0:case!1:case"fill":O=0;break;case 1:case!0:case"stroke":O=1;break;case 2:case"fillThenStroke":O=2;break;case 3:case"invisible":O=3;break;case 4:case"fillAndAddForClipping":O=4;break;case 5:case"strokeAndAddPathForClipping":O=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":O=6;break;case 7:case"addToPathForClipping":O=7}var z=void 0!==H.usedRenderingMode?H.usedRenderingMode:-1;-1!==O?y+=O+" Tr\n":-1!==z&&(y+="0 Tr\n"),-1!==O&&(H.usedRenderingMode=O),c=a.align||"left";var U,q=ne*N,G=g.internal.pageSize.getWidth(),V=ve[ue];d=a.charSpace||Qt,h=a.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},a.flags);var Y=[],K=function(e){return g.getStringUnitWidth(e,{font:V,charSpace:d,fontSize:ne,doKerning:!1})*ne/A};if("[object Array]"===Object.prototype.toString.call(e)){var X;o=_(e),"left"!==c&&(U=o.map(K));var J,Q=0;if("right"===c){t-=U[0],e=[],I=o.length;for(var $=0;$<I;$++)0===$?(J=Ut(t),X=qt(n)):(J=M(Q-U[$]),X=-q),e.push([o[$],J,X]),Q=U[$]}else if("center"===c){t-=U[0]/2,e=[],I=o.length;for(var ee=0;ee<I;ee++)0===ee?(J=Ut(t),X=qt(n)):(J=M((Q-U[ee])/2),X=-q),e.push([o[ee],J,X]),Q=U[ee]}else if("left"===c){e=[],I=o.length;for(var te=0;te<I;te++)e.push(o[te])}else if("justify"===c&&"Identity-H"===V.encoding){e=[],I=o.length,h=0!==h?h:G;for(var ie=0,ae=0;ae<I;ae++)if(X=0===ae?qt(n):-q,J=0===ae?Ut(t):ie,ae<I-1){var re=M((h-U[ae])/(o[ae].split(" ").length-1)),oe=o[ae].split(" ");e.push([oe[0]+" ",J,X]),ie=0;for(var le=1;le<oe.length;le++){var ce=(K(oe[le-1]+" "+oe[le])-K(oe[le]))*A+re;le==oe.length-1?e.push([oe[le],ce,0]):e.push([oe[le]+" ",ce,0]),ie-=ce}}else e.push([o[ae],J,X]);e.push(["",ie,0])}else{if("justify"!==c)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],I=o.length,h=0!==h?h:G,ae=0;ae<I;ae++)X=0===ae?qt(n):-q,J=0===ae?Ut(t):0,ae<I-1?Y.push(j(M((h-U[ae])/(o[ae].split(" ").length-1)))):Y.push(0),e.push([o[ae],J,X])}}!0===("boolean"==typeof a.R2L?a.R2L:se)&&(e=S(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),r={text:e,x:t,y:n,options:a,mutex:{pdfEscape:it,activeFontKey:ue,fonts:ve,activeFontSize:ne}},_e.publish("postProcessText",r),e=r.text,b=r.mutex.isHex||!1;var de=ve[ue].encoding;"WinAnsiEncoding"!==de&&"StandardEncoding"!==de||(e=S(e,function(e,t,n){return[k(e),t,n]})),o=_(e),e=[];for(var he,pe,me,fe=Array.isArray(o[0])?1:0,ge="",be=function(e,t,n){var i="";return n instanceof Le?(n="number"==typeof a.angle?Te(n,new Le(1,0,0,1,e,t)):Te(new Le(1,0,0,1,e,t),n),w===x&&(n=Te(new Le(1,0,0,-1,0,0),n)),i=n.join(" ")+" Tm\n"):i=j(e)+" "+j(t)+" Td\n",i},ye=0;ye<o.length;ye++){switch(ge="",fe){case 1:me=(b?"<":"(")+o[ye][0]+(b?">":")"),he=parseFloat(o[ye][1]),pe=parseFloat(o[ye][2]);break;case 0:me=(b?"<":"(")+o[ye]+(b?">":")"),he=Ut(t),pe=qt(n)}void 0!==Y&&void 0!==Y[ye]&&(ge=Y[ye]+" Tw\n"),0===ye?e.push(ge+be(he,pe,f)+me):0===fe?e.push(ge+me):1===fe&&e.push(ge+be(he,pe,f)+me)}e=0===fe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var xe="BT\n/";return xe+=ue+" "+ne+" Tf\n",xe+=j(ne*N)+" TL\n",xe+=Xt+"\n",xe+=y,xe+=e,Z(xe+="ET"),p[ue]=!0,g};var At=m.__private__.clip=m.clip=function(e){return Z("evenodd"===e?"W*":"W"),this};m.clipEvenOdd=function(){return At("evenodd")},m.__private__.discardPath=m.discardPath=function(){return Z("n"),this};var kt=m.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(e){return kt(e)&&(d=e),this};var jt=m.__private__.getStyle=m.getStyle=function(e){var t=d;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Ct=m.close=function(){return Z("h"),this};m.stroke=function(){return Z("S"),this},m.fill=function(e){return _t("f",e),this},m.fillEvenOdd=function(e){return _t("f*",e),this},m.fillStroke=function(e){return _t("B",e),this},m.fillStrokeEvenOdd=function(e){return _t("B*",e),this};var _t=function(e,t){"object"===(0,i.A)(t)?Mt(t,e):Z(e)},St=function(e){null===e||w===x&&void 0===e||(e=jt(e),Z(e))};function Et(e,t,n,i,a){var s=new Ka(t||this.boundingBox,n||this.xStep,i||this.yStep,this.gState,a||this.matrix);s.stream=this.stream;var r=e+"$$"+this.cloneIndex+++"$$";return Fe(r,s),s}var Mt=function(e,t){var n=we[e.key],i=xe[n];if(i instanceof Ya)Z("q"),Z(Pt(t)),i.gState&&m.setGState(i.gState),Z(e.matrix.toString()+" cm"),Z("/"+n+" sh"),Z("Q");else if(i instanceof Ka){var a=new Le(1,0,0,-1,0,dn());e.matrix&&(a=a.multiply(e.matrix||Ie),n=Et.call(i,e.key,e.boundingBox,e.xStep,e.yStep,a).id),Z("q"),Z("/Pattern cs"),Z("/"+n+" scn"),i.gState&&m.setGState(i.gState),Z(t),Z("Q")}},Pt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Lt=m.moveTo=function(e,t){return Z(j(M(e))+" "+j(P(t))+" m"),this},Tt=m.lineTo=function(e,t){return Z(j(M(e))+" "+j(P(t))+" l"),this},It=m.curveTo=function(e,t,n,i,a,s){return Z([j(M(e)),j(P(t)),j(M(n)),j(P(i)),j(M(a)),j(P(s)),"c"].join(" ")),this};m.__private__.line=m.line=function(e,t,n,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!kt(a))throw new Error("Invalid arguments passed to jsPDF.line");return w===y?this.lines([[n-e,i-t]],e,t,[1,1],a||"S"):this.lines([[n-e,i-t]],e,t,[1,1]).stroke()},m.__private__.lines=m.lines=function(e,t,n,i,a,s){var r,o,l,c,d,h,u,p,m,f,g,v;if("number"==typeof e&&(v=n,n=t,t=e,e=v),i=i||[1,1],s=s||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(i)||!kt(a)||"boolean"!=typeof s)throw new Error("Invalid arguments passed to jsPDF.lines");for(Lt(t,n),r=i[0],o=i[1],c=e.length,f=t,g=n,l=0;l<c;l++)2===(d=e[l]).length?(f=d[0]*r+f,g=d[1]*o+g,Tt(f,g)):(h=d[0]*r+f,u=d[1]*o+g,p=d[2]*r+f,m=d[3]*o+g,f=d[4]*r+f,g=d[5]*o+g,It(h,u,p,m,f,g));return s&&Ct(),St(a),this},m.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.c;switch(n.op){case"m":Lt(i[0],i[1]);break;case"l":Tt(i[0],i[1]);break;case"c":It.apply(this,i);break;case"h":Ct()}}return this},m.__private__.rect=m.rect=function(e,t,n,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!kt(a))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y&&(i=-i),Z([j(M(e)),j(P(t)),j(M(n)),j(M(i)),"re"].join(" ")),St(a),this},m.__private__.triangle=m.triangle=function(e,t,n,i,a,s,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(a)||isNaN(s)||!kt(r))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,i-t],[a-n,s-i],[e-a,t-s]],e,t,[1,1],r,!0),this},m.__private__.roundedRect=m.roundedRect=function(e,t,n,i,a,s,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(a)||isNaN(s)||!kt(r))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return a=Math.min(a,.5*n),s=Math.min(s,.5*i),this.lines([[n-2*a,0],[a*o,0,a,s-s*o,a,s],[0,i-2*s],[0,s*o,-a*o,s,-a,s],[2*a-n,0],[-a*o,0,-a,-s*o,-a,-s],[0,2*s-i],[0,-s*o,a*o,-s,a,-s]],e+a,t,[1,1],r,!0),this},m.__private__.ellipse=m.ellipse=function(e,t,n,i,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||!kt(a))throw new Error("Invalid arguments passed to jsPDF.ellipse");var s=4/3*(Math.SQRT2-1)*n,r=4/3*(Math.SQRT2-1)*i;return Lt(e+n,t),It(e+n,t-r,e+s,t-i,e,t-i),It(e-s,t-i,e-n,t-r,e-n,t),It(e-n,t+r,e-s,t+i,e,t+i),It(e+s,t+i,e+n,t+r,e+n,t),St(a),this},m.__private__.circle=m.circle=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||!kt(i))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,i)},m.setFont=function(e,t,n){return n&&(t=k(t,n)),ue=ct(e,t,{disableWarning:!1}),this};var Ft=m.__private__.getFont=m.getFont=function(){return ve[ct.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var e,t,n={};for(e in be)if(be.hasOwnProperty(e))for(t in n[e]=[],be[e])be[e].hasOwnProperty(t)&&n[e].push(t);return n},m.addFont=function(e,t,n,i,a){var s=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==s.indexOf(arguments[3])?a=arguments[3]:arguments[3]&&-1==s.indexOf(arguments[3])&&(n=k(n,i)),nt.call(this,e,t,n,a=a||"Identity-H")};var Rt,Dt=e.lineWidth||.200025,Bt=m.__private__.getLineWidth=m.getLineWidth=function(){return Dt},Ot=m.__private__.setLineWidth=m.setLineWidth=function(e){return Dt=e,Z(j(M(e))+" w"),this};m.__private__.setLineDash=Xa.API.setLineDash=Xa.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return j(M(e))}).join(" "),t=j(M(t)),Z("["+e+"] "+t+" d"),this};var Wt=m.__private__.getLineHeight=m.getLineHeight=function(){return ne*Rt};m.__private__.getLineHeight=m.getLineHeight=function(){return ne*Rt};var Ht=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Rt=e),this},zt=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Rt};Ht(e.lineHeight);var Ut=m.__private__.getHorizontalCoordinate=function(e){return M(e)},qt=m.__private__.getVerticalCoordinate=function(e){return w===x?e:Ce[W].mediaBox.topRightY-Ce[W].mediaBox.bottomLeftY-M(e)},Gt=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(e){return j(Ut(e))},Vt=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(e){return j(qt(e))},Yt=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Ue(Yt)},m.__private__.setStrokeColor=m.setDrawColor=function(e,t,n,i){return Yt=qe({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"draw",precision:2}),Z(Yt),this};var Kt=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Ue(Kt)},m.__private__.setFillColor=m.setFillColor=function(e,t,n,i){return Kt=qe({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"fill",precision:2}),Z(Kt),this};var Xt=e.textColor||"0 g",Jt=m.__private__.getTextColor=m.getTextColor=function(){return Ue(Xt)};m.__private__.setTextColor=m.setTextColor=function(e,t,n,i){return Xt=qe({ch1:e,ch2:t,ch3:n,ch4:i,pdfColorType:"text",precision:3}),this};var Qt=e.charSpace,Zt=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Qt||0)};m.__private__.setCharSpace=m.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Qt=e,this};var $t=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(e){var t=m.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return $t=t,Z(t+" J"),this};var en=0;m.__private__.setLineJoin=m.setLineJoin=function(e){var t=m.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return en=t,Z(t+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(j(M(e))+" M"),this},m.GState=Ga,m.setGState=function(e){(e="string"==typeof e?Ne[Ae[e]]:tn(null,e)).equals(ke)||(Z("/"+e.id+" gs"),ke=e)};var tn=function(e,t){if(!e||!Ae[e]){var n=!1;for(var i in Ne)if(Ne.hasOwnProperty(i)&&Ne[i].equals(t)){n=!0;break}if(n)t=Ne[i];else{var a="GS"+(Object.keys(Ne).length+1).toString(10);Ne[a]=t,t.id=a}return e&&(Ae[e]=t.id),_e.publish("addGState",t),t}};m.addGState=function(e,t){return tn(e,t),this},m.saveGraphicsState=function(){return Z("q"),ye.push({key:ue,size:ne,color:Xt}),this},m.restoreGraphicsState=function(){Z("Q");var e=ye.pop();return ue=e.key,ne=e.size,Xt=e.color,ke=null,this},m.setCurrentTransformationMatrix=function(e){return Z(e.toString()+" cm"),this},m.comment=function(e){return Z("#"+e),this};var nn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var i=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return i},set:function(e){isNaN(e)||(i=parseFloat(e))}});var a="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return a},set:function(e){a=e.toString()}}),this},an=function(e,t,n,i){nn.call(this,e,t),this.type="rect";var a=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}});var s=i||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}}),this},sn=function(){this.page=je,this.currentPage=W,this.pages=K.slice(0),this.pagesContext=Ce.slice(0),this.x=me,this.y=fe,this.matrix=ge,this.width=ln(W),this.height=dn(W),this.outputDestination=J,this.id="",this.objectNumber=-1};sn.prototype.restore=function(){je=this.page,W=this.currentPage,Ce=this.pagesContext,K=this.pages,me=this.x,fe=this.y,ge=this.matrix,cn(W,this.width),hn(W,this.height),J=this.outputDestination};var rn=function(e,t,n,i,a){Pe.push(new sn),je=W=0,K=[],me=e,fe=t,ge=a,at([n,i])};for(var on in m.beginFormObject=function(e,t,n,i,a){return rn(e,t,n,i,a),this},m.endFormObject=function(e){return function(e){if(Me[e])Pe.pop().restore();else{var t=new sn,n="Xo"+(Object.keys(Ee).length+1).toString(10);t.id=n,Me[e]=n,Ee[n]=t,_e.publish("addFormObject",t),Pe.pop().restore()}}(e),this},m.doFormObject=function(e,t){var n=Ee[Me[e]];return Z("q"),Z(t.toString()+" cm"),Z("/"+n.id+" Do"),Z("Q"),this},m.getFormObject=function(e){var t=Ee[Me[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},m.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(Na(gt(ft()),e),"function"==typeof Na.unload&&ga.setTimeout&&setTimeout(Na.unload,911),this):new Promise(function(t,n){try{var i=Na(gt(ft()),e);"function"==typeof Na.unload&&ga.setTimeout&&setTimeout(Na.unload,911),t(i)}catch(a){n(a.message)}})},Xa.API)Xa.API.hasOwnProperty(on)&&("events"===on&&Xa.API.events.length?function(e,t){var n,i,a;for(a=t.length-1;-1!==a;a--)n=t[a][0],i=t[a][1],e.subscribe.apply(e,[n].concat("function"==typeof i?[i]:i))}(_e,Xa.API.events):m[on]=Xa.API[on]);var ln=m.getPageWidth=function(e){return(Ce[e=e||W].mediaBox.topRightX-Ce[e].mediaBox.bottomLeftX)/pe},cn=m.setPageWidth=function(e,t){Ce[e].mediaBox.topRightX=t*pe+Ce[e].mediaBox.bottomLeftX},dn=m.getPageHeight=function(e){return(Ce[e=e||W].mediaBox.topRightY-Ce[e].mediaBox.bottomLeftY)/pe},hn=m.setPageHeight=function(e,t){Ce[e].mediaBox.topRightY=t*pe+Ce[e].mediaBox.bottomLeftY};return m.internal={pdfEscape:it,getStyle:jt,getFont:Ft,getFontSize:ae,getCharSpace:Zt,getTextColor:Jt,getLineHeight:Wt,getLineHeightFactor:zt,getLineWidth:Bt,write:$,getHorizontalCoordinate:Ut,getVerticalCoordinate:qt,getCoordinateString:Gt,getVerticalCoordinateString:Vt,collections:{},newObject:De,newAdditionalObject:We,newObjectDeferred:Be,newObjectDeferredBegin:Oe,getFilters:Ge,putStream:Ve,events:_e,scaleFactor:pe,pageSize:{getWidth:function(){return ln(W)},setWidth:function(e){cn(W,e)},getHeight:function(){return dn(W)},setHeight:function(e){hn(W,e)}},encryptionOptions:h,encryption:yt,getEncryptor:function(e){return null!==h?yt.encryptor(e,0):function(e){return e}},output:vt,getNumberOfPages:lt,pages:K,out:Z,f2:S,f3:E,getPageInfo:xt,getPageInfoByObjId:wt,getCurrentPageInfo:Nt,getPDFVersion:g,Point:nn,Rectangle:an,Matrix:Le,hasHotfix:bt},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return ln(W)},set:function(e){cn(W,e)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return dn(W)},set:function(e){hn(W,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=te.length;t<n;t++){var i=nt.call(this,e[t][0],e[t][1],e[t][2],te[t][3],!0);!1===u&&(p[i]=!0);var a=e[t][0].split("-");tt({id:i,fontName:a[0],fontStyle:a[1]||""})}_e.publish("addFonts",{fonts:ve,dictionary:be})}.call(m,te),ue="F1",st(s,n),_e.publish("initialized"),m}za.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},za.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},za.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},za.prototype.processOwnerPassword=function(e,t){return Wa(Da(t).substr(0,5),e)},za.prototype.encryptor=function(e,t){var n=Da(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Wa(n,e)}},Ga.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,i.A)(e)!==(0,i.A)(this))return!1;var a=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;a++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&a--;return 0===a},Xa.API={events:[]},Xa.version="3.0.2";var Ja=Xa.API,Qa=1,Za=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$a=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},es=function(e){return e.toFixed(2)},ts=function(e){return e.toFixed(5)};Ja.__acroform__={};var ns=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},is=function(e){return e*Qa},as=function(e){var t=new xs,n=Is.internal.getHeight(e)||0,i=Is.internal.getWidth(e)||0;return t.BBox=[0,0,Number(es(i)),Number(es(n))],t},ss=Ja.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},rs=Ja.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},os=Ja.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ls=Ja.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return os(e,t-1)},cs=Ja.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ss(e,t-1)},ds=Ja.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rs(e,t-1)},hs=Ja.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,a=e[0],s=e[1],r=e[2],o=e[3],l={};return l.lowerLeft_X=n(a)||0,l.lowerLeft_Y=i(s+o)||0,l.upperRight_X=n(a+r)||0,l.upperRight_Y=i(s)||0,[Number(es(l.lowerLeft_X)),Number(es(l.lowerLeft_Y)),Number(es(l.upperRight_X)),Number(es(l.upperRight_Y))]},us=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,i=ps(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+es(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=as(e);return s.scope=e.scope,s.stream=t.join("\n"),s}},ps=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,i={text:"",fontSize:""},a=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(e){return e.split("\n")}):a.map(function(e){return[e]});var s=n,r=Is.internal.getHeight(e)||0;r=r<0?-r:r;var o=Is.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,n,i){if(t+1<a.length){var s=n+" "+a[t+1][0];return ms(s,e,i).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var c,d,h=ms("3",e,s).height,u=e.multiline?r-s:(r-h)/2,p=u+=2,m=0,f=0,g=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+ms(t,e,s=12).width+", FieldWidth:"+o+"\n";break}for(var v="",b=0,y=0;y<a.length;y++)if(a.hasOwnProperty(y)){var x=!1;if(1!==a[y].length&&g!==a[y].length-1){if((h+2)*(b+2)+2>r)continue e;v+=a[y][g],x=!0,f=y,y--}else{v=" "==(v+=a[y][g]+" ").substr(v.length-1)?v.substr(0,v.length-1):v;var w=parseInt(y),N=l(w,v,s),A=y>=a.length-1;if(N&&!A){v+=" ",g=0;continue}if(N||A){if(A)f=w;else if(e.multiline&&(h+2)*(b+2)+2>r)continue e}else{if(!e.multiline)continue e;if((h+2)*(b+2)+2>r)continue e;f=w}}for(var k="",j=m;j<=f;j++){var C=a[j];if(e.multiline){if(j===f){k+=C[g]+" ",g=(g+1)%C.length;continue}if(j===m){k+=C[C.length-1]+" ";continue}}k+=C[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,d=ms(k,e,s).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=es(c)+" "+es(p)+" Td\n",t+="("+Za(k)+") Tj\n",t+=-es(c)+" 0 Td\n",p=-(s+2),d=0,m=x?f:f+1,b++,v=""}break}return i.text=t,i.fontSize=s,i},ms=function(e,t,n){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},fs={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gs=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},vs=Ja.__acroform__.arrayToPdfArray=function(e,t,n){var a=function(e){return e};if(Array.isArray(e)){for(var s="[",r=0;r<e.length;r++)switch(0!==r&&(s+=" "),(0,i.A)(e[r])){case"boolean":case"number":case"object":s+=e[r].toString();break;case"string":"/"!==e[r].substr(0,1)?(void 0!==t&&n&&(a=n.internal.getEncryptor(t)),s+="("+Za(a(e[r].toString()))+")"):s+=e[r].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},bs=function(e,t,n){var i=function(e){return e};return void 0!==t&&n&&(i=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Za(i(e))+")"},ys=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ys.prototype.toString=function(){return this.objId+" 0 R"},ys.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ys.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var i=t[n],a=this[i];a&&(Array.isArray(a)?e.push({key:i,value:vs(a,this.objId,this.scope)}):a instanceof ys?(a.scope=this.scope,e.push({key:i,value:a.objId+" 0 R"})):"function"!=typeof a&&e.push({key:i,value:a}))}return e};var xs=function(){ys.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};ns(xs,ys);var ws=function(){ys.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Za(t(e))+")"}},set:function(t){e=t}})};ns(ws,ys);var Ns=function e(){ys.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(t,3))},set:function(e){!0===Boolean(e)?this.F=cs(t,3):this.F=ds(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(e){i=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(e){i[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(e){i[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(e){i[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(e){i[3]=e}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ms)return;s="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Za(t(s))+")"},set:function(e){s=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(e){s=e}});var r="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/Qa:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof Ms||this instanceof Ls))return bs(h,this.objId,this.scope)},set:function(e){e=e.toString(),h=e}});var u=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(u)return this instanceof _s==0?bs(u,this.objId,this.scope):u},set:function(e){e=e.toString(),u=this instanceof _s==0?"("===e.substr(0,1)?$a(e.substr(1,e.length-2)):$a(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof _s==1?$a(u.substr(1,u.length-1)):u},set:function(e){e=e.toString(),u=this instanceof _s==1?"/"+e:e}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof _s==0?bs(p,this.objId,this.scope):p},set:function(e){e=e.toString(),p=this instanceof _s==0?"("===e.substr(0,1)?$a(e.substr(1,e.length-2)):$a(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof _s==1?$a(p.substr(1,p.length-1)):p},set:function(e){e=e.toString(),p=this instanceof _s==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){e=Boolean(e),f=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(e){m=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,1):this.Ff=ds(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,2):this.Ff=ds(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,3):this.Ff=ds(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');g=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(g){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};ns(Ns,ys);var As=function(){Ns.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return vs(t,this.objId,this.scope)},set:function(e){var n,i;i=[],"string"==typeof(n=e)&&(i=function(e,t,n){n||(n=1);for(var i,a=[];i=t.exec(e);)a.push(i[n]);return a}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,18):this.Ff=ds(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=cs(this.Ff,19):this.Ff=ds(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=cs(this.Ff,20),t.sort()):this.Ff=ds(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,22):this.Ff=ds(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,23):this.Ff=ds(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,27):this.Ff=ds(this.Ff,27)}}),this.hasAppearanceStream=!1};ns(As,Ns);var ks=function(){As.call(this),this.fontName="helvetica",this.combo=!1};ns(ks,As);var js=function(){ks.call(this),this.combo=!0};ns(js,ks);var Cs=function(){js.call(this),this.edit=!0};ns(Cs,js);var _s=function(){Ns.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,15):this.Ff=ds(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,16):this.Ff=ds(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,17):this.Ff=ds(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,26):this.Ff=ds(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Za(e(t[n]))+")");return i.push(">>"),i.join("\n")}},set:function(e){"object"===(0,i.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};ns(_s,Ns);var Ss=function(){_s.call(this),this.pushButton=!0};ns(Ss,_s);var Es=function(){_s.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};ns(Es,_s);var Ms=function(){var e,t;Ns.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,a={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),a)n.push("/"+t+" ("+Za(e(a[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,i.A)(e)&&(a=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return a.CA||""},set:function(e){"string"==typeof e&&(a.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Is.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ns(Ms,Ns),Es.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Es.prototype.createOption=function(e){var t=new Ms;return t.Parent=this,t.optionName=e,this.Kids.push(t),Fs.call(this.scope,t),t};var Ps=function(){_s.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Is.CheckBox.createAppearanceStream()};ns(Ps,_s);var Ls=function(){Ns.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,13):this.Ff=ds(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,21):this.Ff=ds(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,23):this.Ff=ds(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,24):this.Ff=ds(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,25):this.Ff=ds(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,26):this.Ff=ds(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ns(Ls,Ns);var Ts=function(){Ls.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(ls(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=cs(this.Ff,14):this.Ff=ds(this.Ff,14)}}),this.password=!0};ns(Ts,Ls);var Is={CheckBox:{createAppearanceStream:function(){return{N:{On:Is.CheckBox.YesNormal},D:{On:Is.CheckBox.YesPushDown,Off:Is.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=as(e);t.scope=e.scope;var n=[],i=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=ps(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+es(Is.internal.getWidth(e))+" "+es(Is.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+es(s.fontSize)+" Tf "+a),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=as(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=[],s=Is.internal.getHeight(e),r=Is.internal.getWidth(e),o=ps(e,e.caption);return a.push("1 g"),a.push("0 0 "+es(r)+" "+es(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+es(r-1)+" "+es(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+es(o.fontSize)+" Tf "+i),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join("\n"),t},OffPushDown:function(e){var t=as(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+es(Is.internal.getWidth(e))+" "+es(Is.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Is.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Is.RadioButton.Circle.YesNormal,t.D[e]=Is.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=as(e);t.scope=e.scope;var n=[],i=Is.internal.getWidth(e)<=Is.internal.getHeight(e)?Is.internal.getWidth(e)/4:Is.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var a=Is.internal.Bezier_C,s=Number((i*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ts(Is.internal.getWidth(e)/2)+" "+ts(Is.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=as(e);t.scope=e.scope;var n=[],i=Is.internal.getWidth(e)<=Is.internal.getHeight(e)?Is.internal.getWidth(e)/4:Is.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),s=Number((a*Is.internal.Bezier_C).toFixed(5)),r=Number((i*Is.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ts(Is.internal.getWidth(e)/2)+" "+ts(Is.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ts(Is.internal.getWidth(e)/2)+" "+ts(Is.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+r+" "+r+" "+i+" 0 "+i+" c"),n.push("-"+r+" "+i+" -"+i+" "+r+" -"+i+" 0 c"),n.push("-"+i+" -"+r+" -"+r+" -"+i+" 0 -"+i+" c"),n.push(r+" -"+i+" "+i+" -"+r+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=as(e);t.scope=e.scope;var n=[],i=Is.internal.getWidth(e)<=Is.internal.getHeight(e)?Is.internal.getWidth(e)/4:Is.internal.getHeight(e)/4;i=Number((.9*i).toFixed(5));var a=Number((2*i).toFixed(5)),s=Number((a*Is.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ts(Is.internal.getWidth(e)/2)+" "+ts(Is.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),n.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),n.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),n.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Is.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Is.RadioButton.Cross.YesNormal,t.D[e]=Is.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=as(e);t.scope=e.scope;var n=[],i=Is.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+es(Is.internal.getWidth(e)-2)+" "+es(Is.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(es(i.x1.x)+" "+es(i.x1.y)+" m"),n.push(es(i.x2.x)+" "+es(i.x2.y)+" l"),n.push(es(i.x4.x)+" "+es(i.x4.y)+" m"),n.push(es(i.x3.x)+" "+es(i.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=as(e);t.scope=e.scope;var n=Is.internal.calculateCross(e),i=[];return i.push("0.749023 g"),i.push("0 0 "+es(Is.internal.getWidth(e))+" "+es(Is.internal.getHeight(e))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+es(Is.internal.getWidth(e)-2)+" "+es(Is.internal.getHeight(e)-2)+" re"),i.push("W"),i.push("n"),i.push(es(n.x1.x)+" "+es(n.x1.y)+" m"),i.push(es(n.x2.x)+" "+es(n.x2.y)+" l"),i.push(es(n.x4.x)+" "+es(n.x4.y)+" m"),i.push(es(n.x3.x)+" "+es(n.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(e){var t=as(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+es(Is.internal.getWidth(e))+" "+es(Is.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Is.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Is.internal.getWidth(e),n=Is.internal.getHeight(e),i=Math.min(t,n);return{x1:{x:(t-i)/2,y:(n-i)/2+i},x2:{x:(t-i)/2+i,y:(n-i)/2},x3:{x:(t-i)/2,y:(n-i)/2},x4:{x:(t-i)/2+i,y:(n-i)/2+i}}}},Is.internal.getWidth=function(e){var t=0;return"object"===(0,i.A)(e)&&(t=is(e.Rect[2])),t},Is.internal.getHeight=function(e){var t=0;return"object"===(0,i.A)(e)&&(t=is(e.Rect[3])),t};var Fs=Ja.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(Ns.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(fs)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Qa=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new ws,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];i.objId=void 0,i.hasAnnotation&&gs(i,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var a in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(a)){var s=e[a],r=[],o=s.Rect;if(s.Rect&&(s.Rect=hs(s.Rect,t)),t.internal.newObjectDeferredBegin(s.objId,!0),s.DA=Is.createDefaultAppearanceStream(s),"object"===(0,i.A)(s)&&"function"==typeof s.getKeyValueListForStream&&(r=s.getKeyValueListForStream()),s.Rect=o,s.hasAppearanceStream&&!s.appearanceStreamContent){var l=us(s);r.push({key:"AP",value:"<</N "+l+">>"}),t.internal.acroformPlugin.xForms.push(l)}if(s.appearanceStreamContent){var c="";for(var d in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(d)){var h=s.appearanceStreamContent[d];if(c+="/"+d+" ",c+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var u=h[a];"function"==typeof u&&(u=u.call(t,s)),c+="/"+a+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=h)&&(u=u.call(t,s)),c+="/"+a+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);c+=">>"}r.push({key:"AP",value:"<<\n"+c+">>"})}t.internal.putStream({additionalKeyValues:r,objectId:s.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var a=n,s=e[n];t.internal.newObjectDeferredBegin(s.objId,!0),"object"===(0,i.A)(s)&&"function"==typeof s.putStream&&s.putStream(),delete e[a]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof Ns))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ja.AcroFormChoiceField=As,Ja.AcroFormListBox=ks,Ja.AcroFormComboBox=js,Ja.AcroFormEditBox=Cs,Ja.AcroFormButton=_s,Ja.AcroFormPushButton=Ss,Ja.AcroFormRadioButton=Es,Ja.AcroFormCheckBox=Ps,Ja.AcroFormTextField=Ls,Ja.AcroFormPasswordField=Ts,Ja.AcroFormAppearance=Is,Ja.AcroForm={ChoiceField:As,ListBox:ks,ComboBox:js,EditBox:Cs,Button:_s,PushButton:Ss,RadioButton:Es,CheckBox:Ps,TextField:Ls,PasswordField:Ts,Appearance:Is},Xa.AcroForm={ChoiceField:As,ListBox:ks,ComboBox:js,EditBox:Cs,Button:_s,PushButton:Ss,RadioButton:Es,CheckBox:Ps,TextField:Ls,PasswordField:Ts,Appearance:Is};var Rs=Xa.AcroForm;function Ds(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",a={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(e,t){var i,s,r,o,l,c=n;if("RGBA"===(t=t||n)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(A(e))for(l in a)for(r=a[l],i=0;i<r.length;i+=1){for(o=!0,s=0;s<r[i].length;s+=1)if(void 0!==r[i][s]&&r[i][s]!==e[s]){o=!1;break}if(!0===o){c=l;break}}else for(l in a)for(r=a[l],i=0;i<r.length;i+=1){for(o=!0,s=0;s<r[i].length;s+=1)if(void 0!==r[i][s]&&r[i][s]!==e.charCodeAt(s)){o=!1;break}if(!0===o){c=l;break}}return c===n&&t!==n&&(c=t),c},r=function e(t){for(var n=this.internal.write,i=this.internal.putStream,a=(0,this.internal.getFilters)();-1!==a.indexOf("FlateEncode");)a.splice(a.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var s=[];if(s.push({key:"Type",value:"/XObject"}),s.push({key:"Subtype",value:"/Image"}),s.push({key:"Width",value:t.width}),s.push({key:"Height",value:t.height}),t.colorSpace===b.INDEXED?s.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(s.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===b.DEVICE_CMYK&&s.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),s.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&s.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var r="",o=0,l=t.transparency.length;o<l;o++)r+=t.transparency[o]+" "+t.transparency[o]+" ";s.push({key:"Mask",value:"["+r+"]"})}void 0!==t.sMask&&s.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(i({data:t.data,additionalKeyValues:s,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var d=(null!=t.predictor?"/Predictor "+t.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+t.width,h={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:d,data:t.sMask};"filter"in t&&(h.filter=t.filter),e.call(this,h)}if(t.colorSpace===b.INDEXED){var u=this.internal.newObject();i({data:j(new Uint8Array(t.palette)),objectId:u}),n("endobj")}},o=function(){var e=this.internal.collections[t+"images"];for(var n in e)r.call(this,e[n])},l=function(){var e,n=this.internal.collections[t+"images"],i=this.internal.write;for(var a in n)i("/I"+(e=n[a]).index,e.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var e=this.internal.collections[t+"images"];return c.call(this),e},h=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},p=function(e){return"object"===(0,i.A)(e)&&1===e.nodeType},m=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var i=""+t.getAttribute("src");if(0===i.indexOf("data:image/"))return ka(unescape(i).split("base64,").pop());var a=e.loadFile(i,!0);if(void 0!==a)return a}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var s;switch(n){case"PNG":s="image/png";break;case"WEBP":s="image/webp";break;default:s="image/jpeg"}return ka(t.toDataURL(s,1).split("base64,").pop())}},f=function(e){var n=this.internal.collections[t+"images"];if(n)for(var i in n)if(e===n[i].alias)return n[i]},g=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},v=function(e,t,n,i,a,s){var r=g.call(this,n,i,a),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=d.call(this);if(n=r[0],i=r[1],c[a.index]=a,s){s*=Math.PI/180;var h=Math.cos(s),u=Math.sin(s),p=function(e){return e.toFixed(4)},m=[p(h),p(u),p(-1*u),p(h),0,0,"cm"]}this.internal.write("q"),s?(this.internal.write([1,"0","0",1,o(e),l(t+i),"cm"].join(" ")),this.internal.write(m.join(" ")),this.internal.write([o(n),"0","0",o(i),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(i),o(e),l(t+i),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+a.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(e){var t,n,i=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;else if(A(e))for(n=e.byteLength/2,t=0;t<n;t++)i=(i<<5)-i+e[t],i|=0;return i},w=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},N=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var A=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},k=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n},j=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=A(e)?e:new Uint8Array(e),i=0;i<n.length;i+=8192)t+=String.fromCharCode.apply(null,n.subarray(i,i+8192));return t};e.addImage=function(){var e,t,a,s,r,o,l,d,h;if("number"==typeof arguments[1]?(t=n,a=arguments[1],s=arguments[2],r=arguments[3],o=arguments[4],l=arguments[5],d=arguments[6],h=arguments[7]):(t=arguments[1],a=arguments[2],s=arguments[3],r=arguments[4],o=arguments[5],l=arguments[6],d=arguments[7],h=arguments[8]),"object"===(0,i.A)(e=arguments[0])&&!p(e)&&"imageData"in e){var u=e;e=u.imageData,t=u.format||t||n,a=u.x||a||0,s=u.y||s||0,r=u.w||u.width||r,o=u.h||u.height||o,l=u.alias||l,d=u.compression||d,h=u.rotation||u.angle||h}var m=this.internal.getFilters();if(void 0===d&&-1!==m.indexOf("FlateEncode")&&(d="SLOW"),isNaN(a)||isNaN(s))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var f=C.call(this,e,t,l,d);return v.call(this,a,s,r,o,f,h),this};var C=function(t,i,a,r){var o,l,c;if("string"==typeof t&&s(t)===n){t=unescape(t);var d=_(t,!1);(""!==d||void 0!==(d=e.loadFile(t,!0)))&&(t=d)}if(p(t)&&(t=m(t,i)),i=s(t,i),!u(i))throw new Error("addImage does not support files of type '"+i+"', please ensure that a plugin for '"+i+"' support is added.");if((null==(c=a)||0===c.length)&&(a=function(e){return"string"==typeof e||A(e)?x(e):A(e.data)?x(e.data):null}(t)),(o=f.call(this,a))||(t instanceof Uint8Array||"RGBA"===i||(l=t,t=k(t)),o=this["process"+i.toUpperCase()](t,h.call(this),a,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:y.NONE}(r),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},_=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var n,i="";if("string"==typeof e){var a;n=null!==(a=N(e))&&void 0!==a?a:e;try{i=ka(n)}catch(s){if(t)throw w(n)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+s.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return i};e.getImageProperties=function(t){var i,a,r="";if(p(t)&&(t=m(t)),"string"==typeof t&&s(t)===n&&(""===(r=_(t,!1))&&(r=e.loadFile(t)||""),t=r),a=s(t),!u(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(t instanceof Uint8Array||(t=k(t)),!(i=this["process"+a.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return i.fileType=a,i}}(Xa.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};Xa.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,i,a,s=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var h=0;h<l.length;h++){n=l[h];var u=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),f=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(m.objId),v=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+r(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+r(n.bounds.y)+"] ")+"/Contents ("+u(g(n.contents))+")",a+=" /Popup "+f.objId+" 0 R",a+=" /P "+o.objId+" 0 R",a+=" /T ("+u(g(v))+") >>",m.content=a;var b=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+r(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+r(n.bounds.y)+"] ")+" /Parent "+b,n.open&&(a+=" /Open true"),a+=" >>",f.content=a,this.internal.write(m.objId,"0 R",f.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+r(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+r(n.bounds.y+n.bounds.h)+"] ";var y=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+u(p(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+y+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var x=this.annotations._nameMap[n.options.name];n.options.pageNumber=x.page,n.options.top=x.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+u(p(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var w=r(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+w+" "+n.options.zoom+"]"}""!=a&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,i,a){var s=this.internal.getCurrentPageInfo(),r=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;s.pageContext.annotations.push({finalBounds:{x:r(e),y:o(t),w:r(e+n),h:o(t+i)},options:a,type:"link"})},e.textWithLink=function(e,t,n,i){var a,s,r=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==i.maxWidth){s=i.maxWidth;var l=this.splitTextToSize(e,s).length;a=Math.ceil(o*l)}else s=r,a=o;return this.text(e,t,n,i),n+=.2*o,"center"===i.align&&(t-=r/2),"right"===i.align&&(t-=r),this.link(t,n-o,s,a,i),r},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(Xa.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},r=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return r(e)&&s(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return r(e)&&a.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return r(e)&&s(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return r(e)&&s(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return r(e)&&s(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return r(e)&&s(e)&&4==t[e.charCodeAt(0)].length},h=e.__arabicParser__.resolveLigatures=function(e){var t=0,i=n,a="",s=0;for(t=0;t<e.length;t+=1)void 0!==i[e.charCodeAt(t)]?(s++,"number"==typeof(i=i[e.charCodeAt(t)])&&(a+=String.fromCharCode(i),i=n,s=0),t===e.length-1&&(i=n,a+=e.charAt(t-(s-1)),t-=s-1,s=0)):(i=n,a+=e.charAt(t-s),t-=s,s=0);return a};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==i[e.charCodeAt(0)]};var u=e.__arabicParser__.getCorrectForm=function(e,t,n){return r(e)?!1===s(e)?-1:!c(e)||!r(t)&&!r(n)||!r(n)&&o(t)||o(e)&&!r(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&r(t)&&!o(t)&&r(n)&&c(n)?3:o(e)||!r(n)?1:2:-1},p=function(e){var n=0,i=0,a=0,s="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(n=0;n<c.length;n+=1){for(d.push(""),i=0;i<c[n].length;i+=1)s=c[n][i],o=c[n][i-1],l=c[n][i+1],r(s)?(a=u(s,o,l),d[n]+=-1!==a?String.fromCharCode(t[s.charCodeAt(0)][a]):s):d[n]+=s;d[n]=h(d[n])}return d.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var i=0;for(n=[],i=0;i<t.length;i+=1)Array.isArray(t[i])?n.push([p(t[i][0]),t[i][1],t[i][2]]):n.push([p(t[i])]);e=n}else e=p(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",m])}(Xa.API),Xa.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(e){i=e}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(e){a=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Xa.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,a=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new r,this.internal.__cell__.pages=1},r=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var i=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return i},set:function(e){i=e}});var a=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var r=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return r},set:function(e){r=e}}),this};r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},r.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return a.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){a.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),i=t.font||this.getFont(),s=t.scaleFactor||this.internal.scaleFactor,r=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var h=0;h<e.length;h++)r<(l=this.getStringUnitWidth(e[h],{font:i})*n)&&(r=l);return 0!==r&&(o=e.length),{w:r/=s,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/s,0)}},e.cellAddPage=function(){a.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new r(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof r?arguments[0]:new r(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),a.call(this);var i=this.internal.__cell__.lastCell,s=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==i.lineNumber&&(i.lineNumber===e.lineNumber?(e.x=(i.x||0)+(i.width||0),e.y=i.y||0):i.y+i.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=i.y+i.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-s,e.y+s,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+s,{align:"center",baseline:"top",maxWidth:e.width-s-s}):this.text(e.text,e.x+s,e.y+s,{align:"left",baseline:"top",maxWidth:e.width-s-s})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,c,d,h){if(a.call(this),!c)throw new Error("No data for PDF table.");var u,p,m,f,g=[],v=[],b=[],y={},x={},w=[],N=[],A=(h=h||{}).autoSize||!1,k=!1!==h.printHeaders,j=h.css&&void 0!==h.css["font-size"]?16*h.css["font-size"]:h.fontSize||12,C=h.margins||Object.assign({width:this.getPageWidth()},t),_="number"==typeof h.padding?h.padding:3,S=h.headerBackgroundColor||"#c8c8c8",E=h.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=S,this.internal.__cell__.headerTextColor=E,this.setFontSize(j),null==d)v=g=Object.keys(c[0]),b=g.map(function(){return"left"});else if(Array.isArray(d)&&"object"===(0,i.A)(d[0]))for(g=d.map(function(e){return e.name}),v=d.map(function(e){return e.prompt||e.name||""}),b=d.map(function(e){return e.align||"left"}),u=0;u<d.length;u+=1)x[d[u].name]=.7499990551181103*d[u].width;else Array.isArray(d)&&"string"==typeof d[0]&&(v=g=d,b=g.map(function(){return"left"}));if(A||Array.isArray(d)&&"string"==typeof d[0])for(u=0;u<g.length;u+=1){for(y[f=g[u]]=c.map(function(e){return e[f]}),this.setFont(void 0,"bold"),w.push(this.getTextDimensions(v[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=y[f],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)w.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);x[f]=Math.max.apply(null,w)+_+_,w=[]}if(k){var M={};for(u=0;u<g.length;u+=1)M[g[u]]={},M[g[u]].text=v[u],M[g[u]].align=b[u];var P=l.call(this,M,x);N=g.map(function(t){return new r(e,n,x[t],P,M[t].text,void 0,M[t].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var L=d.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<c.length;u+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:u,data:c[u]},this);var T=l.call(this,c[u],x);for(m=0;m<g.length;m+=1){var I=c[u][g[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:u,col:m,data:I},this),o.call(this,new r(e,n,x[g[m]],T,I,u+2,L[g[m]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var l=function(e,t){var n=this.internal.__cell__.padding,i=this.internal.__cell__.table_font_size,a=this.internal.scaleFactor;return Object.keys(e).map(function(i){var a=e[i];return this.splitTextToSize(a.hasOwnProperty("text")?a.text:a,t[i]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*i/a+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){a.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(a.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var i;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var s=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new r(s[0],s[1],s[2],s[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){i=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(i.y=this.internal.__cell__.margins.top||0,l.push(i)),i.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,i),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(Xa.API);var Bs={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Os=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ws=Ds(Os),Hs=[100,200,300,400,500,600,700,800,900],zs=Ds(Hs);function Us(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return Bs[e=e||"normal"]?e:"normal"}(e.style),i=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),a=function(e){return"number"==typeof Ws[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:i,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,i].join(" ")}}}function qs(e,t,n,i){var a;for(a=n;a>=0&&a<t.length;a+=i)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=i)if(e[t[a]])return e[t[a]]}var Gs={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Vs={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Ys(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Ks(e){return e.trimLeft()}function Xs(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Js(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Qs,Zs,$s,er,tr,nr,ir,ar,sr,rr=["times"];function or(e,t,n,i){var a=4,s=dr;switch(i){case Xa.API.image_compression.FAST:a=1,s=cr;break;case Xa.API.image_compression.MEDIUM:a=6,s=hr;break;case Xa.API.image_compression.SLOW:a=9,s=ur}e=function(e,t,n,i){for(var a,s=e.length/t,r=new Uint8Array(e.length+s),o=[lr,cr,dr,hr,ur],l=0;l<s;l+=1){var c=l*t,d=e.subarray(c,c+t);if(i)r.set(i(d,n,a),c+l);else{for(var h=o.length,u=[],p=0;p<h;p+=1)u[p]=o[p](d,n,a);var m=mr(u.concat());r.set(u[m],c+l)}a=d}return r}(e,t,n,s);var r=H(e,{level:a});return Xa.API.__addimage__.arrayBufferToBinaryString(r)}function lr(e){var t=Array.apply([],e);return t.unshift(0),t}function cr(e,t){var n=e.length,i=[];i[0]=1;for(var a=0;a<n;a+=1){var s=e[a-t]||0;i[a+1]=e[a]-s+256&255}return i}function dr(e,t,n){var i=e.length,a=[];a[0]=2;for(var s=0;s<i;s+=1){var r=n&&n[s]||0;a[s+1]=e[s]-r+256&255}return a}function hr(e,t,n){var i=e.length,a=[];a[0]=3;for(var s=0;s<i;s+=1){var r=e[s-t]||0,o=n&&n[s]||0;a[s+1]=e[s]+256-(r+o>>>1)&255}return a}function ur(e,t,n){var i=e.length,a=[];a[0]=4;for(var s=0;s<i;s+=1){var r=pr(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);a[s+1]=e[s]-r+256&255}return a}function pr(e,t,n){if(e===t&&t===n)return e;var i=Math.abs(t-n),a=Math.abs(e-n),s=Math.abs(e+t-n-n);return i<=a&&i<=s?e:a<=s?t:n}function mr(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function fr(e,t,n){var i=t*n,a=Math.floor(i/8),s=16-(i-8*a+n),r=(1<<n)-1;return vr(e,a)>>s&r}function gr(e,t,n,i){var a=n*i,s=Math.floor(a/8),r=16-(a-8*s+i),o=(1<<i)-1,l=(t&o)<<r;!function(e,t,n){if(t+1<e.byteLength)e.setUint16(t,n,!1);else{var i=n>>8&255;e.setUint8(t,i)}}(e,s,vr(e,s)&~(o<<r)&65535|l)}function vr(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function br(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,i=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,r=1<<1+(7&a);e[t++],e[t++];var o=null,l=null;s&&(o=t,l=r,t+=3*r);var c=!0,d=[],h=0,u=null,p=0,m=null;for(this.width=n,this.height=i;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var f=e[t++];h=e[t++]|e[t++]<<8,u=e[t++],1&f||(u=null),p=f>>2&7,t++;break;case 254:for(;;){if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++],w=x>>6&1,N=1<<1+(7&x),A=o,k=l,j=!1;x>>7&&(j=!0,A=t,k=N,t+=3*N);var C=t;for(t++;;){var _;if(!((_=e[t++])>=0))throw Error("Invalid block size");if(0===_)break;t+=_}d.push({x:g,y:v,width:b,height:y,has_local_palette:j,palette_offset:A,palette_size:k,data_offset:C,data_length:t-C,transparent_index:u,interlaced:!!w,delay:h,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return m},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,i){var a=this.frameInfo(t),s=a.width*a.height,r=new Uint8Array(s);yr(e,a.data_offset,r,s);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,h=c,u=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),m=u,f=4*d;!0===a.interlaced&&(f+=4*n*7);for(var g=8,v=0,b=r.length;v<b;++v){var y=r[v];if(0===h&&(h=c,(m+=f)>=p&&(f=4*d+4*n*(g-1),m=u+(c+d)*(g<<1),g>>=1)),y===l)m+=4;else{var x=e[o+3*y],w=e[o+3*y+1],N=e[o+3*y+2];i[m++]=N,i[m++]=w,i[m++]=x,i[m++]=255}--h}},this.decodeAndBlitFrameRGBA=function(t,i){var a=this.frameInfo(t),s=a.width*a.height,r=new Uint8Array(s);yr(e,a.data_offset,r,s);var o=a.palette_offset,l=a.transparent_index;null===l&&(l=256);var c=a.width,d=n-c,h=c,u=4*(a.y*n+a.x),p=4*((a.y+a.height)*n+a.x),m=u,f=4*d;!0===a.interlaced&&(f+=4*n*7);for(var g=8,v=0,b=r.length;v<b;++v){var y=r[v];if(0===h&&(h=c,(m+=f)>=p&&(f=4*d+4*n*(g-1),m=u+(c+d)*(g<<1),g>>=1)),y===l)m+=4;else{var x=e[o+3*y],w=e[o+3*y+1],N=e[o+3*y+2];i[m++]=x,i[m++]=w,i[m++]=N,i[m++]=255}--h}}}function yr(e,t,n,i){for(var a=e[t++],s=1<<a,r=s+1,o=r+1,l=a+1,c=(1<<l)-1,d=0,h=0,u=0,p=e[t++],m=new Int32Array(4096),f=null;;){for(;d<16&&0!==p;)h|=e[t++]<<d,d+=8,1===p?p=e[t++]:--p;if(d<l)break;var g=h&c;if(h>>=l,d-=l,g!==s){if(g===r)break;for(var v=g<o?g:f,b=0,y=v;y>s;)y=m[y]>>8,++b;var x=y;if(u+b+(v!==g?1:0)>i)return void ba.log("Warning, gif stream longer than expected.");n[u++]=x;var w=u+=b;for(v!==g&&(n[u++]=x),y=v;b--;)y=m[y],n[--w]=255&y,y>>=8;null!==f&&o<4096&&(m[o++]=f<<8|x,o>=c+1&&l<12&&(++l,c=c<<1|1)),f=g}else o=r+1,c=(1<<(l=a+1))-1,f=null}return u!==i&&ba.log("Warning, gif stream shorter than expected."),n}function xr(e){var t,n,i,a,s,r=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),h=new Array(65535),u=new Array(65535),p=new Array(64),m=new Array(64),f=[],g=0,v=7,b=new Array(64),y=new Array(64),x=new Array(64),w=new Array(256),N=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],P=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function L(e,t){for(var n=0,i=0,a=new Array,s=1;s<=16;s++){for(var r=1;r<=e[s];r++)a[t[i]]=[],a[t[i]][0]=n,a[t[i]][1]=s,i++,n++;n*=2}return a}function T(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(g|=1<<v),n--,--v<0&&(255==g?(I(255),I(0)):I(g),v=7,g=0)}function I(e){f.push(e)}function F(e){I(e>>8&255),I(255&e)}function R(e,t,n,i,a){for(var s,r=a[0],o=a[240],l=function(e,t){var n,i,a,s,r,o,l,c,d,h,u=0;for(d=0;d<8;++d){n=e[u],i=e[u+1],a=e[u+2],s=e[u+3],r=e[u+4],o=e[u+5],l=e[u+6];var m=n+(c=e[u+7]),f=n-c,g=i+l,v=i-l,b=a+o,y=a-o,x=s+r,w=s-r,N=m+x,A=m-x,k=g+b,j=g-b;e[u]=N+k,e[u+4]=N-k;var C=.707106781*(j+A);e[u+2]=A+C,e[u+6]=A-C;var _=.382683433*((N=w+y)-(j=v+f)),S=.5411961*N+_,E=1.306562965*j+_,M=.707106781*(k=y+v),P=f+M,L=f-M;e[u+5]=L+S,e[u+3]=L-S,e[u+1]=P+E,e[u+7]=P-E,u+=8}for(u=0,d=0;d<8;++d){n=e[u],i=e[u+8],a=e[u+16],s=e[u+24],r=e[u+32],o=e[u+40],l=e[u+48];var T=n+(c=e[u+56]),I=n-c,F=i+l,R=i-l,D=a+o,B=a-o,O=s+r,W=s-r,H=T+O,z=T-O,U=F+D,q=F-D;e[u]=H+U,e[u+32]=H-U;var G=.707106781*(q+z);e[u+16]=z+G,e[u+48]=z-G;var V=.382683433*((H=W+B)-(q=R+I)),Y=.5411961*H+V,K=1.306562965*q+V,X=.707106781*(U=B+R),J=I+X,Q=I-X;e[u+40]=Q+Y,e[u+24]=Q-Y,e[u+8]=J+K,e[u+56]=J-K,u++}for(d=0;d<64;++d)h=e[d]*t[d],p[d]=h>0?h+.5|0:h-.5|0;return p}(e,t),c=0;c<64;++c)m[A[c]]=l[c];var d=m[0]-n;n=m[0],0==d?T(i[0]):(T(i[u[s=32767+d]]),T(h[s]));for(var f=63;f>0&&0==m[f];)f--;if(0==f)return T(r),n;for(var g,v=1;v<=f;){for(var b=v;0==m[v]&&v<=f;)++v;var y=v-b;if(y>=16){g=y>>4;for(var x=1;x<=g;++x)T(o);y&=15}s=32767+m[v],T(a[(y<<4)+u[s]]),T(h[s]),v++}return 63!=f&&T(r),n}function D(e){e=Math.min(Math.max(e,1),100),s!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=r((t[n]*e+50)/100);i=Math.min(Math.max(i,1),255),o[A[n]]=i}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],s=0;s<64;s++){var h=r((a[s]*e+50)/100);h=Math.min(Math.max(h,1),255),l[A[s]]=h}for(var u=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,m=0;m<8;m++)for(var f=0;f<8;f++)c[p]=1/(o[A[p]]*u[m]*u[f]*8),d[p]=1/(l[A[p]]*u[m]*u[f]*8),p++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),s=e)}this.encode=function(e,s){s&&D(s),f=new Array,g=0,v=7,F(65496),F(65504),F(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),F(1),F(1),I(0),I(0),function(){F(65499),F(132),I(0);for(var e=0;e<64;e++)I(o[e]);I(1);for(var t=0;t<64;t++)I(l[t])}(),function(e,t){F(65472),F(17),I(8),F(t),F(e),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)}(e.width,e.height),function(){F(65476),F(418),I(0);for(var e=0;e<16;e++)I(k[e+1]);for(var t=0;t<=11;t++)I(j[t]);I(16);for(var n=0;n<16;n++)I(C[n+1]);for(var i=0;i<=161;i++)I(_[i]);I(1);for(var a=0;a<16;a++)I(S[a+1]);for(var s=0;s<=11;s++)I(E[s]);I(17);for(var r=0;r<16;r++)I(M[r+1]);for(var o=0;o<=161;o++)I(P[o])}(),F(65498),F(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var r=0,h=0,u=0;g=0,v=7,this.encode.displayName="_encode_";for(var p,m,w,A,L,B,O,W,H,z=e.data,U=e.width,q=e.height,G=4*U,V=0;V<q;){for(p=0;p<G;){for(L=G*V+p,O=-1,W=0,H=0;H<64;H++)B=L+(W=H>>3)*G+(O=4*(7&H)),V+W>=q&&(B-=G*(V+1+W-q)),p+O>=G&&(B-=p+O-G+4),m=z[B++],w=z[B++],A=z[B++],b[H]=(N[m]+N[w+256|0]+N[A+512|0]>>16)-128,y[H]=(N[m+768|0]+N[w+1024|0]+N[A+1280|0]>>16)-128,x[H]=(N[m+1280|0]+N[w+1536|0]+N[A+1792|0]>>16)-128;r=R(b,c,r,t,i),h=R(y,d,h,n,a),u=R(x,d,u,n,a),p+=32}V+=8}if(v>=0){var Y=[];Y[1]=v+1,Y[0]=(1<<v+1)-1,T(Y)}return F(65497),new Uint8Array(f)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=L(k,j),n=L(S,E),i=L(C,_),a=L(M,P),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var i=e;i<t;i++)u[32767+i]=n,h[32767+i]=[],h[32767+i][1]=n,h[32767+i][0]=i;for(var a=-(t-1);a<=-e;a++)u[32767+a]=n,h[32767+a]=[],h[32767+a][1]=n,h[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)N[e]=19595*e,N[e+256|0]=38470*e,N[e+512|0]=7471*e+32768,N[e+768|0]=-11059*e,N[e+1024|0]=-21709*e,N[e+1280|0]=32768*e+8421375,N[e+1536|0]=-27439*e,N[e+1792|0]=-5329*e}(),D(e)}function wr(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Nr(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var i=0;4>i;i++)if(e[t+i]!=n.charCodeAt(i))return!0;return!1}function i(e,t,n,i,a){for(var s=0;s<a;s++)e[t+s]=n[i+s]}function a(e,t,n,i){for(var a=0;a<i;a++)e[t+a]=n}function s(e){return new Int32Array(e)}function r(e,t){for(var n=[],i=0;i<e;i++)n.push(new t);return n}function o(e,t){var n=[];return function e(n,i,a){for(var s=a[i],r=0;r<s&&(n.push(a.length>i+1?[]:new t),!(a.length<i+1));r++)e(n[r],i+1,a)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,i,a,s){t(!(a%i));do{e[n+(a-=i)]=s}while(0<a)}function d(e,n,i,a,r){if(t(2328>=r),512>=r)var o=s(512);else if(null==(o=s(r)))return 0;return function(e,n,i,a,r,o){var d,u,p=n,m=1<<i,f=s(16),g=s(16);for(t(0!=r),t(null!=a),t(null!=e),t(0<i),u=0;u<r;++u){if(15<a[u])return 0;++f[a[u]]}if(f[0]==r)return 0;for(g[1]=0,d=1;15>d;++d){if(f[d]>1<<d)return 0;g[d+1]=g[d]+f[d]}for(u=0;u<r;++u)d=a[u],0<a[u]&&(o[g[d]++]=u);if(1==g[15])return(a=new h).g=0,a.value=o[0],c(e,p,1,m,a),m;var v,b=-1,y=m-1,x=0,w=1,N=1,A=1<<i;for(u=0,d=1,r=2;d<=i;++d,r<<=1){if(w+=N<<=1,0>(N-=f[d]))return 0;for(;0<f[d];--f[d])(a=new h).g=d,a.value=o[u++],c(e,p+x,r,A,a),x=l(x,d)}for(d=i+1,r=2;15>=d;++d,r<<=1){if(w+=N<<=1,0>(N-=f[d]))return 0;for(;0<f[d];--f[d]){if(a=new h,(x&y)!=b){for(p+=A,v=1<<(b=d)-i;15>b&&!(0>=(v-=f[b]));)++b,v<<=1;m+=A=1<<(v=b-i),e[n+(b=x&y)].g=v+i,e[n+b].value=p-n-b}a.g=d-i,a.value=o[u++],c(e,p+(x>>i),r,A,a),x=l(x,d)}}return w!=2*g[15]-1?0:m}(e,n,i,a,r,o)}function h(){this.value=this.g=0}function u(){this.value=this.g=0}function p(){this.G=r(5,h),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=r(Bn,u)}function m(e,n,i,a){t(null!=e),t(null!=n),t(2147483648>a),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=i,e.Jd=n,e.Yc=i+a,e.Zc=4<=a?i+a-4+1:i,C(e)}function f(e,t){for(var n=0;0<t--;)n|=S(e,128)<<t;return n}function g(e,t){var n=f(e,t);return _(e)?-n:n}function v(e,n,i,a){var s,r=0;for(t(null!=e),t(null!=n),t(4294967288>a),e.Sb=a,e.Ra=0,e.u=0,e.h=0,4<a&&(a=4),s=0;s<a;++s)r+=n[i+s]<<8*s;e.Ra=r,e.bb=a,e.oa=n,e.pa=i}function b(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Hn-8>>>0,++e.bb,e.u-=8;A(e)&&(e.h=1,e.u=0)}function y(e,n){if(t(0<=n),!e.h&&n<=Wn){var i=N(e)&On[n];return e.u+=n,b(e),i}return e.h=1,e.u=0}function x(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function w(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function N(e){return e.Ra>>>(e.u&Hn-1)>>>0}function A(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Hn}function k(e,t){e.u=t,e.h=A(e)}function j(e){e.u>=zn&&(t(e.u>=zn),b(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function _(e){return f(e,1)}function S(e,t){var n=e.Ca;0>e.b&&C(e);var i=e.b,a=n*t>>>8,s=(e.I>>>i>a)+0;for(s?(n-=a,e.I-=a+1<<i>>>0):n=a+1,i=n,a=0;256<=i;)a+=8,i>>=8;return i=7^a+Un[i],e.b-=i,e.Ca=(n<<i)-1,s}function E(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function M(e,t){return e[t+0]|e[t+1]<<8}function P(e,t){return M(e,t)|e[t+2]<<16}function L(e,t){return M(e,t)|M(e,t+2)<<16}function T(e,n){var i=1<<n;return t(null!=e),t(0<n),e.X=s(i),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function I(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),i(n.X,0,e.X,0,1<<n.Xa)}function F(){this.X=[],this.Xa=this.Mb=0}function R(e,n,i,a){t(null!=i),t(null!=a);var s=i[0],r=a[0];return 0==s&&(s=(e*r+n/2)/n),0==r&&(r=(n*s+e/2)/e),0>=s||0>=r?0:(i[0]=s,a[0]=r,1)}function D(e,t){return e+(1<<t)-1>>>t}function B(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function O(t,n){e[n]=function(n,i,a,s,r,o,l){var c;for(c=0;c<r;++c){var d=e[t](o[l+c-1],a,s+c);o[l+c]=B(n[i+c],d)}}}function W(){this.ud=this.hd=this.jd=0}function H(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function z(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function U(e,t){return z(e+(e-t+.5>>1))}function q(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function G(e,t,n,i,a,s,r){for(i=s[r-1],n=0;n<a;++n)s[r+n]=i=B(e[t+n],i)}function V(e,t,n,i,a){var s;for(s=0;s<n;++s){var r=e[t+s],o=r>>8&255,l=16711935&(l=(l=16711935&r)+((o<<16)+o));i[a+s]=(4278255360&r)+l>>>0}}function Y(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function K(e,t,n,i,a,s){var r;for(r=0;r<i;++r){var o=t[n+r],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),a[s+r]=(4278255360&o)+(d<<16)+c}}function X(t,n,i,a,s){e[n]=function(e,t,n,i,r,o,l,c,d){for(i=l;i<c;++i)for(l=0;l<d;++l)r[o++]=s(n[a(e[t++])])},e[t]=function(t,n,r,o,l,c,d){var h=8>>t.b,u=t.Ea,p=t.K[0],m=t.w;if(8>h)for(t=(1<<t.b)-1,m=(1<<h)-1;n<r;++n){var f,g=0;for(f=0;f<u;++f)f&t||(g=a(o[l++])),c[d++]=s(p[g&m]),g>>=h}else e["VP8LMapColor"+i](o,l,p,m,c,d,n,r,u)}}function J(e,t,n,i,a){for(n=t+n;t<n;){var s=e[t++];i[a++]=s>>16&255,i[a++]=s>>8&255,i[a++]=255&s}}function Q(e,t,n,i,a){for(n=t+n;t<n;){var s=e[t++];i[a++]=s>>16&255,i[a++]=s>>8&255,i[a++]=255&s,i[a++]=s>>24&255}}function Z(e,t,n,i,a){for(n=t+n;t<n;){var s=(r=e[t++])>>16&240|r>>12&15,r=240&r|r>>28&15;i[a++]=s,i[a++]=r}}function $(e,t,n,i,a){for(n=t+n;t<n;){var s=(r=e[t++])>>16&248|r>>13&7,r=r>>5&224|r>>3&31;i[a++]=s,i[a++]=r}}function ee(e,t,n,i,a){for(n=t+n;t<n;){var s=e[t++];i[a++]=255&s,i[a++]=s>>8&255,i[a++]=s>>16&255}}function te(e,t,n,a,s,r){if(0==r)for(n=t+n;t<n;)E(a,((r=e[t++])[0]>>24|r[1]>>8&65280|r[2]<<8&16711680|r[3]<<24)>>>0),s+=32;else i(a,s,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function ie(e){return e==zi||e==Ui||e==qi||e==Gi}function ae(){this.eb=[],this.size=this.A=this.fb=0}function se(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function re(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ae,this.f.kb=new se,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var n=e.T,a=t.ba.f.RGBA,s=a.eb,r=a.fb+e.ka*a.A,o=ga[t.ba.S],l=e.y,c=e.O,d=e.f,h=e.N,u=e.ea,p=e.W,m=t.cc,f=t.dc,g=t.Mc,v=t.Nc,b=e.ka,y=e.ka+e.T,x=e.U,w=x+1>>1;for(0==b?o(l,c,null,null,d,h,u,p,d,h,u,p,s,r,null,null,x):(o(t.ec,t.fc,l,c,m,f,g,v,d,h,u,p,s,r-a.A,s,r,x),++n);b+2<y;b+=2)m=d,f=h,g=u,v=p,h+=e.Rc,p+=e.Rc,r+=2*a.A,o(l,(c+=2*e.fa)-e.fa,l,c,m,f,g,v,d,h,u,p,s,r-a.A,s,r,x);return c+=e.fa,e.j+y<e.o?(i(t.ec,t.fc,l,c,x),i(t.cc,t.dc,d,h,w),i(t.Mc,t.Nc,u,p,w),n--):1&y||o(l,c,null,null,d,h,u,p,d,h,u,p,s,r+a.A,null,null,x),n}function he(e,n,i){var a=e.F,s=[e.J];if(null!=a){var r=e.U,o=n.ba.S,l=o==Oi||o==qi;n=n.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,s[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var h=n.eb;d=n.fb+d*n.A,e=ki(a,s[0],e.width,r,c,h,d+(l?0:3),n.A),t(i==c),e&&ie(o)&&Ni(h,d,l,r,c,n.A)}return 0}function ue(e){var t=e.ma,n=t.ba.S,i=11>n,a=n==Ri||n==Bi||n==Oi||n==Wi||12==n||ie(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Fn(t.Oa,e,a?11:12))return 0;if(a&&ie(n)&&bn(),e.da)alert("todo:use_scaling");else{if(i){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=s(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=de,bn()}}else alert("todo:EmitYUV");a&&(t.Jb=he,i&&gn())}if(i&&!Ma){for(e=0;256>e;++e)Pa[e]=89858*(e-128)+ja>>ka,Ia[e]=-22014*(e-128)+ja,Ta[e]=-45773*(e-128),La[e]=113618*(e-128)+ja>>ka;for(e=Ca;e<_a;++e)t=76283*(e-16)+ja>>ka,Fa[e-Ca]=Ge(t,255),Ra[e-Ca]=Ge(t+8>>4,15);Ma=1}return 1}function pe(e){var n=e.ma,i=e.U,a=e.T;return t(!(1&e.ka)),0>=i||0>=a?0:(i=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,i),n.Dc+=i,1)}function me(e){e.ma.memory=null}function fe(e,t,n,i){return 47!=y(e,8)?0:(t[0]=y(e,14)+1,n[0]=y(e,14)+1,i[0]=y(e,1),0!=y(e,3)?0:!e.h)}function ge(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+y(t,n)+1}function ve(e,t){return 120<t?t-120:1<=(n=((n=Qi[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function be(e,t,n){var i=N(n),a=e[t+=255&i].g-8;return 0<a&&(k(n,n.u+8),i=N(n),t+=e[t].value,t+=i&(1<<a)-1),k(n,n.u+e[t].g),e[t].value}function ye(e,n,i){return i.g+=e.g,i.value+=e.value<<n>>>0,t(8>=i.g),e.g}function xe(e,n,i){var a=e.xc;return t((n=0==a?0:e.vc[e.md*(i>>a)+(n>>a)])<e.Wb),e.Ya[n]}function we(e,n,a,s){var r=e.ab,o=e.c*n,l=e.C;n=l+n;var c=a,d=s;for(s=e.Ta,a=e.Ua;0<r--;){var h=e.gc[r],u=l,p=n,m=c,f=d,g=(d=s,c=a,h.Ea);switch(t(u<p),t(p<=h.nc),h.hc){case 2:Vn(m,f,(p-u)*g,d,c);break;case 0:var v=u,b=p,y=d,x=c,w=(C=h).Ea;0==v&&(qn(m,f,null,null,1,y,x),G(m,f+1,0,0,w-1,y,x+1),f+=w,x+=w,++v);for(var N=1<<C.b,A=N-1,k=D(w,C.b),j=C.K,C=C.w+(v>>C.b)*k;v<b;){var _=j,S=C,E=1;for(Gn(m,f,y,x-w,1,y,x);E<w;){var M=(E&~A)+N;M>w&&(M=w),(0,Qn[_[S++]>>8&15])(m,f+ +E,y,x+E-w,M-E,y,x+E),E=M}f+=w,x+=w,++v&A||(C+=k)}p!=h.nc&&i(d,c-g,d,c+(p-u-1)*g,g);break;case 1:for(g=m,b=f,w=(m=h.Ea)-(x=m&~(y=(f=1<<h.b)-1)),v=D(m,h.b),N=h.K,h=h.w+(u>>h.b)*v;u<p;){for(A=N,k=h,j=new W,C=b+x,_=b+m;b<C;)Y(A[k++],j),Zn(j,g,b,f,d,c),b+=f,c+=f;b<_&&(Y(A[k++],j),Zn(j,g,b,w,d,c),b+=w,c+=w),++u&y||(h+=v)}break;case 3:if(m==d&&f==c&&0<h.b){for(b=d,m=g=c+(p-u)*g-(x=(p-u)*D(h.Ea,h.b)),f=d,y=c,v=[],x=(w=x)-1;0<=x;--x)v[x]=f[y+x];for(x=w-1;0<=x;--x)b[m+x]=v[x];Yn(h,u,p,d,g,d,c)}else Yn(h,u,p,m,f,d,c)}c=s,d=a}d!=a&&i(s,a,c,d,o)}function Ne(e,n){var i=e.V,a=e.Ba+e.c*e.C,s=n-e.C;if(t(n<=e.l.o),t(16>=s),0<s){var r=e.l,o=e.Ta,l=e.Ua,c=r.width;if(we(e,s,i,a),s=l=[l],t((i=e.C)<(a=n)),t(r.v<r.va),a>r.o&&(a=r.o),i<r.j){var d=r.j-i;i=r.j,s[0]+=d*c}if(i>=a?i=0:(s[0]+=4*r.v,r.ka=i-r.j,r.U=r.va-r.v,r.T=a-i,i=1),i){if(l=l[0],11>(i=e.ca).S){var h=i.f.RGBA,u=(a=i.S,s=r.U,r=r.T,d=h.eb,h.A),p=r;for(h=h.fb+e.Ma*h.A;0<p--;){var m=o,f=l,g=s,v=d,b=h;switch(a){case Fi:$n(m,f,g,v,b);break;case Ri:ei(m,f,g,v,b);break;case zi:ei(m,f,g,v,b),Ni(v,b,0,g,1,0);break;case Di:ii(m,f,g,v,b);break;case Bi:te(m,f,g,v,b,1);break;case Ui:te(m,f,g,v,b,1),Ni(v,b,0,g,1,0);break;case Oi:te(m,f,g,v,b,0);break;case qi:te(m,f,g,v,b,0),Ni(v,b,1,g,1,0);break;case Wi:ti(m,f,g,v,b);break;case Gi:ti(m,f,g,v,b),Ai(v,b,g,1,0);break;case Hi:ni(m,f,g,v,b);break;default:t(0)}l+=c,h+=u}e.Ma+=r}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=i.height)}}e.C=n,t(e.C<=e.i)}function Ae(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,i=e.Ya[t].H;if(0<n[1][i[1]+0].g||0<n[2][i[2]+0].g||0<n[3][i[3]+0].g)return 0}return 1}function ke(e,n,i,a,s,r){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=fa[e.Z]);n<i;++n)fa[e.Z](o,l,a,s,a,s,r),o=a,l=s,s+=r;e.qd=o,e.rd=l}}function je(e,n){var i=e.l.ma,a=0==i.Z||1==i.Z?e.l.j:e.C;if(a=e.C<a?a:e.C,t(n<=e.l.o),n>a){var s=e.l.width,r=i.ca,o=i.tb+s*a,l=e.V,c=e.Ba+e.c*a,d=e.gc;t(1==e.ab),t(3==d[0].hc),Xn(d[0],a,n,l,c,r,o),ke(i,a,n,r,o,s)}e.C=e.Ma=n}function Ce(e,n,i,a,s,r,o){var l=e.$/a,c=e.$%a,d=e.m,h=e.s,u=i+e.$,p=u;s=i+a*s;var m=i+a*r,f=280+h.ua,g=e.Pb?l:16777216,v=0<h.ua?h.Wa:null,b=h.wc,y=u<m?xe(h,c,l):null;t(e.C<r),t(m<=s);var x=!1;e:for(;;){for(;x||u<m;){var w=0;if(l>=g){var C=u-i;t((g=e).Pb),g.wd=g.m,g.xd=C,0<g.s.ua&&I(g.s.Wa,g.s.vb),g=l+$i}if(c&b||(y=xe(h,c,l)),t(null!=y),y.Qb&&(n[u]=y.qb,x=!0),!x)if(j(d),y.jc){w=d,C=n;var _=u,S=y.pd[N(w)&Bn-1];t(y.jc),256>S.g?(k(w,w.u+S.g),C[_]=S.value,w=0):(k(w,w.u+S.g-256),t(256<=S.value),w=S.value),0==w&&(x=!0)}else w=be(y.G[0],y.H[0],d);if(d.h)break;if(x||256>w){if(!x)if(y.nd)n[u]=(y.qb|w<<8)>>>0;else{if(j(d),x=be(y.G[1],y.H[1],d),j(d),C=be(y.G[2],y.H[2],d),_=be(y.G[3],y.H[3],d),d.h)break;n[u]=(_<<24|x<<16|w<<8|C)>>>0}if(x=!1,++u,++c>=a&&(c=0,++l,null!=o&&l<=r&&!(l%16)&&o(e,l),null!=v))for(;p<u;)w=n[p++],v.X[(506832829*w&4294967295)>>>v.Mb]=w}else if(280>w){if(w=ge(w-256,d),C=be(y.G[4],y.H[4],d),j(d),C=ve(a,C=ge(C,d)),d.h)break;if(u-i<C||s-u<w)break e;for(_=0;_<w;++_)n[u+_]=n[u+_-C];for(u+=w,c+=w;c>=a;)c-=a,++l,null!=o&&l<=r&&!(l%16)&&o(e,l);if(t(u<=s),c&b&&(y=xe(h,c,l)),null!=v)for(;p<u;)w=n[p++],v.X[(506832829*w&4294967295)>>>v.Mb]=w}else{if(!(w<f))break e;for(x=w-280,t(null!=v);p<u;)w=n[p++],v.X[(506832829*w&4294967295)>>>v.Mb]=w;w=u,t(!(x>>>(C=v).Xa)),n[w]=C.X[x],x=!0}x||t(d.h==A(d))}if(e.Pb&&d.h&&u<s)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&I(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>r?r:l),e.a=0,e.$=u-i}return 1}return e.a=3,0}function _e(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function Se(){var t=new rn;return null==t?null:(t.a=0,t.xb=ma,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),Vn=V,Zn=K,$n=J,ei=Q,ti=Z,ni=$,ii=ee,e.VP8LMapColor32b=Kn,e.VP8LMapColor8b=Jn,t)}function Ee(e,n,i,o,l){var c=1,u=[e],m=[n],f=o.m,g=o.s,v=null,b=0;e:for(;;){if(i)for(;c&&y(f,1);){var x=u,w=m,A=o,C=1,_=A.m,S=A.gc[A.ab],E=y(_,2);if(A.Oc&1<<E)c=0;else{switch(A.Oc|=1<<E,S.hc=E,S.Ea=x[0],S.nc=w[0],S.K=[null],++A.ab,t(4>=A.ab),E){case 0:case 1:S.b=y(_,3)+2,C=Ee(D(S.Ea,S.b),D(S.nc,S.b),0,A,S.K),S.K=S.K[0];break;case 3:var M,P=y(_,8)+1,L=16<P?0:4<P?1:2<P?2:3;if(x[0]=D(S.Ea,L),S.b=L,M=C=Ee(P,1,0,A,S.K)){var I,F=P,R=S,O=1<<(8>>R.b),W=s(O);if(null==W)M=0;else{var H=R.K[0],z=R.w;for(W[0]=R.K[0][0],I=1;I<1*F;++I)W[I]=B(H[z+I],W[I-1]);for(;I<4*O;++I)W[I]=0;R.K[0]=null,R.K[0]=W,M=1}}C=M;break;case 2:break;default:t(0)}c=C}}if(u=u[0],m=m[0],c&&y(f,1)&&!(c=1<=(b=y(f,4))&&11>=b)){o.a=3;break e}var U;if(U=c)t:{var q,G,V,Y=o,K=u,X=m,J=b,Q=i,Z=Y.m,$=Y.s,ee=[null],te=1,ne=0,ie=Zi[J];n:for(;;){if(Q&&y(Z,1)){var ae=y(Z,3)+2,se=D(K,ae),re=D(X,ae),oe=se*re;if(!Ee(se,re,0,Y,ee))break n;for(ee=ee[0],$.xc=ae,q=0;q<oe;++q){var le=ee[q]>>8&65535;ee[q]=le,le>=te&&(te=le+1)}}if(Z.h)break n;for(G=0;5>G;++G){var ce=Ki[G];!G&&0<J&&(ce+=1<<J),ne<ce&&(ne=ce)}var de=r(te*ie,h),he=te,ue=r(he,p);if(null==ue)var pe=null;else t(65536>=he),pe=ue;var me=s(ne);if(null==pe||null==me||null==de){Y.a=1;break n}var fe=de;for(q=V=0;q<te;++q){var ge=pe[q],ve=ge.G,be=ge.H,xe=0,we=1,Ne=0;for(G=0;5>G;++G){ce=Ki[G],ve[G]=fe,be[G]=V,!G&&0<J&&(ce+=1<<J);i:{var Ae,ke=ce,je=Y,Se=me,Me=fe,Pe=V,Le=0,Te=je.m,Ie=y(Te,1);if(a(Se,0,0,ke),Ie){var Fe=y(Te,1)+1,Re=y(Te,1),De=y(Te,0==Re?1:8);Se[De]=1,2==Fe&&(Se[De=y(Te,8)]=1);var Be=1}else{var Oe=s(19),We=y(Te,4)+4;if(19<We){je.a=3;var He=0;break i}for(Ae=0;Ae<We;++Ae)Oe[Ji[Ae]]=y(Te,3);var ze=void 0,Ue=void 0,qe=je,Ge=Oe,Ve=ke,Ye=Se,Ke=0,Xe=qe.m,Je=8,Qe=r(128,h);a:for(;d(Qe,0,7,Ge,19);){if(y(Xe,1)){var Ze=2+2*y(Xe,3);if((ze=2+y(Xe,Ze))>Ve)break a}else ze=Ve;for(Ue=0;Ue<Ve&&ze--;){j(Xe);var $e=Qe[0+(127&N(Xe))];k(Xe,Xe.u+$e.g);var et=$e.value;if(16>et)Ye[Ue++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,it=Yi[nt],at=y(Xe,Vi[nt])+it;if(Ue+at>Ve)break a;for(var st=tt?Je:0;0<at--;)Ye[Ue++]=st}}Ke=1;break a}Ke||(qe.a=3),Be=Ke}(Be=Be&&!Te.h)&&(Le=d(Me,Pe,8,Se,ke)),Be&&0!=Le?He=Le:(je.a=3,He=0)}if(0==He)break n;if(we&&1==Xi[G]&&(we=0==fe[V].g),xe+=fe[V].g,V+=He,3>=G){var rt,ot=me[0];for(rt=1;rt<ce;++rt)me[rt]>ot&&(ot=me[rt]);Ne+=ot}}if(ge.nd=we,ge.Qb=0,we&&(ge.qb=(ve[3][be[3]+0].value<<24|ve[1][be[1]+0].value<<16|ve[2][be[2]+0].value)>>>0,0==xe&&256>ve[0][be[0]+0].value&&(ge.Qb=1,ge.qb+=ve[0][be[0]+0].value<<8)),ge.jc=!ge.Qb&&6>Ne,ge.jc){var lt,ct=ge;for(lt=0;lt<Bn;++lt){var dt=lt,ht=ct.pd[dt],ut=ct.G[0][ct.H[0]+dt];256<=ut.value?(ht.g=ut.g+256,ht.value=ut.value):(ht.g=0,ht.value=0,dt>>=ye(ut,8,ht),dt>>=ye(ct.G[1][ct.H[1]+dt],16,ht),dt>>=ye(ct.G[2][ct.H[2]+dt],0,ht),ye(ct.G[3][ct.H[3]+dt],24,ht))}}}$.vc=ee,$.Wb=te,$.Ya=pe,$.yc=de,U=1;break t}U=0}if(!(c=U)){o.a=3;break e}if(0<b){if(g.ua=1<<b,!T(g.Wa,b)){o.a=1,c=0;break e}}else g.ua=0;var pt=o,mt=u,ft=m,gt=pt.s,vt=gt.xc;if(pt.c=mt,pt.i=ft,gt.md=D(mt,vt),gt.wc=0==vt?-1:(1<<vt)-1,i){o.xb=pa;break e}if(null==(v=s(u*m))){o.a=1,c=0;break e}c=(c=Ce(o,v,0,u,m,m,null))&&!f.h;break e}return c?(null!=l?l[0]=v:(t(null==v),t(i)),o.$=0,i||_e(g)):_e(g),c}function Me(e,n){var i=e.c*e.i,a=i+n+16*n;return t(e.c<=n),e.V=s(a),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+i+n,1)}function Pe(e,n){var i=e.C,a=n-i,s=e.V,r=e.Ba+e.c*i;for(t(n<=e.l.o);0<a;){var o=16<a?16:a,l=e.l.ma,c=e.l.width,d=c*o,h=l.ca,u=l.tb+c*i,p=e.Ta,m=e.Ua;we(e,o,s,r),ji(p,m,h,u,d),ke(l,i,i+o,h,u,c),a-=o,s+=o*e.c,i+=o}t(i==n),e.C=e.Ma=n}function Le(){this.ub=this.yd=this.td=this.Rb=0}function Te(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ie(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Fe(){this.Yb=function(){var e=[];return function e(t,n,i){for(var a=i[n],s=0;s<a&&(t.push(i.length>n+1?[]:0),!(i.length<n+1));s++)e(t[s],n+1,i)}(e,0,[3,11]),e}()}function Re(){this.jb=s(3),this.Wc=o([4,8],Fe),this.Xc=o([4,17],Fe)}function De(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Be(){this.ld=this.La=this.dd=this.tc=0}function Oe(){this.Na=this.la=0}function We(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function He(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ze(){this.uc=this.M=this.Nb=0,this.wa=Array(new Be),this.Y=0,this.ya=Array(new He),this.aa=0,this.l=new Ve}function Ue(){this.y=s(16),this.f=s(8),this.ea=s(8)}function qe(){this.cb=this.a=0,this.sc="",this.m=new x,this.Od=new Le,this.Kc=new Te,this.ed=new De,this.Qa=new Ie,this.Ic=this.$c=this.Aa=0,this.D=new ze,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=r(8,x),this.ia=0,this.pb=r(4,We),this.Pa=new Re,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ue),this.Hd=0,this.rb=Array(new Oe),this.sb=0,this.wa=Array(new Be),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new He),this.L=this.aa=0,this.gd=o([4,2],Be),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ge(e,t){return 0>e?0:e>t?t:e}function Ve(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ye(){var e=new qe;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,na||(na=Qe)),e}function Ke(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Xe(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ke(e,2,"null VP8Io passed to VP8GetHeaders()");var i=n.data,s=n.w,r=n.ha;if(4>r)return Ke(e,7,"Truncated header.");var o=i[s+0]|i[s+1]<<8|i[s+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ke(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ke(e,4,"Frame not displayable.");s+=3,r-=3;var c=e.Kc;if(l.Rb){if(7>r)return Ke(e,7,"cannot parse picture header");if(!Xe(i,s,r))return Ke(e,3,"Bad code word");c.c=16383&(i[s+4]<<8|i[s+3]),c.Td=i[s+4]>>6,c.i=16383&(i[s+6]<<8|i[s+5]),c.Ud=i[s+6]>>6,s+=7,r-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,a((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,a(o.Zb,0,0,o.Zb.length),a(o.Lb,0,0,o.Lb)}if(l.ub>r)return Ke(e,7,"bad partition length");m(o=e.m,i,s,l.ub),s+=l.ub,r-=l.ub,l.Rb&&(c.Ld=_(o),c.Kd=_(o)),c=e.Qa;var d,h=e.Pa;if(t(null!=o),t(null!=c),c.Cb=_(o),c.Cb){if(c.Bb=_(o),_(o)){for(c.Fb=_(o),d=0;4>d;++d)c.Zb[d]=_(o)?g(o,7):0;for(d=0;4>d;++d)c.Lb[d]=_(o)?g(o,6):0}if(c.Bb)for(d=0;3>d;++d)h.jb[d]=_(o)?f(o,8):255}else c.Bb=0;if(o.Ka)return Ke(e,3,"cannot parse segment header");if((c=e.ed).zd=_(o),c.Tb=f(o,6),c.wb=f(o,3),c.Pc=_(o),c.Pc&&_(o)){for(h=0;4>h;++h)_(o)&&(c.vd[h]=g(o,6));for(h=0;4>h;++h)_(o)&&(c.od[h]=g(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ke(e,3,"cannot parse filter header");var u=r;if(r=d=s,s=d+u,c=u,e.Xb=(1<<f(e.m,2))-1,u<3*(h=e.Xb))i=7;else{for(d+=3*h,c-=3*h,u=0;u<h;++u){var p=i[r+0]|i[r+1]<<8|i[r+2]<<16;p>c&&(p=c),m(e.Jc[+u],i,d,p),d+=p,c-=p,r+=3}m(e.Jc[+h],i,d,c),i=d<s?0:5}if(0!=i)return Ke(e,i,"cannot parse partitions");for(i=f(d=e.m,7),r=_(d)?g(d,4):0,s=_(d)?g(d,4):0,c=_(d)?g(d,4):0,h=_(d)?g(d,4):0,d=_(d)?g(d,4):0,u=e.Qa,p=0;4>p;++p){if(u.Cb){var v=u.Zb[p];u.Fb||(v+=i)}else{if(0<p){e.pb[p]=e.pb[0];continue}v=i}var b=e.pb[p];b.Sc[0]=ea[Ge(v+r,127)],b.Sc[1]=ta[Ge(v+0,127)],b.Eb[0]=2*ea[Ge(v+s,127)],b.Eb[1]=101581*ta[Ge(v+c,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=ea[Ge(v+h,117)],b.Qc[1]=ta[Ge(v+d,127)],b.lc=v+d}if(!l.Rb)return Ke(e,4,"Not a key frame.");for(_(o),l=e.Pa,i=0;4>i;++i){for(r=0;8>r;++r)for(s=0;3>s;++s)for(c=0;11>c;++c)h=S(o,la[i][r][s][c])?f(o,8):ra[i][r][s][c],l.Wc[i][r].Yb[s][c]=h;for(r=0;17>r;++r)l.Xc[i][r]=l.Wc[i][ca[r]]}return e.kc=_(o),e.kc&&(e.Bd=f(o,8)),e.cb=1}function Qe(e,t,n,i,a,s,r){var o=t[a].Yb[n];for(n=0;16>a;++a){if(!S(e,o[n+0]))return a;for(;!S(e,o[n+1]);)if(o=t[++a].Yb[0],n=0,16==a)return 16;var l=t[a+1].Yb;if(S(e,o[n+2])){var c=e,d=0;if(S(c,(u=o)[(h=n)+3]))if(S(c,u[h+6])){for(o=0,h=2*(d=S(c,u[h+8]))+(u=S(c,u[h+9+d])),d=0,u=ia[h];u[o];++o)d+=d+S(c,u[o]);d+=3+(8<<h)}else S(c,u[h+7])?(d=7+2*S(c,165),d+=S(c,145)):d=5+S(c,159);else d=S(c,u[h+4])?3+S(c,u[h+5]):2;o=l[2]}else d=1,o=l[1];l=r+aa[a],0>(c=e).b&&C(c);var h,u=c.b,p=(h=c.Ca>>1)-(c.I>>u)>>31;--c.b,c.Ca+=p,c.Ca|=1,c.I-=(h+1&p)<<u,s[l]=((d^p)-p)*i[(0<a)+0]}return 16}function Ze(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,a(e.zc,0,0,e.zc.length),e.ja=0}function $e(e,t,n,i,a){a=e[t+n+32*i]+(a>>3),e[t+n+32*i]=-256&a?0>a?0:255:a}function et(e,t,n,i,a,s){$e(e,t,0,n,i+a),$e(e,t,1,n,i+s),$e(e,t,2,n,i-s),$e(e,t,3,n,i-a)}function tt(e){return(20091*e>>16)+e}function nt(e,t,n,i){var a,r=0,o=s(16);for(a=0;4>a;++a){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-tt(e[t+12]),h=tt(e[t+4])+(35468*e[t+12]>>16);o[r+0]=l+h,o[r+1]=c+d,o[r+2]=c-d,o[r+3]=l-h,r+=4,t++}for(a=r=0;4>a;++a)l=(e=o[r+0]+4)+o[r+8],c=e-o[r+8],d=(35468*o[r+4]>>16)-tt(o[r+12]),$e(n,i,0,0,l+(h=tt(o[r+4])+(35468*o[r+12]>>16))),$e(n,i,1,0,c+d),$e(n,i,2,0,c-d),$e(n,i,3,0,l-h),r++,i+=32}function it(e,t,n,i){var a=e[t+0]+4,s=35468*e[t+4]>>16,r=tt(e[t+4]),o=35468*e[t+1]>>16;et(n,i,0,a+r,e=tt(e[t+1]),o),et(n,i,1,a+s,e,o),et(n,i,2,a-s,e,o),et(n,i,3,a-r,e,o)}function at(e,t,n,i,a){nt(e,t,n,i),a&&nt(e,t+16,n,i+4)}function st(e,t,n,i){si(e,t+0,n,i,1),si(e,t+32,n,i+128,1)}function rt(e,t,n,i){var a;for(e=e[t+0]+4,a=0;4>a;++a)for(t=0;4>t;++t)$e(n,i,t,a,e)}function ot(e,t,n,i){e[t+0]&&li(e,t+0,n,i),e[t+16]&&li(e,t+16,n,i+4),e[t+32]&&li(e,t+32,n,i+128),e[t+48]&&li(e,t+48,n,i+128+4)}function lt(e,t,n,i){var a,r=s(16);for(a=0;4>a;++a){var o=e[t+0+a]+e[t+12+a],l=e[t+4+a]+e[t+8+a],c=e[t+4+a]-e[t+8+a],d=e[t+0+a]-e[t+12+a];r[0+a]=o+l,r[8+a]=o-l,r[4+a]=d+c,r[12+a]=d-c}for(a=0;4>a;++a)o=(e=r[0+4*a]+3)+r[3+4*a],l=r[1+4*a]+r[2+4*a],c=r[1+4*a]-r[2+4*a],d=e-r[3+4*a],n[i+0]=o+l>>3,n[i+16]=d+c>>3,n[i+32]=o-l>>3,n[i+48]=d-c>>3,i+=64}function ct(e,t,n){var i,a=t-32,s=Ti,r=255-e[a-1];for(i=0;i<n;++i){var o,l=s,c=r+e[t-1];for(o=0;o<n;++o)e[t+o]=l[c+e[a+o]];t+=32}}function dt(e,t){ct(e,t,4)}function ht(e,t){ct(e,t,8)}function ut(e,t){ct(e,t,16)}function pt(e,t){var n;for(n=0;16>n;++n)i(e,t+32*n,e,t-32,16)}function mt(e,t){var n;for(n=16;0<n;--n)a(e,t,e[t-1],16),t+=32}function ft(e,t,n){var i;for(i=0;16>i;++i)a(t,n+32*i,e,16)}function gt(e,t){var n,i=16;for(n=0;16>n;++n)i+=e[t-1+32*n]+e[t+n-32];ft(i>>5,e,t)}function vt(e,t){var n,i=8;for(n=0;16>n;++n)i+=e[t-1+32*n];ft(i>>4,e,t)}function bt(e,t){var n,i=8;for(n=0;16>n;++n)i+=e[t+n-32];ft(i>>4,e,t)}function yt(e,t){ft(128,e,t)}function xt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,a=t-32;for(a=new Uint8Array([xt(e[a-1],e[a+0],e[a+1]),xt(e[a+0],e[a+1],e[a+2]),xt(e[a+1],e[a+2],e[a+3]),xt(e[a+2],e[a+3],e[a+4])]),n=0;4>n;++n)i(e,t+32*n,a,0,a.length)}function Nt(e,t){var n=e[t-1],i=e[t-1+32],a=e[t-1+64],s=e[t-1+96];E(e,t+0,16843009*xt(e[t-1-32],n,i)),E(e,t+32,16843009*xt(n,i,a)),E(e,t+64,16843009*xt(i,a,s)),E(e,t+96,16843009*xt(a,s,s))}function At(e,t){var n,i=4;for(n=0;4>n;++n)i+=e[t+n-32]+e[t-1+32*n];for(i>>=3,n=0;4>n;++n)a(e,t+32*n,i,4)}function kt(e,t){var n=e[t-1+0],i=e[t-1+32],a=e[t-1+64],s=e[t-1-32],r=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=xt(i,a,e[t-1+96]),e[t+1+96]=e[t+0+64]=xt(n,i,a),e[t+2+96]=e[t+1+64]=e[t+0+32]=xt(s,n,i),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=xt(r,s,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=xt(o,r,s),e[t+3+32]=e[t+2+0]=xt(l,o,r),e[t+3+0]=xt(c,l,o)}function jt(e,t){var n=e[t+1-32],i=e[t+2-32],a=e[t+3-32],s=e[t+4-32],r=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=xt(e[t+0-32],n,i),e[t+1+0]=e[t+0+32]=xt(n,i,a),e[t+2+0]=e[t+1+32]=e[t+0+64]=xt(i,a,s),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=xt(a,s,r),e[t+3+32]=e[t+2+64]=e[t+1+96]=xt(s,r,o),e[t+3+64]=e[t+2+96]=xt(r,o,l),e[t+3+96]=xt(o,l,l)}function Ct(e,t){var n=e[t-1+0],i=e[t-1+32],a=e[t-1+64],s=e[t-1-32],r=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=s+r+1>>1,e[t+1+0]=e[t+2+64]=r+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=xt(a,i,n),e[t+0+64]=xt(i,n,s),e[t+0+32]=e[t+1+96]=xt(n,s,r),e[t+1+32]=e[t+2+96]=xt(s,r,o),e[t+2+32]=e[t+3+96]=xt(r,o,l),e[t+3+32]=xt(o,l,c)}function _t(e,t){var n=e[t+0-32],i=e[t+1-32],a=e[t+2-32],s=e[t+3-32],r=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+i+1>>1,e[t+1+0]=e[t+0+64]=i+a+1>>1,e[t+2+0]=e[t+1+64]=a+s+1>>1,e[t+3+0]=e[t+2+64]=s+r+1>>1,e[t+0+32]=xt(n,i,a),e[t+1+32]=e[t+0+96]=xt(i,a,s),e[t+2+32]=e[t+1+96]=xt(a,s,r),e[t+3+32]=e[t+2+96]=xt(s,r,o),e[t+3+64]=xt(r,o,l),e[t+3+96]=xt(o,l,c)}function St(e,t){var n=e[t-1+0],i=e[t-1+32],a=e[t-1+64],s=e[t-1+96];e[t+0+0]=n+i+1>>1,e[t+2+0]=e[t+0+32]=i+a+1>>1,e[t+2+32]=e[t+0+64]=a+s+1>>1,e[t+1+0]=xt(n,i,a),e[t+3+0]=e[t+1+32]=xt(i,a,s),e[t+3+32]=e[t+1+64]=xt(a,s,s),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=s}function Et(e,t){var n=e[t-1+0],i=e[t-1+32],a=e[t-1+64],s=e[t-1+96],r=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+r+1>>1,e[t+0+32]=e[t+2+64]=i+n+1>>1,e[t+0+64]=e[t+2+96]=a+i+1>>1,e[t+0+96]=s+a+1>>1,e[t+3+0]=xt(o,l,c),e[t+2+0]=xt(r,o,l),e[t+1+0]=e[t+3+32]=xt(n,r,o),e[t+1+32]=e[t+3+64]=xt(i,n,r),e[t+1+64]=e[t+3+96]=xt(a,i,n),e[t+1+96]=xt(s,a,i)}function Mt(e,t){var n;for(n=0;8>n;++n)i(e,t+32*n,e,t-32,8)}function Pt(e,t){var n;for(n=0;8>n;++n)a(e,t,e[t-1],8),t+=32}function Lt(e,t,n){var i;for(i=0;8>i;++i)a(t,n+32*i,e,8)}function Tt(e,t){var n,i=8;for(n=0;8>n;++n)i+=e[t+n-32]+e[t-1+32*n];Lt(i>>4,e,t)}function It(e,t){var n,i=4;for(n=0;8>n;++n)i+=e[t+n-32];Lt(i>>3,e,t)}function Ft(e,t){var n,i=4;for(n=0;8>n;++n)i+=e[t-1+32*n];Lt(i>>3,e,t)}function Rt(e,t){Lt(128,e,t)}function Dt(e,t,n){var i=e[t-n],a=e[t+0],s=3*(a-i)+Pi[1020+e[t-2*n]-e[t+n]],r=Li[112+(s+4>>3)];e[t-n]=Ti[255+i+Li[112+(s+3>>3)]],e[t+0]=Ti[255+a-r]}function Bt(e,t,n,i){var a=e[t+0],s=e[t+n];return Ii[255+e[t-2*n]-e[t-n]]>i||Ii[255+s-a]>i}function Ot(e,t,n,i){return 4*Ii[255+e[t-n]-e[t+0]]+Ii[255+e[t-2*n]-e[t+n]]<=i}function Wt(e,t,n,i,a){var s=e[t-3*n],r=e[t-2*n],o=e[t-n],l=e[t+0],c=e[t+n],d=e[t+2*n],h=e[t+3*n];return 4*Ii[255+o-l]+Ii[255+r-c]>i?0:Ii[255+e[t-4*n]-s]<=a&&Ii[255+s-r]<=a&&Ii[255+r-o]<=a&&Ii[255+h-d]<=a&&Ii[255+d-c]<=a&&Ii[255+c-l]<=a}function Ht(e,t,n,i){var a=2*i+1;for(i=0;16>i;++i)Ot(e,t+i,n,a)&&Dt(e,t+i,n)}function zt(e,t,n,i){var a=2*i+1;for(i=0;16>i;++i)Ot(e,t+i*n,1,a)&&Dt(e,t+i*n,1)}function Ut(e,t,n,i){var a;for(a=3;0<a;--a)Ht(e,t+=4*n,n,i)}function qt(e,t,n,i){var a;for(a=3;0<a;--a)zt(e,t+=4,n,i)}function Gt(e,t,n,i,a,s,r,o){for(s=2*s+1;0<a--;){if(Wt(e,t,n,s,r))if(Bt(e,t,n,o))Dt(e,t,n);else{var l=e,c=t,d=n,h=l[c-2*d],u=l[c-d],p=l[c+0],m=l[c+d],f=l[c+2*d],g=27*(b=Pi[1020+3*(p-u)+Pi[1020+h-m]])+63>>7,v=18*b+63>>7,b=9*b+63>>7;l[c-3*d]=Ti[255+l[c-3*d]+b],l[c-2*d]=Ti[255+h+v],l[c-d]=Ti[255+u+g],l[c+0]=Ti[255+p-g],l[c+d]=Ti[255+m-v],l[c+2*d]=Ti[255+f-b]}t+=i}}function Vt(e,t,n,i,a,s,r,o){for(s=2*s+1;0<a--;){if(Wt(e,t,n,s,r))if(Bt(e,t,n,o))Dt(e,t,n);else{var l=e,c=t,d=n,h=l[c-d],u=l[c+0],p=l[c+d],m=Li[112+(4+(f=3*(u-h))>>3)],f=Li[112+(f+3>>3)],g=m+1>>1;l[c-2*d]=Ti[255+l[c-2*d]+g],l[c-d]=Ti[255+h+f],l[c+0]=Ti[255+u-m],l[c+d]=Ti[255+p-g]}t+=i}}function Yt(e,t,n,i,a,s){Gt(e,t,n,1,16,i,a,s)}function Kt(e,t,n,i,a,s){Gt(e,t,1,n,16,i,a,s)}function Xt(e,t,n,i,a,s){var r;for(r=3;0<r;--r)Vt(e,t+=4*n,n,1,16,i,a,s)}function Jt(e,t,n,i,a,s){var r;for(r=3;0<r;--r)Vt(e,t+=4,1,n,16,i,a,s)}function Qt(e,t,n,i,a,s,r,o){Gt(e,t,a,1,8,s,r,o),Gt(n,i,a,1,8,s,r,o)}function Zt(e,t,n,i,a,s,r,o){Gt(e,t,1,a,8,s,r,o),Gt(n,i,1,a,8,s,r,o)}function $t(e,t,n,i,a,s,r,o){Vt(e,t+4*a,a,1,8,s,r,o),Vt(n,i+4*a,a,1,8,s,r,o)}function en(e,t,n,i,a,s,r,o){Vt(e,t+4,1,a,8,s,r,o),Vt(n,i+4,1,a,8,s,r,o)}function tn(){this.ba=new re,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function an(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sn(){this.ua=0,this.Wa=new F,this.vb=new F,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new p,this.yc=new h}function rn(){this.xb=this.a=0,this.l=new Ve,this.ca=new re,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new w,this.Pb=0,this.wd=new w,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sn,this.ab=0,this.gc=r(4,an),this.Oc=0}function on(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ve,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ln(e,t,n,i,a,s,r){for(e=null==e?0:e[t+0],t=0;t<r;++t)a[s+t]=e+n[i+t]&255,e=a[s+t]}function cn(e,t,n,i,a,s,r){var o;if(null==e)ln(null,null,n,i,a,s,r);else for(o=0;o<r;++o)a[s+o]=e[t+o]+n[i+o]&255}function dn(e,t,n,i,a,s,r){if(null==e)ln(null,null,n,i,a,s,r);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<r;++o)c=d+(l=e[t+o])-c,d=n[i+o]+(-256&c?0>c?0:255:c)&255,c=l,a[s+o]=d}}function hn(e,n,a,r){var o=n.width,l=n.o;if(t(null!=e&&null!=n),0>a||0>=r||a+r>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new on,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=s(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,h=e.P,u=e.qc,p=e.mb,m=e.nb,f=h+1,g=u-1,b=c.l;if(t(null!=d&&null!=p&&null!=n),fa[0]=null,fa[1]=ln,fa[2]=cn,fa[3]=dn,c.ca=p,c.tb=m,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=u)n=0;else if(c.$a=3&d[h+0],c.Z=d[h+0]>>2&3,c.Lc=d[h+0]>>4&3,h=d[h+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||h)n=0;else if(b.put=pe,b.ac=ue,b.bc=me,b.ma=c,b.width=n.width,b.height=n.height,b.Da=n.Da,b.v=n.v,b.va=n.va,b.j=n.j,b.o=n.o,c.$a)e:{t(1==c.$a),n=Se();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,v(n.m,d,f,g),!Ee(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&Ae(n.s)?(c.ic=1,d=n.c*n.i,n.Ta=null,n.Ua=0,n.V=s(d),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Me(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=g>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:r=l-a}t(null!=e.ga),t(a+r<=l);e:{if(n=(d=e.ga).c,l=d.l.o,0==d.$a){if(f=e.rc,g=e.Vc,b=e.Fa,h=e.P+1+a*n,u=e.mb,p=e.nb+a*n,t(h<=e.P+e.qc),0!=d.Z)for(t(null!=fa[d.Z]),c=0;c<r;++c)fa[d.Z](f,g,b,h,u,p,n),f=u,g=p,p+=n,h+=n;else for(c=0;c<r;++c)i(u,p,b,h,n),f=u,g=p,p+=n,h+=n;e.rc=f,e.Vc=g}else{if(t(null!=d.mc),n=a+r,t(null!=(c=d.mc)),t(n<=c.i),c.C>=n)n=1;else if(d.ic||gn(),d.ic){d=c.V,f=c.Ba,g=c.c;var y=c.i,x=(b=1,h=c.$/g,u=c.$%g,p=c.m,m=c.s,c.$),w=g*y,N=g*n,k=m.wc,C=x<N?xe(m,u,h):null;t(x<=w),t(n<=y),t(Ae(m));t:for(;;){for(;!p.h&&x<N;){if(u&k||(C=xe(m,u,h)),t(null!=C),j(p),256>(y=be(C.G[0],C.H[0],p)))d[f+x]=y,++x,++u>=g&&(u=0,++h<=n&&!(h%16)&&je(c,h));else{if(!(280>y)){b=0;break t}y=ge(y-256,p);var _,S=be(C.G[4],C.H[4],p);if(j(p),!(x>=(S=ve(g,S=ge(S,p)))&&w-x>=y)){b=0;break t}for(_=0;_<y;++_)d[f+x+_]=d[f+x+_-S];for(x+=y,u+=y;u>=g;)u-=g,++h<=n&&!(h%16)&&je(c,h);x<N&&u&k&&(C=xe(m,u,h))}t(p.h==A(p))}je(c,h>n?n:h);break t}!b||p.h&&x<w?(b=0,c.a=p.h?5:3):c.$=x,n=b}else n=Ce(c,c.V,c.Ba,c.c,c.i,n,Pe);if(!n){r=0;break e}}a+r>=l&&(e.Cc=1),r=1}if(!r)return null;if(e.Cc&&(null!=(r=e.ga)&&(r.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+a*o}function un(e,t,n,i,a,s){for(;0<a--;){var r,o=e,l=t+(n?1:0),c=e,d=t+(n?0:3);for(r=0;r<i;++r){var h=c[d+4*r];255!=h&&(h*=32897,o[l+4*r+0]=o[l+4*r+0]*h>>23,o[l+4*r+1]=o[l+4*r+1]*h>>23,o[l+4*r+2]=o[l+4*r+2]*h>>23)}t+=s}}function pn(e,t,n,i,a){for(;0<i--;){var s;for(s=0;s<n;++s){var r=e[t+2*s+0],o=15&(c=e[t+2*s+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*s+0]=(240&r|r>>4)*l>>16&240|(15&r|r<<4)*l>>16>>4&15,e[t+2*s+1]=240&c|o}t+=a}}function mn(e,t,n,i,a,s,r,o){var l,c,d=255;for(c=0;c<a;++c){for(l=0;l<i;++l){var h=e[t+l];s[r+4*l]=h,d&=h}t+=n,r+=o}return 255!=d}function fn(e,t,n,i,a){var s;for(s=0;s<a;++s)n[i+s]=e[t+s]>>8}function gn(){Ni=un,Ai=pn,ki=mn,ji=fn}function vn(n,i,a){e[n]=function(e,n,s,r,o,l,c,d,h,u,p,m,f,g,v,b,y){var x,w=y-1>>1,N=o[l+0]|c[d+0]<<16,A=h[u+0]|p[m+0]<<16;t(null!=e);var k=3*N+A+131074>>2;for(i(e[n+0],255&k,k>>16,f,g),null!=s&&(k=3*A+N+131074>>2,i(s[r+0],255&k,k>>16,v,b)),x=1;x<=w;++x){var j=o[l+x]|c[d+x]<<16,C=h[u+x]|p[m+x]<<16,_=N+j+A+C+524296,S=_+2*(j+A)>>3;k=S+N>>1,N=(_=_+2*(N+C)>>3)+j>>1,i(e[n+2*x-1],255&k,k>>16,f,g+(2*x-1)*a),i(e[n+2*x-0],255&N,N>>16,f,g+(2*x-0)*a),null!=s&&(k=_+A>>1,N=S+C>>1,i(s[r+2*x-1],255&k,k>>16,v,b+(2*x-1)*a),i(s[r+2*x+0],255&N,N>>16,v,b+(2*x+0)*a)),N=j,A=C}1&y||(k=3*N+A+131074>>2,i(e[n+y-1],255&k,k>>16,f,g+(y-1)*a),null!=s&&(k=3*A+N+131074>>2,i(s[r+y-1],255&k,k>>16,v,b+(y-1)*a)))}}function bn(){ga[Fi]=va,ga[Ri]=ya,ga[Di]=ba,ga[Bi]=xa,ga[Oi]=wa,ga[Wi]=Na,ga[Hi]=Aa,ga[zi]=ya,ga[Ui]=xa,ga[qi]=wa,ga[Gi]=Na}function yn(e){return e&~Ea?0>e?0:255:e>>Sa}function xn(e,t){return yn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return yn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function Nn(e,t){return yn((19077*e>>8)+(33050*t>>8)-17685)}function An(e,t,n,i,a){i[a+0]=xn(e,n),i[a+1]=wn(e,t,n),i[a+2]=Nn(e,t)}function kn(e,t,n,i,a){i[a+0]=Nn(e,t),i[a+1]=wn(e,t,n),i[a+2]=xn(e,n)}function jn(e,t,n,i,a){var s=wn(e,t,n);t=s<<3&224|Nn(e,t)>>3,i[a+0]=248&xn(e,n)|s>>5,i[a+1]=t}function Cn(e,t,n,i,a){var s=240&Nn(e,t)|15;i[a+0]=240&xn(e,n)|wn(e,t,n)>>4,i[a+1]=s}function _n(e,t,n,i,a){i[a+0]=255,An(e,t,n,i,a+1)}function Sn(e,t,n,i,a){kn(e,t,n,i,a),i[a+3]=255}function En(e,t,n,i,a){An(e,t,n,i,a),i[a+3]=255}function Ge(e,t){return 0>e?0:e>t?t:e}function Mn(t,n,i){e[t]=function(e,t,a,s,r,o,l,c,d){for(var h=c+(-2&d)*i;c!=h;)n(e[t+0],a[s+0],r[o+0],l,c),n(e[t+1],a[s+0],r[o+0],l,c+i),t+=2,++s,++o,c+=2*i;1&d&&n(e[t+0],a[s+0],r[o+0],l,c)}}function Pn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Ln(e,t,n,i,a){switch(e>>>30){case 3:si(t,n,i,a,0);break;case 2:ri(t,n,i,a);break;case 1:li(t,n,i,a)}}function Tn(e,t){var n,s,r=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,h=e.pc+584,u=e.oc,p=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)d[h+32*n-1]=129,u[p+32*n-1]=129;for(0<r?l[c-1-32]=d[h-1-32]=u[p-1-32]=129:(a(l,c-32-1,127,21),a(d,h-32-1,127,9),a(u,p-32-1,127,9)),s=0;s<e.za;++s){var m=t.ya[t.aa+s];if(0<s){for(n=-1;16>n;++n)i(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)i(d,h+32*n-4,d,h+32*n+4,4),i(u,p+32*n-4,u,p+32*n+4,4)}var f=e.Gd,g=e.Hd+s,v=m.ad,b=m.Hc;if(0<r&&(i(l,c-32,f[g].y,0,16),i(d,h-32,f[g].f,0,8),i(u,p-32,f[g].ea,0,8)),m.Za){var y=l,x=c-32+16;for(0<r&&(s>=e.za-1?a(y,x,f[g].y[15],4):i(y,x,f[g+1].y,0,4)),n=0;4>n;n++)y[x+128+n]=y[x+256+n]=y[x+384+n]=y[x+0+n];for(n=0;16>n;++n,b<<=2)y=l,x=c+Da[n],ha[m.Ob[n]](y,x),Ln(b,v,16*+n,y,x)}else if(y=Pn(s,r,m.Ob[0]),da[y](l,c),0!=b)for(n=0;16>n;++n,b<<=2)Ln(b,v,16*+n,l,c+Da[n]);for(n=m.Gc,y=Pn(s,r,m.Dd),ua[y](d,h),ua[y](u,p),b=v,y=d,x=h,255&(m=0|n)&&(170&m?oi(b,256,y,x):ci(b,256,y,x)),m=u,b=p,255&(n>>=8)&&(170&n?oi(v,320,m,b):ci(v,320,m,b)),r<e.Ub-1&&(i(f[g].y,0,l,c+480,16),i(f[g].f,0,d,h+224,8),i(f[g].ea,0,u,p+224,8)),n=8*o*e.B,f=e.sa,g=e.ta+16*s+16*o*e.R,v=e.qa,m=e.ra+8*s+n,b=e.Ha,y=e.Ia+8*s+n,n=0;16>n;++n)i(f,g+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)i(v,m+n*e.B,d,h+32*n,8),i(b,y+n*e.B,u,p+32*n,8)}}function In(e,i,a,s,r,o,l,c,d){var h=[0],u=[0],p=0,m=null!=d?d.kd:0,f=null!=d?d:new nn;if(null==e||12>a)return 7;f.data=e,f.w=i,f.ha=a,i=[i],a=[a],f.gb=[f.gb];e:{var g=i,b=a,y=f.gb;if(t(null!=e),t(null!=b),t(null!=y),y[0]=0,12<=b[0]&&!n(e,g[0],"RIFF")){if(n(e,g[0]+8,"WEBP")){y=3;break e}var x=L(e,g[0]+4);if(12>x||4294967286<x){y=3;break e}if(m&&x>b[0]-8){y=7;break e}y[0]=x,g[0]+=12,b[0]-=12}y=0}if(0!=y)return y;for(x=0<f.gb[0],a=a[0];;){e:{var N=e;b=i,y=a;var A=h,k=u,j=g=[0];if((S=p=[p])[0]=0,8>y[0])y=7;else{if(!n(N,b[0],"VP8X")){if(10!=L(N,b[0]+4)){y=3;break e}if(18>y[0]){y=7;break e}var C=L(N,b[0]+8),_=1+P(N,b[0]+12);if(2147483648<=_*(N=1+P(N,b[0]+15))){y=3;break e}null!=j&&(j[0]=C),null!=A&&(A[0]=_),null!=k&&(k[0]=N),b[0]+=18,y[0]-=18,S[0]=1}y=0}}if(p=p[0],g=g[0],0!=y)return y;if(b=!!(2&g),!x&&p)return 3;if(null!=o&&(o[0]=!!(16&g)),null!=l&&(l[0]=b),null!=c&&(c[0]=0),l=h[0],g=u[0],p&&b&&null==d){y=0;break}if(4>a){y=7;break}if(x&&p||!x&&!p&&!n(e,i[0],"ALPH")){a=[a],f.na=[f.na],f.P=[f.P],f.Sa=[f.Sa];e:{C=e,y=i,x=a;var S=f.gb;A=f.na,k=f.P,j=f.Sa,_=22,t(null!=C),t(null!=x),N=y[0];var E=x[0];for(t(null!=A),t(null!=j),A[0]=null,k[0]=null,j[0]=0;;){if(y[0]=N,x[0]=E,8>E){y=7;break e}var M=L(C,N+4);if(4294967286<M){y=3;break e}var T=8+M+1&-2;if(_+=T,0<S&&_>S){y=3;break e}if(!n(C,N,"VP8 ")||!n(C,N,"VP8L")){y=0;break e}if(E[0]<T){y=7;break e}n(C,N,"ALPH")||(A[0]=C,k[0]=N+8,j[0]=M),N+=T,E-=T}}if(a=a[0],f.na=f.na[0],f.P=f.P[0],f.Sa=f.Sa[0],0!=y)break}a=[a],f.Ja=[f.Ja],f.xa=[f.xa];e:if(S=e,y=i,x=a,A=f.gb[0],k=f.Ja,j=f.xa,C=y[0],N=!n(S,C,"VP8 "),_=!n(S,C,"VP8L"),t(null!=S),t(null!=x),t(null!=k),t(null!=j),8>x[0])y=7;else{if(N||_){if(S=L(S,C+4),12<=A&&S>A-12){y=3;break e}if(m&&S>x[0]-8){y=7;break e}k[0]=S,y[0]+=8,x[0]-=8,j[0]=_}else j[0]=5<=x[0]&&47==S[C+0]&&!(S[C+4]>>5),k[0]=x[0];y=0}if(a=a[0],f.Ja=f.Ja[0],f.xa=f.xa[0],i=i[0],0!=y)break;if(4294967286<f.Ja)return 3;if(null==c||b||(c[0]=f.xa?2:1),l=[l],g=[g],f.xa){if(5>a){y=7;break}c=l,m=g,b=o,null==e||5>a?e=0:5<=a&&47==e[i+0]&&!(e[i+4]>>5)?(x=[0],S=[0],A=[0],v(k=new w,e,i,a),fe(k,x,S,A)?(null!=c&&(c[0]=x[0]),null!=m&&(m[0]=S[0]),null!=b&&(b[0]=A[0]),e=1):e=0):e=0}else{if(10>a){y=7;break}c=g,null==e||10>a||!Xe(e,i+3,a-3)?e=0:(m=e[i+0]|e[i+1]<<8|e[i+2]<<16,b=16383&(e[i+7]<<8|e[i+6]),e=16383&(e[i+9]<<8|e[i+8]),1&m||3<(m>>1&7)||!(m>>4&1)||m>>5>=f.Ja||!b||!e?e=0:(l&&(l[0]=b),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],g=g[0],p&&(h[0]!=l||u[0]!=g))return 3;null!=d&&(d[0]=f,d.offset=i-d.w,t(4294967286>i-d.w),t(d.offset==d.ha-a));break}return 0==y||7==y&&p&&null==d?(null!=o&&(o[0]|=null!=f.na&&0<f.na.length),null!=s&&(s[0]=l),null!=r&&(r[0]=g),0):y}function Fn(e,t,n){var i=t.width,a=t.height,s=0,r=0,o=i,l=a;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,s=e.v,r=e.j,11>n||(s&=-2,r&=-2),0>s||0>r||0>=o||0>=l||s+o>i||r+l>a))return 0;if(t.v=s,t.j=r,t.va=s+o,t.o=r+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!R(o,l,n=[e.ib],s=[e.hb]))return 0;t.ib=n[0],t.hb=s[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*i/4&&t.hb<3*a/4,t.Kb=0),1}function Rn(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Dn(e,t,n,i){if(null==i||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var a=n.cd,r=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=a||0>=r||o+a>e||l+r>t)return 2;e=a,t=r}if(n.da){if(!R(e,t,a=[n.ib],r=[n.hb]))return 2;e=a[0],t=r[0]}}i.width=e,i.height=t;e:{var c=i.width,d=i.height;if(e=i.S,0>=c||0>=d||!(e>=Fi&&13>e))e=2;else{if(0>=i.Rd&&null==i.sd){o=r=a=t=0;var h=(l=c*Wa[e])*d;if(11>e||(r=(d+1)/2*(t=(c+1)/2),12==e&&(o=(a=c)*d)),null==(d=s(h+2*r+o))){e=1;break e}i.sd=d,11>e?((c=i.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=h):((c=i.f.kb).y=d,c.O=0,c.fa=l,c.Fd=h,c.f=d,c.N=0+h,c.Ab=t,c.Cd=r,c.ea=d,c.W=0+h+r,c.Db=t,c.Ed=r,12==e&&(c.F=d,c.J=0+h+2*r),c.Tc=o,c.lb=a)}if(t=1,a=i.S,r=i.width,o=i.height,a>=Fi&&13>a)if(11>a)e=i.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+r<=e.size,t&=l>=r*Wa[a],t&=null!=e.eb;else{e=i.f.kb,l=(r+1)/2,h=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var u=Math.abs(e.Db),p=Math.abs(e.lb),m=p*(o-1)+r;t&=c*(o-1)+r<=e.Fd,t&=d*(h-1)+l<=e.Cd,t=(t&=u*(h-1)+l<=e.Ed)&c>=r&d>=l&u>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==a&&(t&=p>=r,t&=m<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=Rn(i)),e}var Bn=64,On=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wn=24,Hn=32,zn=8,Un=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];O("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return H(H(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return H(e,t[n-1])},e.Predictor7=function(e,t,n){return H(e,t[n+0])},e.Predictor8=function(e,t,n){return H(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return H(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return H(H(e,t[n-1]),H(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var i=t[n+0];return 0>=q(i>>24&255,e>>24&255,(t=t[n-1])>>24&255)+q(i>>16&255,e>>16&255,t>>16&255)+q(i>>8&255,e>>8&255,t>>8&255)+q(255&i,255&e,255&t)?i:e},e.Predictor12=function(e,t,n){var i=t[n+0];return(z((e>>24&255)+(i>>24&255)-((t=t[n-1])>>24&255))<<24|z((e>>16&255)+(i>>16&255)-(t>>16&255))<<16|z((e>>8&255)+(i>>8&255)-(t>>8&255))<<8|z((255&e)+(255&i)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var i=t[n-1];return(U((e=H(e,t[n+0]))>>24&255,i>>24&255)<<24|U(e>>16&255,i>>16&255)<<16|U(e>>8&255,i>>8&255)<<8|U(255&e,255&i))>>>0};var qn=e.PredictorAdd0;e.PredictorAdd1=G,O("Predictor2","PredictorAdd2"),O("Predictor3","PredictorAdd3"),O("Predictor4","PredictorAdd4"),O("Predictor5","PredictorAdd5"),O("Predictor6","PredictorAdd6"),O("Predictor7","PredictorAdd7"),O("Predictor8","PredictorAdd8"),O("Predictor9","PredictorAdd9"),O("Predictor10","PredictorAdd10"),O("Predictor11","PredictorAdd11"),O("Predictor12","PredictorAdd12"),O("Predictor13","PredictorAdd13");var Gn=e.PredictorAdd2;X("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),X("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Vn,Yn=e.ColorIndexInverseTransform,Kn=e.MapARGB,Xn=e.VP8LColorIndexInverseTransformAlpha,Jn=e.MapAlpha,Qn=e.VP8LPredictorsAdd=[];Qn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Zn,$n,ei,ti,ni,ii,ai,si,ri,oi,li,ci,di,hi,ui,pi,mi,fi,gi,vi,bi,yi,xi,wi,Ni,Ai,ki,ji,Ci=s(511),_i=s(2041),Si=s(225),Ei=s(767),Mi=0,Pi=_i,Li=Si,Ti=Ei,Ii=Ci,Fi=0,Ri=1,Di=2,Bi=3,Oi=4,Wi=5,Hi=6,zi=7,Ui=8,qi=9,Gi=10,Vi=[2,3,7],Yi=[3,3,11],Ki=[280,256,256,256,40],Xi=[0,1,1,1,0],Ji=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Qi=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zi=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$i=8,ea=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ta=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],na=null,ia=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],sa=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ra=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],oa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],la=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ca=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],da=[],ha=[],ua=[],pa=1,ma=2,fa=[],ga=[];vn("UpsampleRgbLinePair",An,3),vn("UpsampleBgrLinePair",kn,3),vn("UpsampleRgbaLinePair",En,4),vn("UpsampleBgraLinePair",Sn,4),vn("UpsampleArgbLinePair",_n,4),vn("UpsampleRgba4444LinePair",Cn,2),vn("UpsampleRgb565LinePair",jn,2);var va=e.UpsampleRgbLinePair,ba=e.UpsampleBgrLinePair,ya=e.UpsampleRgbaLinePair,xa=e.UpsampleBgraLinePair,wa=e.UpsampleArgbLinePair,Na=e.UpsampleRgba4444LinePair,Aa=e.UpsampleRgb565LinePair,ka=16,ja=1<<ka-1,Ca=-227,_a=482,Sa=6,Ea=(256<<Sa)-1,Ma=0,Pa=s(256),La=s(256),Ta=s(256),Ia=s(256),Fa=s(_a-Ca),Ra=s(_a-Ca);Mn("YuvToRgbRow",An,3),Mn("YuvToBgrRow",kn,3),Mn("YuvToRgbaRow",En,4),Mn("YuvToBgraRow",Sn,4),Mn("YuvToArgbRow",_n,4),Mn("YuvToRgba4444Row",Cn,2),Mn("YuvToRgb565Row",jn,2);var Da=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ba=[0,2,8],Oa=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,n,o,l,c){var d=Ri,h=new tn,u=new re;h.ba=u,u.S=d,u.width=[u.width],u.height=[u.height];var p=u.width,m=u.height,f=new oe;if(null==f||null==e)var g=2;else t(null!=f),g=In(e,n,o,f.width,f.height,f.Pd,f.Qd,f.format,null);if(0!=g?p=0:(null!=p&&(p[0]=f.width[0]),null!=m&&(m[0]=f.height[0]),p=1),p){u.width=u.width[0],u.height=u.height[0],null!=l&&(l[0]=u.width),null!=c&&(c[0]=u.height);e:{if(l=new Ve,(c=new nn).data=e,c.w=n,c.ha=o,c.kd=1,n=[0],t(null!=c),(0==(e=In(c.data,c.w,c.ha,null,null,null,n,null,c))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=h),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=pe,l.ac=ue,l.bc=me,l.ma=h,c.xa){if(null==(e=Se())){h=1;break e}if(function(e,n){var i=[0],a=[0],s=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,v(e.m,n.data,n.w,n.ha),!fe(e.m,i,a,s)){e.a=3;break t}if(e.xb=ma,n.width=i[0],n.height=a[0],!Ee(i[0],a[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(n=Dn(l.width,l.height,h.Oa,h.ba))){t:{l=e;n:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Fn(c.Oa,o,Bi)){l.a=2;break n}if(!Me(l,o.width))break n;if(o.da)break n;if((o.da||ie(l.ca.S))&&gn(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&gn()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!T(l.s.vb,l.s.Wa.Xa)){l.a=1;break n}l.xb=0}if(!Ce(l,l.V,l.Ba,l.c,l.i,o.o,Ne))break n;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(n=e.a)}else n=e.a}else{if(null==(e=new Ye)){h=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Je(e,l)){if(0==(n=Dn(l.width,l.height,h.Oa,h.ba))){if(e.Aa=0,o=h.Oa,t(null!=(c=e)),null!=o){if(0<(p=0>(p=o.Md)?0:100<p?255:255*p/100)){for(m=f=0;4>m;++m)12>(g=c.pb[m]).lc&&(g.ia=p*Oa[0>g.lc?0:g.lc]>>3),f|=g.ia;f&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,n){if(null==e)return 0;if(null==n)return Ke(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var o=Ba[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-o>>4,e.zb=n.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+o>>4,e.Hb=n.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var h=e.gd[o][c],u=d;if(l.Pc&&(u+=l.vd[0],c&&(u+=l.od[0])),0<(u=0>u?0:63<u?63:u)){var p=u;0<l.wb&&(p=4<l.wb?p>>2:p>>1)>9-l.wb&&(p=9-l.wb),1>p&&(p=1),h.dd=p,h.tc=2*u+p,h.ld=40<=u?2:15<=u?1:0}else h.tc=0;h.La=c}}}o=0}else Ke(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,l=4*(p=e.za);var m=32*p,f=p+1,g=0<e.L?p*(0<e.Aa?2:1):0,v=(2==e.Aa?2:1)*p;if((h=l+832+(c=3*(16*o+Ba[e.L])/2*m)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=h)o=0;else{if(h>e.Vb){if(e.Vb=0,e.Ec=s(h),e.Fc=0,null==e.Ec){o=Ke(e,1,"no memory during frame initialization.");break t}e.Vb=h}h=e.Ec,u=e.Fc,e.Ac=h,e.Bc=u,u+=l,e.Gd=r(m,Ue),e.Hd=0,e.rb=r(f+1,Oe),e.sb=1,e.wa=g?r(g,Be):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=p),t(!0),e.oc=h,e.pc=u,u+=832,e.ya=r(v,He),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=p),e.R=16*p,e.B=8*p,p=(m=Ba[e.L])*e.R,m=m/2*e.B,e.sa=h,e.ta=u+p,e.qa=e.sa,e.ra=e.ta+16*o*e.R+m,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+m,e.$c=0,u+=c,e.mb=d?h:null,e.nb=d?u:null,t(u+d<=e.Fc+e.Vb),Ze(e),a(e.Ac,e.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Mi){for(o=-255;255>=o;++o)Ci[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)_i[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Si[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Ei[255+o]=0>o?0:255<o?255:o;Mi=1}ai=lt,si=at,oi=st,li=rt,ci=ot,ri=it,di=Yt,hi=Kt,ui=Qt,pi=Zt,mi=Xt,fi=Jt,gi=$t,vi=en,bi=Ht,yi=zt,xi=Ut,wi=qt,ha[0]=At,ha[1]=dt,ha[2]=wt,ha[3]=Nt,ha[4]=kt,ha[5]=Ct,ha[6]=jt,ha[7]=_t,ha[8]=Et,ha[9]=St,da[0]=gt,da[1]=ut,da[2]=pt,da[3]=mt,da[4]=vt,da[5]=bt,da[6]=yt,ua[0]=Tt,ua[1]=ht,ua[2]=Mt,ua[3]=Pt,ua[4]=Ft,ua[5]=It,ua[6]=Rt,o=1}else o=0}o&&(o=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var r,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(r=0;r<c.za;++r){var d=l,h=c,u=h.Ac,p=h.Bc+4*r,m=h.zc,f=h.ya[h.aa+r];if(h.Qa.Bb?f.$b=S(d,h.Pa.jb[0])?2+S(d,h.Pa.jb[2]):S(d,h.Pa.jb[1]):f.$b=0,h.kc&&(f.Ad=S(d,h.Bd)),f.Za=!S(d,145)+0,f.Za){var g=f.Ob,v=0;for(h=0;4>h;++h){var b,y=m[0+h];for(b=0;4>b;++b){y=oa[u[p+b]][y];for(var x=sa[S(d,y[0])];0<x;)x=sa[2*x+S(d,y[x])];y=-x,u[p+b]=y}i(g,v,u,p,4),v+=4,m[0+h]=y}}else y=S(d,156)?S(d,128)?1:3:S(d,163)?2:0,f.Ob[0]=y,a(u,p,y,4),a(m,0,y,4);f.Dd=S(d,142)?S(d,114)?S(d,183)?1:3:2:0}if(c.m.Ka)return Ke(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],u=l.rb[l.sb+l.ja],r=l.ya[l.aa+l.ja],p=l.kc?r.Ad:0)d.la=u.la=0,r.Za||(d.Na=u.Na=0),r.Hc=0,r.Gc=0,r.ia=0;else{var w,N;if(d=u,u=c,p=l.Pa.Xc,m=l.ya[l.aa+l.ja],f=l.pb[m.$b],h=m.ad,g=0,v=l.rb[l.sb-1],y=b=0,a(h,g,0,384),m.Za)var A=0,k=p[3];else{x=s(16);var j=d.Na+v.Na;if(j=na(u,p[1],j,f.Eb,0,x,0),d.Na=v.Na=(0<j)+0,1<j)ai(x,0,h,g);else{var C=x[0]+3>>3;for(x=0;256>x;x+=16)h[g+x]=C}A=1,k=p[0]}var _=15&d.la,E=15&v.la;for(x=0;4>x;++x){var M=1&E;for(C=N=0;4>C;++C)_=_>>1|(M=(j=na(u,k,j=M+(1&_),f.Sc,A,h,g))>A)<<7,N=N<<2|(3<j?3:1<j?2:0!=h[g+0]),g+=16;_>>=4,E=E>>1|M<<7,b=(b<<8|N)>>>0}for(k=_,A=E>>4,w=0;4>w;w+=2){for(N=0,_=d.la>>4+w,E=v.la>>4+w,x=0;2>x;++x){for(M=1&E,C=0;2>C;++C)j=M+(1&_),_=_>>1|(M=0<(j=na(u,p[2],j,f.Qc,0,h,g)))<<3,N=N<<2|(3<j?3:1<j?2:0!=h[g+0]),g+=16;_>>=2,E=E>>1|M<<5}y|=N<<4*w,k|=_<<4<<w,A|=(240&E)<<w}d.la=k,v.la=A,m.Hc=b,m.Gc=y,m.ia=43690&y?0:f.ia,p=!(b|y)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[r.$b][r.Za],l.wa[l.Y+l.ja].La|=!p),c.Ka)return Ke(e,7,"Premature end-of-file encountered.")}if(Ze(e),l=n,c=1,r=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(r.M=o.M,r.uc=d,Tn(o,r),c=1,r=(N=o.D).Nb,d=(y=Ba[o.L])*o.R,u=y/2*o.B,x=16*r*o.R,C=8*r*o.B,p=o.sa,m=o.ta-d+x,f=o.qa,h=o.ra-u+C,g=o.Ha,v=o.Ia-u+C,E=0==(_=N.M),b=_>=o.Va-1,2==o.Aa&&Tn(o,N),N.uc)for(M=(j=o).D.M,t(j.D.uc),N=j.yb;N<j.Hb;++N){A=N,k=M;var P=(L=(H=j).D).Nb;w=H.R;var L=L.wa[L.Y+A],T=H.sa,I=H.ta+16*P*w+16*A,F=L.dd,R=L.tc;if(0!=R)if(t(3<=R),1==H.L)0<A&&yi(T,I,w,R+4),L.La&&wi(T,I,w,R),0<k&&bi(T,I,w,R+4),L.La&&xi(T,I,w,R);else{var D=H.B,B=H.qa,O=H.ra+8*P*D+8*A,W=H.Ha,H=H.Ia+8*P*D+8*A;P=L.ld,0<A&&(hi(T,I,w,R+4,F,P),pi(B,O,W,H,D,R+4,F,P)),L.La&&(fi(T,I,w,R,F,P),vi(B,O,W,H,D,R,F,P)),0<k&&(di(T,I,w,R+4,F,P),ui(B,O,W,H,D,R+4,F,P)),L.La&&(mi(T,I,w,R,F,P),gi(B,O,W,H,D,R,F,P))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(N=16*_,_=16*(_+1),E?(l.y=o.sa,l.O=o.ta+x,l.f=o.qa,l.N=o.ra+C,l.ea=o.Ha,l.W=o.Ia+C):(N-=y,l.y=p,l.O=m,l.f=f,l.N=h,l.ea=g,l.W=v),b||(_-=y),_>l.o&&(_=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&N<_&&(l.J=hn(o,l,N,_-N),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ke(o,3,"Could not decode alpha data.");break t}N<l.j&&(y=l.j-N,N=l.j,t(!(1&y)),l.O+=o.R*y,l.N+=o.B*(y>>1),l.W+=o.B*(y>>1),null!=l.F&&(l.J+=l.width*y)),N<_&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=N-l.j,l.U=l.va-l.v,l.T=_-N,c=l.put(l))}r+1!=o.Ic||b||(i(o.sa,o.ta-d,p,m+16*o.R,d),i(o.qa,o.ra-u,f,h+8*o.B,u),i(o.Ha,o.Ia-u,g,v+8*o.B,u))}if(!c)return Ke(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),o&=1}return o?(e.cb=0,o):0})(e,l)||(n=e.a)}}else n=e.a}0==n&&null!=h.Oa&&h.Oa.fd&&(n=Rn(h.ba))}h=n}d=0!=h?null:11>d?u.f.RGBA.eb:u.f.kb.y}else d=null;return d};var Wa=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",i=0;i<4;i++)n+=String.fromCharCode(e[t++]);return n}function d(e,t){return e[t+0]|e[t+1]<<8}function h(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var p=[0],m=[0],f=[],g=new l,v=e,b=function(e,t){var n={},i=0,a=!1,s=0,r=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){for(u(e,t+=4),t+=8;t<e.length;){var o=c(e,t),l=u(e,t+=4);t+=4;var p=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===n.frames[i]&&(n.frames[i]={}),(g=n.frames[i]).src_off=a?r:t-8,g.src_size=s+l+8,i++,a&&(a=!1,s=0,r=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var m=t+4;g.canvas_width=1+h(e,m),m+=3,g.canvas_height=1+h(e,m),m+=3;break;case"ALPH":a=!0,s=p+8,r=t-8;break;case"ANIM":(g=n.header).bgcolor=u(e,t),m=t+4,g.loop_count=d(e,m),m+=2;break;case"ANMF":var f,g;(g=n.frames[i]={}).offset_x=2*h(e,t),t+=3,g.offset_y=2*h(e,t),t+=3,g.width=1+h(e,t),t+=3,g.height=1+h(e,t),t+=3,g.duration=h(e,t),t+=3,f=e[t++],g.dispose=1&f,g.blend=f>>1&1}"ANMF"!=o&&(t+=p)}return n}}(v,0);b.response=v,b.rgbaoutput=!0,b.dataurl=!1;var y=b.header?b.header:null,x=b.frames?b.frames:null;if(y){y.loop_counter=y.loop_count,p=[y.canvas_height],m=[y.canvas_width];for(var w=0;w<x.length&&0!=x[w].blend;w++);}var N=x[0],A=g.WebPDecodeRGBA(v,N.src_off,N.src_size,m,p);N.rgba=A,N.imgwidth=m[0],N.imgheight=p[0];for(var k=0;k<m[0]*p[0]*4;k++)f[k]=A[k];return this.width=m,this.height=p,this.data=f,this}!function(e){var t,n,a,s,r,o,l,c,d,h=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new c,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,n=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,r=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new h}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var i=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return i},set:function(e){i=Boolean(e)}});var a=0;Object.defineProperty(this,"posX",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}});var s=0;Object.defineProperty(this,"posY",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),d.margin=t}});var r=!1;Object.defineProperty(this,"autoPaging",{get:function(){return r},set:function(e){r=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(e){e instanceof h&&(d=e)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(e){d.path=e}});var c=[];Object.defineProperty(this,"ctxStack",{get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=p(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=p(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var u=null,m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){u=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1];t[2];var i=t[3],a=t[4];t[5];var s=t[6],r=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(a)[2];a="px"===r?Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor):"em"===r?Math.floor(parseFloat(a)*this.pdf.getFontSize()):Math.floor(parseFloat(a)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(a);var o=function(e){var t,n,i=[],a=e.trim();if(""===a)return rr;if(a in Vs)return[Vs[a]];for(;""!==a;){switch(n=null,t=(a=Ks(a)).charAt(0)){case'"':case"'":n=Xs(a.substring(1),t);break;default:n=Js(a)}if(null===n)return rr;if(i.push(n[0]),""!==(a=Ks(n[1]))&&","!==a.charAt(0))return rr;a=a.replace(/^,/,"")}return i}(s);if(this.fontFaces){var l=function(e,t){if(null===u){var n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var i=null;switch(e){case"bold":i={family:n,weight:"bold"};break;case"italic":i={family:n,style:"italic"};break;case"bolditalic":i={family:n,weight:"bold",style:"italic"};break;case"":case"normal":i={family:n}}null!==i&&(i.ref={name:n,style:e},t.push(i))})}),t}(e.getFontList());u=function(e){for(var t={},n=0;n<e.length;++n){var i=Us(e[n]),a=i.family,s=i.stretch,r=i.style,o=i.weight;t[a]=t[a]||{},t[a][s]=t[a][s]||{},t[a][s][r]=t[a][s][r]||{},t[a][s][r][o]=i}return t}(n.concat(t))}return u}(this.pdf,this.fontFaces),c=o.map(function(e){return{family:e,stretch:"normal",weight:i,style:n}}),d=function(e,t,n){for(var i=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},Gs,n.genericFontFamilies||{}),s=null,r=null,o=0;o<t.length;++o)if(a[(s=Us(t[o])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){r=e[s.family];break}if(!(r=r||e[i]))throw new Error("Could not find a font-family for the rule '"+Ys(s)+"' and default family '"+i+"'.");if(r=function(e,t){if(t[e])return t[e];var n=Ws[e],i=n<=Ws.normal?-1:1,a=qs(t,Os,n,i);if(!a)throw new Error("Could not find a matching font-stretch value for "+e);return a}(s.stretch,r),r=function(e,t){if(t[e])return t[e];for(var n=Bs[e],i=0;i<n.length;++i)if(t[n[i]])return t[n[i]];throw new Error("Could not find a matching font-style for "+e)}(s.style,r),!(r=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=zs[e],i=qs(t,Hs,n,e<400?-1:1);if(!i)throw new Error("Could not find a matching font-weight for value "+e);return i}(s.weight,r)))throw new Error("Failed to resolve a font for the rule '"+Ys(s)+"'.");return r}(l,c);this.pdf.setFont(d.ref.name,d.ref.style)}else{var h="";("bold"===i||parseInt(i,10)>=700||"bold"===n)&&(h="bold"),"italic"===n&&(h+="italic"),0===h.length&&(h="normal");for(var p="",m={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},f=0;f<o.length;f++){if(void 0!==this.pdf.internal.getFont(o[f],h,{noFallback:!0,disableWarning:!0})){p=o[f];break}if("bolditalic"===h&&void 0!==this.pdf.internal.getFont(o[f],"bold",{noFallback:!0,disableWarning:!0}))p=o[f],h="bold";else if(void 0!==this.pdf.internal.getFont(o[f],"normal",{noFallback:!0,disableWarning:!0})){p=o[f],h="normal";break}}if(""===p)for(var g=0;g<o.length;g++)if(m[o[g]]){p=m[o[g]];break}p=""===p?"Times":p,this.pdf.setFont(p,h)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,B.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,B.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){w.call(this,"fill",!1)},u.prototype.stroke=function(){w.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw ba.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(e,t)},u.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,i.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw ba.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),w.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,n,i){if(isNaN(n)||isNaN(i)||isNaN(e)||isNaN(t))throw ba.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var a=this.ctx.transform.applyToPoint(new o(n,i)),s=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:s.x,y1:s.y,x:a.x,y:a.y}),this.ctx.lastPoint=new o(a.x,a.y)},u.prototype.bezierCurveTo=function(e,t,n,i,a,s){if(isNaN(a)||isNaN(s)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw ba.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var r=this.ctx.transform.applyToPoint(new o(a,s)),l=this.ctx.transform.applyToPoint(new o(e,t)),c=this.ctx.transform.applyToPoint(new o(n,i));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:r.x,y:r.y}),this.ctx.lastPoint=new o(r.x,r.y)},u.prototype.arc=function(e,t,n,i,a,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(a))throw ba.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(s=Boolean(s),!this.ctx.transform.isIdentity){var r=this.ctx.transform.applyToPoint(new o(e,t));e=r.x,t=r.y;var l=this.ctx.transform.applyToPoint(new o(0,n)),c=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(a-i)>=2*Math.PI&&(i=0,a=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:i,endAngle:a,counterclockwise:s})},u.prototype.arcTo=function(e,t,n,i,a){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw ba.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+i),this.lineTo(e,t+i),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw ba.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var a={};"butt"!==this.lineCap&&(a.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(a.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,i),this.fill(),a.hasOwnProperty("lineCap")&&(this.lineCap=a.lineCap),a.hasOwnProperty("lineJoin")&&(this.lineJoin=a.lineJoin)}},u.prototype.strokeRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw ba.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");f.call(this)||(this.beginPath(),this.rect(e,t,n,i),this.stroke())},u.prototype.clearRect=function(e,t,n,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i))throw ba.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,i))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var i=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=i}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(e){var t,n,i,a;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,i=0,a=0;else{var s=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==s)t=parseInt(s[1]),n=parseInt(s[2]),i=parseInt(s[3]),a=1;else if(null!==(s=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(s[1]),n=parseInt(s[2]),i=parseInt(s[3]),a=parseFloat(s[4]);else{if(a=1,"string"==typeof e&&"#"!==e.charAt(0)){var r=new Aa(e);e=r.ok?r.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,i=e.substring(3,4),i+=i):(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),i=parseInt(i,16)}}return{r:t,g:n,b:i,a:a,style:e}},m=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},f=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,n,i){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw ba.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(i=isNaN(i)?void 0:i,!m.call(this)){var a=F(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;E.call(this,{text:e,x:t,y:n,scale:s,angle:a,align:this.textAlign,maxWidth:i})}},u.prototype.strokeText=function(e,t,n,i){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw ba.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!f.call(this)){i=isNaN(i)?void 0:i;var a=F(this.ctx.transform.rotation),s=this.ctx.transform.scaleX;E.call(this,{text:e,x:t,y:n,scale:s,renderingMode:"stroke",angle:a,align:this.textAlign,maxWidth:i})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw ba.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,i=t.internal.getFontSize(),a=t.getStringUnitWidth(e)*i/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:a*=Math.round(96*n/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw ba.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new c(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.rotate=function(e){if(isNaN(e))throw ba.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new c(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw ba.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new c(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},u.prototype.transform=function(e,t,n,i,a,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(i)||isNaN(a)||isNaN(s))throw ba.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var r=new c(e,t,n,i,a,s);this.ctx.transform=this.ctx.transform.multiply(r)},u.prototype.setTransform=function(e,t,n,i,a,s){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,i=isNaN(i)?1:i,a=isNaN(a)?0:a,s=isNaN(s)?0:s,this.ctx.transform=new c(e,t,n,i,a,s)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,n,i,a,s,r,o,d){var h=this.pdf.getImageProperties(e),u=1,p=1,m=1,f=1;void 0!==i&&void 0!==o&&(m=o/i,f=d/a,u=h.width/i*o/i,p=h.height/a*d/a),void 0===s&&(s=t,r=n,t=0,n=0),void 0!==i&&void 0===o&&(o=i,d=a),void 0===i&&void 0===o&&(o=h.width,d=h.height);for(var b,w=this.ctx.transform.decompose(),A=F(w.rotate.shx),k=new c,j=(k=(k=(k=k.multiply(w.translate)).multiply(w.skew)).multiply(w.scale)).applyToRectangle(new l(s-t*m,r-n*f,i*u,a*p)),C=v.call(this,j),_=[],S=0;S<C.length;S+=1)-1===_.indexOf(C[S])&&_.push(C[S]);if(x(_),this.autoPaging)for(var E=_[0],M=_[_.length-1],P=E;P<M+1;P++){this.pdf.setPage(P);var L=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],T=1===P?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],R=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],D=1===P?0:I+(P-2)*R;if(0!==this.ctx.clip_path.length){var B=this.path;b=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(b,this.posX+this.margin[3],-D+T+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=B}var O=JSON.parse(JSON.stringify(j));O=y([O],this.posX+this.margin[3],-D+T+this.ctx.prevPageLastElemOffset)[0];var W=(P>E||P<M)&&g.call(this);W&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,R,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",O.x,O.y,O.w,O.h,null,null,A),W&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",j.x,j.y,j.w,j.h,null,null,A)};var v=function(e,t,n){var i=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var a=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":i.push(Math.floor((e.y+a)/n)+1);break;case"arc":i.push(Math.floor((e.y+a-e.radius)/n)+1),i.push(Math.floor((e.y+a+e.radius)/n)+1);break;case"qct":var s=R(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);i.push(Math.floor((s.y+a)/n)+1),i.push(Math.floor((s.y+s.h+a)/n)+1);break;case"bct":var r=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);i.push(Math.floor((r.y+a)/n)+1),i.push(Math.floor((r.y+r.h+a)/n)+1);break;case"rect":i.push(Math.floor((e.y+a)/n)+1),i.push(Math.floor((e.y+e.h+a)/n)+1)}for(var o=0;o<i.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<i[o];)b.call(this);return i},b=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,i=this.lineCap,a=this.lineWidth,s=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=i,this.lineWidth=a,this.lineJoin=s},y=function(e,t,n){for(var i=0;i<e.length;i++)switch(e[i].type){case"bct":e[i].x2+=t,e[i].y2+=n;case"qct":e[i].x1+=t,e[i].y1+=n;default:e[i].x+=t,e[i].y+=n}return e},x=function(e){return e.sort(function(e,t){return e-t})},w=function(e,t){for(var n,i,a=this.fillStyle,s=this.strokeStyle,r=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,d=JSON.parse(JSON.stringify(this.path)),h=JSON.parse(JSON.stringify(this.path)),u=[],p=0;p<h.length;p++)if(void 0!==h[p].x)for(var m=v.call(this,h[p]),f=0;f<m.length;f+=1)-1===u.indexOf(m[f])&&u.push(m[f]);for(var w=0;w<u.length;w++)for(;this.pdf.internal.getNumberOfPages()<u[w];)b.call(this);if(x(u),this.autoPaging)for(var A=u[0],k=u[u.length-1],j=A;j<k+1;j++){this.pdf.setPage(j),this.fillStyle=a,this.strokeStyle=s,this.lineCap=r,this.lineWidth=l,this.lineJoin=c;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_=1===j?this.posY+this.margin[0]:this.margin[0],S=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],E=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],M=1===j?0:S+(j-2)*E;if(0!==this.ctx.clip_path.length){var P=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(n,this.posX+this.margin[3],-M+_+this.ctx.prevPageLastElemOffset),N.call(this,e,!0),this.path=P}if(i=JSON.parse(JSON.stringify(d)),this.path=y(i,this.posX+this.margin[3],-M+_+this.ctx.prevPageLastElemOffset),!1===t||0===j){var L=(j>A||j<k)&&g.call(this);L&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,E,null).clip().discardPath()),N.call(this,e,t),L&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,N.call(this,e,t),this.lineWidth=o;this.path=d},N=function(e,t){if(("stroke"!==e||t||!f.call(this))&&("stroke"===e||t||!m.call(this))){for(var n,i,a=[],s=this.path,r=0;r<s.length;r++){var o=s[r];switch(o.type){case"begin":a.push({begin:!0});break;case"close":a.push({close:!0});break;case"mt":a.push({start:o,deltas:[],abs:[]});break;case"lt":var l=a.length;if(s[r-1]&&!isNaN(s[r-1].x)&&(n=[o.x-s[r-1].x,o.y-s[r-1].y],l>0))for(;l>=0;l--)if(!0!==a[l-1].close&&!0!==a[l-1].begin){a[l-1].deltas.push(n),a[l-1].abs.push(o);break}break;case"bct":n=[o.x1-s[r-1].x,o.y1-s[r-1].y,o.x2-s[r-1].x,o.y2-s[r-1].y,o.x-s[r-1].x,o.y-s[r-1].y],a[a.length-1].deltas.push(n);break;case"qct":var c=s[r-1].x+2/3*(o.x1-s[r-1].x),d=s[r-1].y+2/3*(o.y1-s[r-1].y),h=o.x+2/3*(o.x1-o.x),u=o.y+2/3*(o.y1-o.y),p=o.x,g=o.y;n=[c-s[r-1].x,d-s[r-1].y,h-s[r-1].x,u-s[r-1].y,p-s[r-1].x,g-s[r-1].y],a[a.length-1].deltas.push(n);break;case"arc":a.push({deltas:[],abs:[],arc:!0}),Array.isArray(a[a.length-1].abs)&&a[a.length-1].abs.push(o)}}i=t?null:"stroke"===e?"stroke":"fill";for(var v=!1,b=0;b<a.length;b++)if(a[b].arc)for(var y=a[b].abs,x=0;x<y.length;x++){var w=y[x];"arc"===w.type?j.call(this,w.x,w.y,w.radius,w.startAngle,w.endAngle,w.counterclockwise,void 0,t,!v):M.call(this,w.x,w.y),v=!0}else if(!0===a[b].close)this.pdf.internal.out("h"),v=!1;else if(!0!==a[b].begin){var N=a[b].start.x,A=a[b].start.y;P.call(this,a[b].deltas,N,A),v=!0}i&&C.call(this,i),t&&_.call(this)}},A=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},k=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var j=function(e,t,n,i,a,s,r,o,l){for(var c=T.call(this,n,i,a,s),d=0;d<c.length;d++){var h=c[d];0===d&&(l?S.call(this,h.x1+e,h.y1+t):M.call(this,h.x1+e,h.y1+t)),L.call(this,e,t,h.x2,h.y2,h.x3,h.y3,h.x4,h.y4)}o?_.call(this):C.call(this,r)},C=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},_=function(){this.pdf.clip(),this.pdf.discardPath()},S=function(e,t){this.pdf.internal.out(n(e)+" "+a(t)+" m")},E=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),i=A.call(this,e.y),a=k.call(this,i)-n.h,s=this.ctx.transform.applyToPoint(new o(e.x,i)),r=this.ctx.transform.decompose(),d=new c;d=(d=(d=d.multiply(r.translate)).multiply(r.skew)).multiply(r.scale);for(var h,u,p,m=this.ctx.transform.applyToRectangle(new l(e.x,i,n.w,n.h)),f=d.applyToRectangle(new l(e.x,a,n.w,n.h)),b=v.call(this,f),w=[],j=0;j<b.length;j+=1)-1===w.indexOf(b[j])&&w.push(b[j]);if(x(w),this.autoPaging)for(var C=w[0],_=w[w.length-1],S=C;S<_+1;S++){this.pdf.setPage(S);var E=1===S?this.posY+this.margin[0]:this.margin[0],M=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],P=this.pdf.internal.pageSize.height-this.margin[2],L=P-this.margin[0],T=this.pdf.internal.pageSize.width-this.margin[1],I=T-this.margin[3],F=1===S?0:M+(S-2)*L;if(0!==this.ctx.clip_path.length){var R=this.path;h=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(h,this.posX+this.margin[3],-1*F+E),N.call(this,"fill",!0),this.path=R}var D=y([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-F+E+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(u=this.pdf.internal.getFontSize(),this.pdf.setFontSize(u*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale);var B="text"!==this.autoPaging;if(B||D.y+D.h<=P){if(B||D.y>=E&&D.x<=T){var O=B?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||T-D.x)[0],W=y([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-F+E+this.ctx.prevPageLastElemOffset)[0],H=B&&(S>C||S<_)&&g.call(this);H&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],I,L,null).clip().discardPath()),this.pdf.text(O,W.x,W.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),H&&this.pdf.restoreGraphicsState()}}else D.y<P&&(this.ctx.prevPageLastElemOffset+=P-D.y);e.scale>=.01&&(this.pdf.setFontSize(u),this.lineWidth=p)}else e.scale>=.01&&(u=this.pdf.internal.getFontSize(),this.pdf.setFontSize(u*e.scale),p=this.lineWidth,this.lineWidth=p*e.scale),this.pdf.text(e.text,s.x+this.posX,s.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(u),this.lineWidth=p)},M=function(e,t,i,s){i=i||0,s=s||0,this.pdf.internal.out(n(e+i)+" "+a(t+s)+" l")},P=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},L=function(e,n,i,a,o,l,c,d){this.pdf.internal.out([t(s(i+e)),t(r(a+n)),t(s(o+e)),t(r(l+n)),t(s(c+e)),t(r(d+n)),"c"].join(" "))},T=function(e,t,n,i){for(var a=2*Math.PI,s=Math.PI/2;t>n;)t-=a;var r=Math.abs(n-t);r<a&&i&&(r=a-r);for(var o=[],l=i?-1:1,c=t;r>1e-5;){var d=c+l*Math.min(r,s);o.push(I.call(this,e,c,d)),r-=Math.abs(d-c),c=d}return o},I=function(e,t,n){var i=(n-t)/2,a=e*Math.cos(i),s=e*Math.sin(i),r=a,o=-s,l=r*r+o*o,c=l+r*a+o*s,d=4/3*(Math.sqrt(2*l*c)-c)/(r*s-o*a),h=r-d*o,u=o+d*r,p=h,m=-u,f=i+t,g=Math.cos(f),v=Math.sin(f);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:h*g-u*v,y2:h*v+u*g,x3:p*g-m*v,y3:p*v+m*g,x4:e*Math.cos(n),y4:e*Math.sin(n)}},F=function(e){return 180*e/Math.PI},R=function(e,t,n,i,a,s){var r=e+.5*(n-e),o=t+.5*(i-t),c=a+.5*(n-a),d=s+.5*(i-s),h=Math.min(e,a,r,c),u=Math.max(e,a,r,c),p=Math.min(t,s,o,d),m=Math.max(t,s,o,d);return new l(h,p,u-h,m-p)},D=function(e,t,n,i,a,s,r,o){var c,d,h,u,p,m,f,g,v,b,y,x,w,N,A=n-e,k=i-t,j=a-n,C=s-i,_=r-a,S=o-s;for(d=0;d<41;d++)v=(f=(h=e+(c=d/40)*A)+c*((p=n+c*j)-h))+c*(p+c*(a+c*_-p)-f),b=(g=(u=t+c*k)+c*((m=i+c*C)-u))+c*(m+c*(s+c*S-m)-g),0==d?(y=v,x=b,w=v,N=b):(y=Math.min(y,v),x=Math.min(x,b),w=Math.max(w,v),N=Math.max(N,b));return new l(Math.round(y),Math.round(x),Math.round(w-y),Math.round(N-x))},B=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(Xa.API),function(e){var t=function(e){var t,n,i,a,s,r,o,l,c,d;for(/[^\x00-\xFF]/.test(e),n=[],i=0,a=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;a>i;i+=4)0!==(s=(e.charCodeAt(i)<<24)+(e.charCodeAt(i+1)<<16)+(e.charCodeAt(i+2)<<8)+e.charCodeAt(i+3))?(r=(s=((s=((s=((s=(s-(d=s%85))/85)-(c=s%85))/85)-(l=s%85))/85)-(o=s%85))/85)%85,n.push(r+33,o+33,l+33,c+33,d+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,i,a,s,r=String,o="length",l=255,c="charCodeAt",d="slice",h="replace";for(e[d](-2),e=e[d](0,-2)[h](/\s/g,"")[h]("z","!!!!!"),i=[],a=0,s=(e+=t="uuuuu"[d](e[o]%5||5))[o];s>a;a+=5)n=52200625*(e[c](a)-33)+614125*(e[c](a+1)-33)+7225*(e[c](a+2)-33)+85*(e[c](a+3)-33)+(e[c](a+4)-33),i.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(i,t[o]),r.fromCharCode.apply(r,i)},i=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",i=0;i<e.length;i+=2)n+=String.fromCharCode("0x"+(e[i]+e[i+1]));return n},s=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=H(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,r){var o=0,l=e||"",c=[];for("string"==typeof(r=r||[])&&(r=[r]),o=0;o<r.length;o+=1)switch(r[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=a(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=i(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=s(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+r[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Xa.API),(sr=Xa.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var i=void 0;try{i=function(e,t,n){var i=new XMLHttpRequest,a=0,s=function(e){var t=e.length,n=[],i=String.fromCharCode;for(a=0;a<t;a+=1)n.push(i(255&e.charCodeAt(a)));return n.join("")};if(i.open("GET",e,!t),i.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(i.onload=function(){200===i.status?n(s(this.responseText)):n(void 0)}),i.send(null),t&&200===i.status)return s(i.responseText)}(e,t,n)}catch(v){}return i}(e,t,n)},sr.loadImageFile=sr.loadFile,function(e){function t(){return(ga.html2canvas?Promise.resolve(ga.html2canvas):n.e(239).then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function a(){return(ga.DOMPurify?Promise.resolve(ga.DOMPurify):n.e(977).then(n.bind(n,7977))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var s=function(e){var t=(0,i.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},r=function(e,t){var n=document.createElement(e);for(var i in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[i]=t.style[i];return n},o=function e(t,n){for(var i=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),a=t.firstChild;a;a=a.nextSibling)!0!==n&&1===a.nodeType&&"SCRIPT"===a.nodeName||i.appendChild(e(a,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(i.width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(i.value=t.value),i.addEventListener("load",function(){i.scrollTop=t.scrollTop,i.scrollLeft=t.scrollLeft},!0)),i},l=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),i=e.convert(Promise.resolve(),n);return(i=i.setProgress(1,e,1,[e])).set(t)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(e,t){return e.__proto__=t||l.prototype,e},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(s(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e),t){case"string":return this.then(a).then(function(t){return this.set({src:r("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},l.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,i="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,a=Object.assign({async:!0,allowTaint:!0,scale:i,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete a.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var s=0;s<n.length;++s){var r=n[s],o=r.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,r.ref.name,r.ref.style)}return a.windowHeight=a.windowHeight||0,a.windowHeight=0==a.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):a.windowHeight,t.context2d.save(!0),e(this.prop.container,a)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},l.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},l.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},l.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(e){if("object"!==s(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in l.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},l.prototype.get=function(e,t){return this.then(function(){var n=e in l.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},l.prototype.setMargin=function(e){return this.then(function(){switch(s(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},l.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||Xa.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},l.prototype.setProgress=function(e,t,n,i){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=i&&(this.progress.stack=i),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(e,t,n,i){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,i?this.progress.stack.concat(i):null)},l.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},l.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then;var i=this;e&&(e=e.bind(i)),t&&(t=t.bind(i));var a=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?i:l.convert(Object.assign({},i),Promise.prototype),s=n.call(a,e,t);return l.convert(s,i.__proto__)},l.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},l.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},l.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return l.convert(t,this)},l.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},l.prototype.error=function(e){return this.then(function(){throw new Error(e)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Xa.getPageSize=function(e,t,n){if("object"===(0,i.A)(e)){var a=e;e=a.orientation,t=a.unit||t,n=a.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var s,r=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+t}var l,c=0,d=0;if(o.hasOwnProperty(r))c=o[r][1]/s,d=o[r][0]/s;else try{c=n[1],d=n[0]}catch(Aa){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",d>c&&(l=d,d=c,c=l);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",c>d&&(l=d,d=c,c=l)}return{width:d,height:c,unit:t,k:s,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(Us):null;var n=new l(t);return t.worker?n:n.from(e).doCallback()}}(Xa.API),Xa.API.addJS=function(e){return $s=e,this.internal.events.subscribe("postPutResources",function(){Qs=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Qs+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Zs=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$s+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Qs&&void 0!==Zs&&this.internal.out("/Names <</JavaScript "+Qs+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=e.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],r=n.exec(s);if(null!=r){var o=r[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(a=0;a<l;a++){var d=e.internal.newObject();c.push(d);var h=e.internal.getPageInfo(a+1);e.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var u=e.internal.newObject();for(e.internal.write("<< /Names [ "),a=0;a<c.length;a++)e.internal.write("(page_"+(a+1)+")"+c[a]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+u+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var i={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(i),i},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<t.children.length;i++){var a=t.children[i];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(t)),i>0&&this.line("/Prev "+this.makeRef(t.children[i-1])),i<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[i+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var s=this.count=this.count_r({count:0},a);if(s>0&&this.line("/Count "+s),a.options&&a.options.pageNumber){var r=e.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+r.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(Xa.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,i,a,s,r){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,o=function(e){for(var n,i=256*e.charCodeAt(4)+e.charCodeAt(5),a=e.length,s={width:0,height:0,numcomponents:1},r=4;r<a;r+=2){if(r+=i,-1!==t.indexOf(e.charCodeAt(r+1))){n=256*e.charCodeAt(r+5)+e.charCodeAt(r+6),s={width:256*e.charCodeAt(r+7)+e.charCodeAt(r+8),height:n,numcomponents:e.charCodeAt(r+9)};break}i=256*e.charCodeAt(r+2)+e.charCodeAt(r+3)}return s}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e),o.numcomponents){case 1:r=this.color_spaces.DEVICE_GRAY;break;case 4:r=this.color_spaces.DEVICE_CMYK;break;case 3:r=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:r,bitsPerComponent:8,filter:l,index:n,alias:i}}return c}}(Xa.API),Xa.API.processPNG=function(e,t,n,i){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,s=new ma(e,{checkCrc:!0}).decode(),r=s.width,o=s.height,l=s.channels,c=s.palette,d=s.depth;a=c&&1===l?function(e){for(var t=e.width,n=e.height,i=e.data,a=e.palette,s=e.depth,r=!1,o=[],l=[],c=void 0,d=!1,h=0,u=0;u<a.length;u++){var p=q(a[u],4),m=p[0],f=p[1],g=p[2],v=p[3];o.push(m,f,g),null!=v&&(0===v?(h++,l.length<1&&l.push(u)):v<255&&(d=!0))}if(d||h>1){r=!0,l=void 0;var b=t*n;c=new Uint8Array(b);for(var y=new DataView(i.buffer),x=0;x<b;x++){var w=q(a[fr(y,x,s)],4)[3];c[x]=w}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:i,alphaBytes:c,needSMask:r,palette:o,mask:l}}(s):2===l||4===l?function(e){for(var t=e.data,n=e.width,i=e.height,a=e.channels,s=e.depth,r=2===a?"DeviceGray":"DeviceRGB",o=a-1,l=n*i,c=o,d=l*c,h=1*l,u=Math.ceil(d*s/8),p=Math.ceil(h*s/8),m=new Uint8Array(u),f=new Uint8Array(p),g=new DataView(t.buffer),v=new DataView(m.buffer),b=new DataView(f.buffer),y=!1,x=0;x<l;x++){for(var w=x*a,N=0;N<c;N++)gr(v,fr(g,w+N,s),x*c+N,s);var A=fr(g,w+c,s);A<(1<<s)-1&&(y=!0),gr(b,A,1*x,s)}return{colorSpace:r,colorsPerPixel:o,colorBytes:m,alphaBytes:f,needSMask:y}}(s):function(e){var t=e.data,n=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:n,colorsPerPixel:"DeviceGray"===n?1:3,colorBytes:t instanceof Uint8Array?t:new Uint8Array(t.buffer),needSMask:!1}}(s);var h,u,p,m=a,f=m.colorSpace,g=m.colorsPerPixel,v=m.colorBytes,b=m.alphaBytes,y=m.needSMask,x=m.palette,w=m.mask,N=null;return i!==Xa.API.image_compression.NONE?(N=function(e){var t;switch(e){case Xa.API.image_compression.FAST:t=11;break;case Xa.API.image_compression.MEDIUM:t=13;break;case Xa.API.image_compression.SLOW:t=14;break;default:t=12}return t}(i),h=this.decode.FLATE_DECODE,u="/Predictor ".concat(N," "),e=or(v,r*g,g,i),y&&(p=or(b,r,1,i))):(h=void 0,u="",e=v,y&&(p=b)),u+="/Colors ".concat(g," /BitsPerComponent ").concat(d," /Columns ").concat(r),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:e,index:t,filter:h,decodeParameters:u,transparency:w,palette:x,sMask:p,predictor:N,width:r,height:o,bitsPerComponent:d,colorSpace:f}}},function(e){e.processGIF89A=function(t,n,i,a){var s=new br(t),r=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:r,height:o},d=new xr(100).encode(c,100);return e.processJPEG.call(this,d,n,i,a)},e.processGIF87A=e.processGIF89A}(Xa.API),wr.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:i,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},wr.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){ba.log("bit decode error:"+n)}},wr.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),r=i*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[r+4*o]=l.blue,this.data[r+4*o+1]=l.green,this.data[r+4*o+2]=l.red,this.data[r+4*o+3]=255}0!==n&&(this.pos+=4-n)}},wr.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),r=i*this.width*4+2*a*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[r]=c.blue,this.data[r+1]=c.green,this.data[r+2]=c.red,this.data[r+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[r+4]=c.blue,this.data[r+4+1]=c.green,this.data[r+4+2]=c.red,this.data[r+4+3]=255}0!==t&&(this.pos+=4-t)}},wr.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*i;if(a<this.palette.length){var r=this.palette[a];this.data[s]=r.red,this.data[s+1]=r.green,this.data[s+2]=r.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==e&&(this.pos+=4-e)}},wr.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var r=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,d=i*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=r,this.data[d+3]=c}this.pos+=e}},wr.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var a=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var r=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(r&t)/t*255|0,l=(r>>5&n)/n*255|0,c=(r>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},wr.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=t*this.width*4+4*n;this.data[r]=s,this.data[r+1]=a,this.data[r+2]=i,this.data[r+3]=255}this.pos+=this.width%4}},wr.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=i,this.data[o+3]=r}},wr.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,i,a){var s=new wr(t,!1),r=s.width,o=s.height,l={data:s.getData(),width:r,height:o},c=new xr(100).encode(l,100);return e.processJPEG.call(this,c,n,i,a)}}(Xa.API),Nr.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,i,a){var s=new Nr(t),r=s.width,o=s.height,l={data:s.getData(),width:r,height:o},c=new xr(100).encode(l,100);return e.processJPEG.call(this,c,n,i,a)}}(Xa.API),Xa.API.processRGBA=function(e,t,n){for(var i=e.data,a=i.length,s=new Uint8Array(a/4*3),r=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var d=i[c],h=i[c+1],u=i[c+2],p=i[c+3];s[o++]=d,s[o++]=h,s[o++]=u,r[l++]=p}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(r),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Xa.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},er=Xa.API,tr=er.getCharWidthsArray=function(e,t){var n,a,s=(t=t||{}).font||this.internal.getFont(),r=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:s.metadata.Unicode.kerning,h=d.fof?d.fof:1,u=!1!==t.doKerning,p=0,m=e.length,f=0,g=l[0]||c,v=[];for(n=0;n<m;n++)a=e.charCodeAt(n),"function"==typeof s.metadata.widthOfString?v.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(a))+o*(1e3/r)||0)/1e3):(p=u&&"object"===(0,i.A)(d[a])&&!isNaN(parseInt(d[a][f],10))?d[a][f]/h:0,v.push((l[a]||g)/c+p)),f=a;return v},nr=er.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return er.processArabic&&(e=er.processArabic(e)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(e,n,a)/n:tr.apply(this,arguments).reduce(function(e,t){return e+t},0)},ir=function(e,t,n,i){for(var a=[],s=0,r=e.length,o=0;s!==r&&o+t[s]<n;)o+=t[s],s++;a.push(e.slice(0,s));var l=s;for(o=0;s!==r;)o+t[s]>i&&(a.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&a.push(e.slice(l,s)),a},ar=function(e,t,n){n||(n={});var i,a,s,r,o,l,c,d=[],h=[d],u=n.textIndent||0,p=0,m=0,f=e.split(" "),g=tr.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?f[0].length+2:n.lineIndent||0){var v=Array(l).join(" "),b=[];f.map(function(e){(e=e.split(/\s*\n/)).length>1?b=b.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):b.push(e[0])}),f=b,l=nr.apply(this,[v,n])}for(s=0,r=f.length;s<r;s++){var y=0;if(i=f[s],l&&"\n"==i[0]&&(i=i.substr(1),y=1),u+p+(m=(a=tr.apply(this,[i,n])).reduce(function(e,t){return e+t},0))>t||y){if(m>t){for(o=ir.apply(this,[i,a,t-(u+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);m=a.slice(i.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[i];h.push(d),u=m+l,p=g}else d.push(i),u+=p+m,p=g}return c=l?function(e,t){return(t?v:"")+e.join(" ")}:function(e){return e.join(" ")},h.map(c)},er.splitTextToSize=function(e,t,n){var i,a=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),n="Unicode";return t.metadata[n]?{widths:t.metadata[n].widths||{0:1},kerning:t.metadata[n].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);i=Array.isArray(e)?e:String(e).split(/\r?\n/);var r=1*this.internal.scaleFactor*t/a;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=i.length;o<l;o++)c=c.concat(ar.apply(this,[i[o],r,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",a={},s={},r=0;r<16;r++)a[n[r]]=t[r],s[t[r]]=n[r];var o=function(e){return"0x"+parseInt(e,10).toString(16)},l=e.__fontmetrics__.compress=function(e){var t,n,a,r,c=["{"];for(var d in e){if(t=e[d],isNaN(parseInt(d,10))?n="'"+d+"'":(d=parseInt(d,10),n=(n=o(d).slice(2)).slice(0,-1)+s[n.slice(-1)]),"number"==typeof t)t<0?(a=o(t).slice(3),r="-"):(a=o(t).slice(2),r=""),a=r+a.slice(0,-1)+s[a.slice(-1)];else{if("object"!==(0,i.A)(t))throw new Error("Don't know what to do with value type "+(0,i.A)(t)+".");a=l(t)}c.push(n+a)}return c.push("}"),c.join("")},c=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,n,i,s,r={},o=1,l=r,c=[],d="",h="",u=e.length-1,p=1;p<u;p+=1)"'"==(s=e[p])?t?(i=t.join(""),t=void 0):t=[]:t?t.push(s):"{"==s?(c.push([l,i]),l={},i=void 0):"}"==s?((n=c.pop())[0][n[1]]=l,i=void 0,l=n[0]):"-"==s?o=-1:void 0===i?a.hasOwnProperty(s)?(d+=a[s],i=parseInt(d,16)*o,o=1,d=""):d+=s:a.hasOwnProperty(s)?(h+=a[s],l[i]=parseInt(h,16)*o,o=1,i=void 0,h=""):h+=s;return r},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},u={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var i=h.Unicode[t.postScriptName];i&&(t.metadata.Unicode.encoding=i,t.encoding=i.codePages[0])}])}(Xa.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n};e.API.events.push(["addFont",function(n){var i=void 0,a=n.font,s=n.instance;if(!a.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if("string"!=typeof(i=!1===s.existsFileInVFS(a.postScriptName)?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");!function(n,i){i=/^\x00\x01\x00\x00/.test(i)?t(i):t(ka(i)),n.metadata=e.API.TTFFont.open(i),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(a,i)}}])}(Xa),Xa.API.addSvgAsImage=function(e,t,i,a,s,r,o,l){if(isNaN(t)||isNaN(i))throw ba.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(s))throw ba.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=a,c.height=s;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(ga.canvg?Promise.resolve(ga.canvg):n.e(455).then(n.bind(n,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(d,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(h)}).then(function(){u.addImage(c.toDataURL("image/jpeg",1),t,i,a,s,o,l)})},Xa.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var a=0;a<this.internal.pages[i].length;a++)this.internal.pages[i][a]=this.internal.pages[i][a].replace(t,n);return this},Xa.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var a,s,r,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,h=0,u=0;function p(e,t){var n,i=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(i=!0);return i}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var m=l.length;for(u=0;u<m;u+=1)n[l[u]].value=n[l[u]].defaultValue,n[l[u]].explicitSet=!1}if("object"===(0,i.A)(e))for(s in e)if(r=e[s],p(l,s)&&void 0!==r){if("boolean"===n[s].type&&"boolean"==typeof r)n[s].value=r;else if("name"===n[s].type&&p(n[s].valueSet,r))n[s].value=r;else if("integer"===n[s].type&&Number.isInteger(r))n[s].value=r;else if("array"===n[s].type){for(d=0;d<r.length;d+=1)if(a=!0,1===r[d].length&&"number"==typeof r[d][0])c.push(String(r[d]-1));else if(r[d].length>1){for(h=0;h<r[d].length;h+=1)"number"!=typeof r[d][h]&&(a=!1);!0===a&&c.push([r[d][0]-1,r[d][1]-1].join(" "))}n[s].value="["+c.join(" ")+"]"}else n[s].value=n[s].defaultValue;n[s].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),s=unescape(encodeURIComponent("</x:xmpmeta>")),r=n.length+i.length+a.length+t.length+s.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+r+" >>"),this.internal.write("stream"),this.internal.write(t+n+i+a+s),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,i){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Xa.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,i=t.metadata.Unicode.widths,a=["","0","00","000","0000"],s=[""],r=0,o=e.length;r<o;++r){if(n=t.metadata.characterToGlyph(e.charCodeAt(r)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(r),-1==i.indexOf(n)&&(i.push(n),i.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return s.join("");n=n.toString(16),s.push(a[4-n.length],n)}return s.join("")},i=function(e){var t,n,i,a,s,r,o;for(s="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",i=[],r=0,o=(n=Object.keys(e).sort(function(e,t){return e-t})).length;r<o;r++)t=n[r],i.length>=100&&(s+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar",i=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(a=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),i.push("<"+t+"><"+a+">"));return i.length&&(s+="\n"+i.length+" beginbfchar\n"+i.join("\n")+"\nendbfchar\n"),s+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,s=t.newObject,r=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var h=s();r({data:c,addLength1:!0,objectId:h}),a("endobj");var u=s();r({data:i(n.metadata.toUnicode),addLength1:!0,objectId:u}),a("endobj");var p=s();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+Ua(n.fontName)),a("/FontFile2 "+h+" 0 R"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/Flags "+n.metadata.flags),a("/StemV "+n.metadata.stemV),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a(">>"),a("endobj");var m=s();a("<<"),a("/Type /Font"),a("/BaseFont /"+Ua(n.fontName)),a("/FontDescriptor "+p+" 0 R"),a("/W "+e.API.PDFObject.convert(o)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+n.encoding+")"),a(">>"),a(">>"),a("endobj"),n.objectNumber=s(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+u+" 0 R"),a("/BaseFont /"+Ua(n.fontName)),a("/Encoding /"+n.encoding),a("/DescendantFonts ["+m+" 0 R]"),a(">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,a=t.out,s=t.newObject,r=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=s();r({data:l,addLength1:!0,objectId:d}),a("endobj");var h=s();r({data:i(n.metadata.toUnicode),addLength1:!0,objectId:h}),a("endobj");var u=s();a("<<"),a("/Descent "+n.metadata.decender),a("/CapHeight "+n.metadata.capHeight),a("/StemV "+n.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+d+" 0 R"),a("/Flags 96"),a("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),a("/FontName /"+Ua(n.fontName)),a("/ItalicAngle "+n.metadata.italicAngle),a("/Ascent "+n.metadata.ascender),a(">>"),a("endobj"),n.objectNumber=s();for(var p=0;p<n.metadata.hmtx.widths.length;p++)n.metadata.hmtx.widths[p]=parseInt(n.metadata.hmtx.widths[p]*(1e3/n.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+h+" 0 R/BaseFont/"+Ua(n.fontName)+"/FontDescriptor "+u+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),a("endobj"),n.isAlreadyPutted=!0}}(t)}]);var a=function(e){var t,i=e.text||"",a=e.x,s=e.y,r=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,h=c,u="",p=0,m="",f=d[h].encoding;if("Identity-H"!==d[h].encoding)return{text:i,x:a,y:s,options:r,mutex:o};for(m=i,h=c,Array.isArray(i)&&(m=i[0]),p=0;p<m.length;p+=1)d[h].metadata.hasOwnProperty("cmap")&&(t=d[h].metadata.cmap.unicode.codeMap[m[p].charCodeAt(0)]),t||m[p].charCodeAt(0)<256&&d[h].metadata.hasOwnProperty("Unicode")?u+=m[p]:u+="";var g="";return parseInt(h.slice(1))<14||"WinAnsiEncoding"===f?g=l(u,h).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===f&&(g=n(u,d[h])),o.isHex=!0,{text:g,x:a,y:s,options:r,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],i={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var s=0;for(s=0;s<t.length;s+=1)Array.isArray(t[s])&&3===t[s].length?n.push([a(Object.assign({},i,{text:t[s][0]})).text,t[s][1],t[s][2]]):n.push(a(Object.assign({},i,{text:t[s]})).text);e.text=n}else e.text=a(Object.assign({},i,{text:t})).text}])}(Xa),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Xa.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,i,a,s,r,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),g=!1,v=0;this.__bidiEngine__={};var b=function(e){var t=e.charCodeAt(),n=t>>8,i=p[n];return void 0!==i?c[256*i+(255&t)]:252===n||253===n?"AL":f.test(n)?"L":8===n?"R":"N"},y=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=b(e.charAt(n))))return!1;if("R"===t)return!0}return!1},x=function(e,t,r,o){var l,c,d,h,u=t[o];switch(u){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":g=!1;break;case"N":case"AN":break;case"EN":g&&(u="AN");break;case"AL":g=!0,u="R";break;case"WS":case"BN":u="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=r[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?u="N":g&&(c="AN"),u=c===l?c:"N";break;case"ES":u="EN"===(l=o>0?r[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===r[o-1]){u="EN";break}if(g){u="N";break}for(d=o+1,h=t.length;d<h&&"ET"===t[d];)d++;u=d<h&&"EN"===t[d]?"EN":"N";break;case"NSM":if(a&&!s){for(h=t.length,d=o+1;d<h&&"NSM"===t[d];)d++;if(d<h){var p=e[o],m=p>=1425&&p<=2303||64286===p;if(l=t[d],m&&("R"===l||"AL"===l)){u="R";break}}}u=o<1||"B"===(l=t[o-1])?"N":r[o-1];break;case"B":g=!1,n=!0,u=v;break;case"S":i=!0,u="N"}return u},w=function(e,t,n){var i=e.split("");return n&&N(i,n,{hiLevel:v}),i.reverse(),t&&t.reverse(),i.join("")},N=function(e,t,a){var s,r,o,l,c,p=-1,m=e.length,f=0,y=[],w=v?h:d,N=[];for(g=!1,n=!1,i=!1,r=0;r<m;r++)N[r]=b(e[r]);for(o=0;o<m;o++){if(c=f,y[o]=x(e,N,y,o),s=240&(f=w[c][u[y[o]]]),f&=15,t[o]=l=w[f][5],s>0)if(16===s){for(r=p;r<o;r++)t[r]=1;p=-1}else p=-1;if(w[f][6])-1===p&&(p=o);else if(p>-1){for(r=p;r<o;r++)t[r]=l;p=-1}"B"===N[o]&&(t[o]=0),a.hiLevel|=l}i&&function(e,t,n){for(var i=0;i<n;i++)if("S"===e[i]){t[i]=v;for(var a=i-1;a>=0&&"WS"===e[a];a--)t[a]=v}}(N,t,m)},A=function(e,t,i,a,s){if(!(s.hiLevel<e)){if(1===e&&1===v&&!n)return t.reverse(),void(i&&i.reverse());for(var r,o,l,c,d=t.length,h=0;h<d;){if(a[h]>=e){for(l=h+1;l<d&&a[l]>=e;)l++;for(c=h,o=l-1;c<o;c++,o--)r=t[c],t[c]=t[o],t[o]=r,i&&(r=i[c],i[c]=i[o],i[o]=r);h=l}h++}}},k=function(e,t,n){var i=e.split(""),a={hiLevel:v};return n||(n=[]),N(i,n,a),function(e,t,n){if(0!==n.hiLevel&&l)for(var i,a=0;a<e.length;a++)1===t[a]&&(i=m.indexOf(e[a]))>=0&&(e[a]=m[i+1])}(i,n,a),A(2,i,t,n,a),A(1,i,t,n,a),i.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===s&&(s=y(e)),void 0===o&&(o=y(e))}(e,t),a||!r||o)if(a&&r&&s^o)v=s?1:0,e=w(e,t,n);else if(!a&&r&&o)v=s?1:0,e=k(e,t,n),e=w(e,t);else if(!a||s||r||o){if(a&&!r&&s^o)e=w(e,t),s?(v=0,e=k(e,t,n)):(v=1,e=k(e,t,n),e=w(e,t));else if(a&&s&&!r&&o)v=1,e=k(e,t,n),e=w(e,t);else if(!a&&!r&&s^o){var i=l;s?(v=1,e=k(e,t,n),v=0,l=!1,e=k(e,t,n),l=i):(v=0,e=k(e,t,n),e=w(e,t),v=1,l=!1,e=k(e,t,n),l=i,e=w(e,t))}}else v=0,e=k(e,t,n);else v=s?1:0,e=k(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(a=e.isInputVisual,r=e.isOutputVisual,s=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var i=e.options||{};e.mutex,i.lang;var a=[];if(i.isInputVisual="boolean"!=typeof i.isInputVisual||i.isInputVisual,n.setOptions(i),"[object Array]"===Object.prototype.toString.call(t)){var s=0;for(a=[],s=0;s<t.length;s+=1)"[object Array]"===Object.prototype.toString.call(t[s])?a.push([n.doBidiReorder(t[s][0]),t[s][1],t[s][2]]):a.push([n.doBidiReorder(t[s])]);e.text=a}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(Xa),Xa.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new kr(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Ur(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new jr(this.contents),this.head=new Sr(this),this.name=new Fr(this),this.cmap=new Mr(this),this.toUnicode={},this.hhea=new Pr(this),this.maxp=new Rr(this),this.hmtx=new Dr(this),this.post=new Tr(this),this.os2=new Lr(this),this.loca=new zr(this),this.glyf=new Or(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,i,a;for(a=[],t=0,n=(i=this.bbox).length;t<n;t++)e=i[t],a.push(Math.round(e*this.scaleFactor));return a}.call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(a=this.familyClass)||2===a||3===a||4===a||5===a||7===a,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var i,a,s,r;for(s=0,a=0,r=(e=""+e).length;0<=r?a<r:a>r;a=0<=r?++a:--a)i=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return s*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Ar,kr=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,i,a,s,r,o;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),r=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^r)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*a+65536*s+256*r+o},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)t=e[n],a.push(this.writeByte(t));return a},e}(),jr=function(){var e;function t(e){var t,n,i;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,i=this.tableCount;0<=i?n<i:n>i;n=0<=i?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,i,a,s,r,o,l,c,d,h,u,p,m;for(m in u=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(u)/o),s=Math.floor(d/o),c=16*u-d,(i=new kr).writeInt(this.scalarType),i.writeShort(u),i.writeShort(d),i.writeShort(s),i.writeShort(c),a=16*u,l=i.pos+a,r=null,p=[],t)for(h=t[m],i.writeString(m),i.writeInt(e(h)),i.writeInt(l),i.writeInt(h.length),p=p.concat(h),"head"===m&&(r=l),l+=h.length;l%4;)p.push(0),l++;return i.write(p),n=2981146554-e(i.data),i.pos=r+8,i.writeUInt32(n),i.data},e=function(e){var t,n,i,a;for(e=Br.call(e);e.length%4;)e.push(0);for(i=new kr(e),n=0,t=0,a=e.length;t<a;t=t+=4)n+=i.readUInt32();return 4294967295&n},t}(),Cr={}.hasOwnProperty,_r=function(e,t){for(var n in t)Cr.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};Ar=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Sr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _r(e,Ar),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new kr).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),Er=function(){function e(e,t){var n,i,a,s,r,o,l,c,d,h,u,p,m,f,g,v,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(u=e.readUInt16(),h=u/2,e.pos+=6,a=function(){var t,n;for(n=[],o=t=0;0<=h?t<h:t>h;o=0<=h?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,m=function(){var t,n;for(n=[],o=t=0;0<=h?t<h:t>h;o=0<=h?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],o=t=0;0<=h?t<h:t>h;o=0<=h?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],o=t=0;0<=h?t<h:t>h;o=0<=h?++t:--t)n.push(e.readUInt16());return n}(),i=(this.length-e.pos+this.offset)/2,r=function(){var t,n;for(n=[],o=t=0;0<=i?t<i:t>i;o=0<=i?++t:--t)n.push(e.readUInt16());return n}(),o=g=0,b=a.length;g<b;o=++g)for(f=a[o],n=v=p=m[o];p<=f?v<=f:v>=f;n=p<=f?++v:--v)0===c[o]?s=n+l[o]:0!==(s=r[c[o]/2+(n-p)-(h-o)]||0)&&(s+=l[o]),this.codeMap[n]=65535&s}e.pos=d}return e.encode=function(e,t){var n,i,a,s,r,o,l,c,d,h,u,p,m,f,g,v,b,y,x,w,N,A,k,j,C,_,S,E,M,P,L,T,I,F,R,D,B,O,W,H,z,U,q,G,V,Y;switch(E=new kr,s=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(m=0,f=function(){var e=[];for(p=0;p<256;++p)e.push(0);return e}(),v={0:0},a={},M=0,I=s.length;M<I;M++)null==v[q=e[i=s[M]]]&&(v[q]=++m),a[i]={old:e[i],new:v[e[i]]},f[i]=v[e[i]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(f),{charMap:a,subtable:E.data,maxGlyphID:m+1};case"unicode":for(_=[],d=[],b=0,v={},n={},g=l=null,P=0,F=s.length;P<F;P++)null==v[x=e[i=s[P]]]&&(v[x]=++b),n[i]={old:x,new:v[x]},r=v[x]-i,null!=g&&r===l||(g&&d.push(g),_.push(i),l=r),g=i;for(g&&d.push(g),d.push(65535),_.push(65535),j=2*(k=_.length),A=2*Math.pow(Math.log(k)/Math.LN2,2),h=Math.log(A/2)/Math.LN2,N=2*k-A,o=[],w=[],u=[],p=L=0,R=_.length;L<R;p=++L){if(C=_[p],c=d[p],65535===C){o.push(0),w.push(0);break}if(C-(S=n[C].new)>=32768)for(o.push(0),w.push(2*(u.length+k-p)),i=T=C;C<=c?T<=c:T>=c;i=C<=c?++T:--T)u.push(n[i].new);else o.push(S-C),w.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*k+2*u.length),E.writeUInt16(0),E.writeUInt16(j),E.writeUInt16(A),E.writeUInt16(h),E.writeUInt16(N),z=0,D=d.length;z<D;z++)i=d[z],E.writeUInt16(i);for(E.writeUInt16(0),U=0,B=_.length;U<B;U++)i=_[U],E.writeUInt16(i);for(G=0,O=o.length;G<O;G++)r=o[G],E.writeUInt16(r);for(V=0,W=w.length;V<W;V++)y=w[V],E.writeUInt16(y);for(Y=0,H=u.length;Y<H;Y++)m=u[Y],E.writeUInt16(m);return{charMap:n,subtable:E.data,maxGlyphID:b+1}}},e}(),Mr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _r(e,Ar),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)t=new Er(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,i;return null==t&&(t="macroman"),n=Er.encode(e,t),(i=new kr).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),Pr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _r(e,Ar),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),Lr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _r(e,Ar),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),Tr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _r(e,Ar),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,i;for(i=[],a=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;a=0<=n?++t:--t)i.push(e.readUInt32());return i}.call(this)}},e}(),Ir=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Fr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _r(e,Ar),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,i,a,s,r,o,l,c,d,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),r=e.readShort(),n=[],a=0;0<=t?a<t:a>t;a=0<=t?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+r+e.readShort()});for(o={},a=c=0,d=n.length;c<d;a=++c)i=n[a],e.pos=i.offset,l=e.readString(i.length),s=new Ir(l,i),null==o[h=i.nameID]&&(o[h]=[]),o[i.nameID].push(s);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(ka){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),Rr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _r(e,Ar),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),Dr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _r(e,Ar),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,i,a,s,r,o;for(e.pos=this.offset,this.metrics=[],t=0,r=this.file.hhea.numberOfMetrics;0<=r?t<r:t>r;t=0<=r?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,a;for(a=[],t=n=0;0<=i?n<i:n>i;t=0<=i?++n:--n)a.push(e.readInt16());return a}(),this.widths=function(){var e,t,n,i;for(i=[],e=0,t=(n=this.metrics).length;e<t;e++)a=n[e],i.push(a.advance);return i}.call(this),n=this.widths[this.widths.length-1],o=[],t=s=0;0<=i?s<i:s>i;t=0<=i?++s:--s)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),Br=[].slice,Or=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _r(e,Ar),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,i,a,s,r,o,l,c,d;return e in this.cache?this.cache[e]:(a=this.file.loca,t=this.file.contents,n=a.indexOf(e),0===(i=a.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,s=(r=new kr(t.read(i))).readShort(),l=r.readShort(),d=r.readShort(),o=r.readShort(),c=r.readShort(),this.cache[e]=-1===s?new Hr(r,l,d,o,c):new Wr(r,s,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var i,a,s,r,o;for(s=[],a=[],r=0,o=t.length;r<o;r++)i=e[t[r]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),Wr=function(){function e(e,t,n,i,a,s){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Hr=function(){function e(e,t,n,i,a){var s,r;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;r=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&r;)s.pos+=1&r?4:2,128&r?s.pos+=8:64&r?s.pos+=4:8&r&&(s.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new kr(Br.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),zr=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _r(e,Ar),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,i;for(i=[],n=0,t=this.length;n<t;n+=2)i.push(2*e.readUInt16());return i}.call(this):function(){var t,i;for(i=[],n=0,t=this.length;n<t;n+=4)i.push(e.readUInt32());return i}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<t.length&&t[a]==s){++a,n[s]=i;var r=this.offsets[s],o=this.offsets[s+1]-r;o>0&&(i+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),Ur=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[t],e[t]=i[n];return e},e.prototype.glyphsFor=function(e){var t,n,i,a,s,r,o;for(i={},s=0,r=e.length;s<r;s++)i[a=e[s]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(null!=(n=i[a])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(a in o=this.glyphsFor(t))n=o[a],i[a]=n;return i},e.prototype.encode=function(e,t){var n,i,a,s,r,o,l,c,d,h,u,p,m,f,g;for(i in n=Mr.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),u={0:0},g=n.charMap)u[(o=g[i]).old]=o.new;for(p in h=n.maxGlyphID,s)p in u||(u[p]=h++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(u),d=Object.keys(c).sort(function(e,t){return e-t}),m=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)r=d[e],n.push(c[r]);return n}(),a=this.font.glyf.encode(s,m,u),l=this.font.loca.encode(a.offsets,m),f={cmap:this.font.cmap.raw(),glyf:a.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();Xa.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var i,a,s,r;if(Array.isArray(n))return"["+function(){var e,a,s;for(s=[],e=0,a=n.length;e<a;e++)i=n[e],s.push(t.convert(i));return s}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(a in s=["<<"],n)r=n[a],s.push("/"+a+" "+t.convert(r));return s.push(">>"),s.join("\n")}return""+n},t}()},1432:function(e,t,n){"use strict";const i=n(5362),{log:a}=n(5597),s=n(1674);let r=0;e.exports=()=>{const e=s("Scheduler",r),t={},n={};let o=[];r+=1;const l=()=>Object.keys(t).length,c=()=>{if(0!==o.length){const e=Object.keys(t);for(let i=0;i<e.length;i+=1)if("undefined"===typeof n[e[i]]){o[0](t[e[i]]);break}}},d=(t,s)=>new Promise((r,l)=>{const d=i({action:t,payload:s});o.push(async e=>{o.shift(),n[e.id]=d;try{r(await e[t].apply(this,[...s,d.id]))}catch(i){l(i)}finally{delete n[e.id],c()}}),a("[".concat(e,"]: Add ").concat(d.id," to JobQueue")),a("[".concat(e,"]: JobQueue length=").concat(o.length)),c()});return{addWorker:n=>(t[n.id]=n,a("[".concat(e,"]: Add ").concat(n.id)),a("[".concat(e,"]: Number of workers=").concat(l())),c(),n.id),addJob:async function(t){if(0===l())throw Error("[".concat(e,"]: You need to have at least one worker before adding jobs"));for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return d(t,i)},terminate:async()=>{Object.keys(t).forEach(async e=>{await t[e].terminate()}),o=[]},getQueueLen:()=>o.length,getNumWorkers:l}}},1497:(e,t,n)=>{"use strict";var i=n(3218);function a(){}function s(){}s.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,s,r){if(r!==i){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:a};return n.PropTypes=n,n}},1572:e=>{"use strict";e.exports=JSON.parse('{"Birmingham":{"shared":341.58,"1bed":695,"2bed":750,"3bed":825,"4bed":1100},"Barrow-in-Furness":{"shared":395.42,"1bed":475,"2bed":500,"3bed":635,"4bed":807.5},"Sheffield":{"shared":350,"1bed":575,"2bed":620,"3bed":680,"4bed":950},"Bristol":{"shared":511.33,"1bed":900,"2bed":1095,"3bed":1300,"4bed":1850},"Bath":{"shared":540,"1bed":815,"2bed":980,"3bed":1200,"4bed":1945},"Bournemouth":{"shared":426.33,"1bed":695,"2bed":875,"3bed":1150,"4bed":1550},"Canterbury":{"shared":425,"1bed":675,"2bed":895,"3bed":1100,"4bed":1315},"Colchester":{"shared":401.33,"1bed":625,"2bed":795,"3bed":975,"4bed":1250},"Derby":{"shared":359.83,"1bed":450,"2bed":595,"3bed":700,"4bed":935},"Ipswich":{"shared":366.5,"1bed":595,"2bed":717,"3bed":800,"4bed":1100},"Leicester":{"shared":395.42,"1bed":540,"2bed":650,"3bed":775,"4bed":1050},"Lincoln":{"shared":354.14,"1bed":495,"2bed":600,"3bed":675,"4bed":925},"Nottingham":{"shared":380,"1bed":550,"2bed":650,"3bed":750,"4bed":970},"Plymouth":{"shared":400,"1bed":550,"2bed":675,"3bed":800,"4bed":975},"Reading":{"shared":391.5,"1bed":850,"2bed":1095,"3bed":1300,"4bed":1654},"Rotherham":{"shared":351.33,"1bed":430,"2bed":500,"3bed":550,"4bed":817.5},"Southampton":{"shared":425,"1bed":700,"2bed":875,"3bed":1075,"4bed":1450},"Wigan":{"shared":339.83,"1bed":400,"2bed":500,"3bed":595,"4bed":775},"York":{"shared":417.67,"1bed":675,"2bed":775,"3bed":825,"4bed":1200},"Central London":{"shared":829.83,"1bed":1439.97,"2bed":1793.98,"3bed":2160.02,"4bed":3060},"Inner East London":{"shared":699.5,"1bed":1439.97,"2bed":1750,"3bed":2160.02,"4bed":3000},"Inner South East London":{"shared":650,"1bed":1295.5,"2bed":1550,"3bed":1950,"4bed":2625},"Inner South West London":{"shared":685,"1bed":1420,"2bed":1700,"3bed":2160.02,"4bed":2900},"Inner West London":{"shared":760,"1bed":1350,"2bed":1625,"3bed":2050,"4bed":2550},"Inner North London":{"shared":708.27,"1bed":1439.97,"2bed":1793.98,"3bed":2160.02,"4bed":3060},"North West London":{"shared":621.33,"1bed":1100,"2bed":1350,"3bed":1680,"4bed":2100},"Outer East London":{"shared":561.33,"1bed":1200,"2bed":1400,"3bed":1675,"4bed":1950},"Outer North East London":{"shared":549.83,"1bed":1000,"2bed":1250,"3bed":1500,"4bed":1800},"Outer North London":{"shared":595,"1bed":1150,"2bed":1400,"3bed":1695,"4bed":2200},"Outer South East London":{"shared":600,"1bed":1050,"2bed":1300,"3bed":1550,"4bed":1800},"Outer South West London":{"shared":591.5,"1bed":1200,"2bed":1495,"3bed":1800,"4bed":2550},"Outer South London":{"shared":569.33,"1bed":950,"2bed":1200,"3bed":1500,"4bed":1950},"Outer West London":{"shared":576.33,"1bed":1000,"2bed":1300,"3bed":1475,"4bed":1800},"Walton":{"shared":620,"1bed":950,"2bed":1212,"3bed":1450,"4bed":1975},"Brighton":{"shared":550,"1bed":900,"2bed":1200,"3bed":1400,"4bed":1800},"Oxford":{"shared":550.02,"1bed":899.99,"2bed":1124.98,"3bed":1324.99,"4bed":1750},"Cambridge":{"shared":500,"1bed":850,"2bed":1100,"3bed":1300,"4bed":1700},"Coventry":{"shared":400,"1bed":600,"2bed":750,"3bed":900,"4bed":1200},"Stoke":{"shared":350,"1bed":500,"2bed":650,"3bed":800,"4bed":1000},"Basildon":{"shared":450,"1bed":700,"2bed":850,"3bed":1000,"4bed":1300},"Chelmsford":{"shared":425,"1bed":650,"2bed":800,"3bed":950,"4bed":1250},"Southend":{"shared":400,"1bed":600,"2bed":750,"3bed":900,"4bed":1200},"Harlow":{"shared":375,"1bed":550,"2bed":700,"3bed":850,"4bed":1100},"Brentwood":{"shared":500,"1bed":800,"2bed":1000,"3bed":1200,"4bed":1500},"West Lothian":{"shared":410,"1bed":500,"2bed":625,"3bed":750,"4bed":1112.5},"Scottish Borders":{"shared":325,"1bed":375,"2bed":500,"3bed":615,"4bed":985},"Lothian":{"shared":475,"1bed":750,"2bed":970,"3bed":1375,"4bed":2180},"Fife":{"shared":375,"1bed":450,"2bed":590,"3bed":715,"4bed":1250},"Highland and Islands":{"shared":380,"1bed":475,"2bed":595,"3bed":695,"4bed":850},"Aberdeen and Shire":{"shared":325,"1bed":475,"2bed":650,"3bed":860,"4bed":1250},"Perth and Kinross":{"shared":359.17,"1bed":425,"2bed":560,"3bed":750,"4bed":1250},"Dundee and Angus":{"shared":375,"1bed":400,"2bed":615,"3bed":795,"4bed":1100},"Argyll and Bute":{"shared":350,"1bed":450,"2bed":600,"3bed":695,"4bed":1200},"West Dunbartonshire":{"shared":350,"1bed":475,"2bed":595,"3bed":675,"4bed":950},"East Dunbartonshire":{"shared":425,"1bed":550,"2bed":750,"3bed":1000,"4bed":1400},"North Lanarkshire":{"shared":375,"1bed":440,"2bed":550,"3bed":675,"4bed":895},"South Lanarkshire":{"shared":375,"1bed":450,"2bed":575,"3bed":715.84,"4bed":1107},"Forth Valley":{"shared":415,"1bed":460,"2bed":650,"3bed":800,"4bed":1300},"Ayrshires":{"shared":375,"1bed":375,"2bed":475,"3bed":564.88,"4bed":800},"Renfrewshire/ Inverclyde":{"shared":360,"1bed":400,"2bed":525,"3bed":600,"4bed":1100},"Greater Glasgow":{"shared":450,"1bed":695,"2bed":850,"3bed":970,"4bed":1800},"Dumfries and Galloway":{"shared":335,"1bed":380,"2bed":450,"3bed":500,"4bed":690},"Anglesey":{"shared":325,"1bed":400,"2bed":500,"3bed":600,"4bed":800},"Gwynedd":{"shared":325,"1bed":400,"2bed":500,"3bed":600,"4bed":800},"Conwy":{"shared":325,"1bed":400,"2bed":500,"3bed":600,"4bed":800},"Denbighshire":{"shared":325,"1bed":400,"2bed":500,"3bed":600,"4bed":800},"Flintshire":{"shared":380.21,"1bed":450,"2bed":595,"3bed":695,"4bed":925},"Wrexham":{"shared":391.31,"1bed":475,"2bed":525,"3bed":600,"4bed":750},"Powys":{"shared":325,"1bed":400,"2bed":500,"3bed":600,"4bed":800},"Ceredigion":{"shared":304.17,"1bed":420,"2bed":500,"3bed":550,"4bed":650},"Pembrokeshire":{"shared":297.41,"1bed":360,"2bed":460,"3bed":575,"4bed":700},"Carmarthenshire":{"shared":336.76,"1bed":400,"2bed":488.84,"3bed":535,"4bed":650},"Swansea":{"shared":375,"1bed":525,"2bed":550,"3bed":600,"4bed":820},"Neath Port Talbot":{"shared":375,"1bed":411.67,"2bed":450,"3bed":500,"4bed":575},"Bridgend":{"shared":300,"1bed":400,"2bed":525,"3bed":575,"4bed":775},"Vale of Glamorgan":{"shared":300,"1bed":525.77,"2bed":666,"3bed":725,"4bed":1025},"Cardiff":{"shared":366.1,"1bed":650,"2bed":825,"3bed":925,"4bed":1300},"Rhondda Cynon Taf":{"shared":325,"1bed":400,"2bed":500,"3bed":600,"4bed":800},"Merthyr Tydfil":{"shared":325,"1bed":400,"2bed":500,"3bed":600,"4bed":800},"Caerphilly":{"shared":337.41,"1bed":350,"2bed":495,"3bed":550,"4bed":750},"Blaenau Gwent":{"shared":300,"1bed":325.89,"2bed":430,"3bed":490,"4bed":650},"Torfaen":{"shared":300,"1bed":500,"2bed":564.88,"3bed":650,"4bed":750},"Monmouthshire":{"shared":337.41,"1bed":533.16,"2bed":700,"3bed":795,"4bed":1100},"Newport":{"shared":337.41,"1bed":440,"2bed":600,"3bed":650,"4bed":880},"Default":{"shared":400,"1bed":600,"2bed":750,"3bed":900,"4bed":1200},"North West Wales":{"shared":342.41,"1bed":391.07,"2bed":550,"3bed":625,"4bed":750},"North Clwyd":{"shared":342.41,"1bed":395,"2bed":550,"3bed":650,"4bed":855},"South Gwynedd":{"shared":342.41,"1bed":350,"2bed":434.52,"3bed":543.15,"4bed":675},"North Powys":{"shared":293.3,"1bed":325,"2bed":400,"3bed":550,"4bed":675},"Brecon & Radnor":{"shared":332.41,"1bed":340,"2bed":440,"3bed":550,"4bed":650},"Taff Rhondda":{"shared":300,"1bed":375,"2bed":450,"3bed":495,"4bed":650},"Merthyr Cynon":{"shared":300,"1bed":434.52,"2bed":500,"3bed":550,"4bed":725}}')},1600:e=>{"use strict";e.exports={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3}},1674:e=>{"use strict";e.exports=(e,t)=>"".concat(e,"-").concat(t,"-").concat(Math.random().toString(16).slice(3,8))},1734:e=>{"use strict";e.exports=e=>{const t={};return"undefined"!==typeof WorkerGlobalScope?t.type="webworker":"object"===typeof document?t.type="browser":"object"===typeof process&&(t.type="node"),"undefined"===typeof e?t:t[e]}},1847:(e,t,n)=>{var i=n(4893);e.exports=function(e,t){if(null==e)return{};var n,a,s=i(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s},e.exports.__esModule=!0,e.exports.default=e.exports},2163:(e,t,n)=>{"use strict";const i=n(9343);e.exports={recognize:async(e,t,n)=>{const a=await i(t,1,n);return a.recognize(e).finally(async()=>{await a.terminate()})},detect:async(e,t)=>{const n=await i("osd",0,t);return n.detect(e).finally(async()=>{await n.terminate()})}}},2284:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{A:()=>i})},2730:(e,t,n)=>{"use strict";var i=n(5043),a=n(8853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)r.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function f(e,t,n,i,a,s,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=r}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,i){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,i)&&(n=null),i||null===a?function(e){return!!h.call(m,e)||!h.call(p,e)&&(u.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,i=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,b);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var R,D=Object.assign;function B(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var O=!1;function W(e,t){if(!e||O)return"";O=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=i.stack.split("\n"),r=a.length-1,o=s.length-1;1<=r&&0<=o&&a[r]!==s[o];)o--;for(;1<=r&&0<=o;r--,o--)if(a[r]!==s[o]){if(1!==r||1!==o)do{if(r--,0>--o||a[r]!==s[o]){var l="\n"+a[r].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=r&&0<=o);break}}}finally{O=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function H(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 1:return e=W(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case A:return"Fragment";case N:return"Portal";case j:return"Profiler";case k:return"StrictMode";case E:return"Suspense";case M:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=G(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function Z(e,t){Q(e,t);var n=q(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(i&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),i=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,he=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),a=fe(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ve=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,Ae=null,ke=null;function je(e){if(e=ya(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),Ne(e.stateNode,e.type,t))}}function Ce(e){Ae?ke?ke.push(e):ke=[e]:Ae=e}function _e(){if(Ae){var e=Ae,t=ke;if(ke=Ae=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Se(e,t){return e(t)}function Ee(){}var Me=!1;function Pe(e,t,n){if(Me)return e(t,n);Me=!0;try{return Se(e,t,n)}finally{Me=!1,(null!==Ae||null!==ke)&&(Ee(),_e())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var i=wa(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Te=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Te=!1}function Fe(e,t,n,i,a,s,r,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Re=!1,De=null,Be=!1,Oe=null,We={onError:function(e){Re=!0,De=e}};function He(e,t,n,i,a,s,r,o,l){Re=!1,De=null,Fe.apply(We,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var r=a.alternate;if(null===r){if(null!==(i=a.return)){n=i;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return qe(a),e;if(r===i)return qe(a),t;r=r.sibling}throw Error(s(188))}if(n.return!==i.return)n=a,i=r;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,i=r;break}if(l===i){o=!0,i=a,n=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===n){o=!0,n=r,i=a;break}if(l===i){o=!0,i=r,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,Je=a.unstable_requestPaint,Qe=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,$e=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,it=a.unstable_IdlePriority,at=null,st=null;var rt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ut(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes,r=268435455&n;if(0!==r){var o=r&~a;0!==o?i=ht(o):0!==(s&=r)&&(i=ht(s))}else 0!==(r=n&~a)?i=ht(r):0!==s&&(i=ht(s));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)a=1<<(n=31-rt(t)),i|=e[n],t&=~a;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-rt(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}var yt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Nt,At,kt,jt,Ct=!1,_t=[],St=null,Et=null,Mt=null,Pt=new Map,Lt=new Map,Tt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Rt(e,t,n,i,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&Nt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Dt(e){var t=ba(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void jt(e.priority,function(){At(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&Nt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);xe=i,n.target.dispatchEvent(i),xe=null,t.shift()}return!0}function Ot(e,t,n){Bt(e)&&n.delete(t)}function Wt(){Ct=!1,null!==St&&Bt(St)&&(St=null),null!==Et&&Bt(Et)&&(Et=null),null!==Mt&&Bt(Mt)&&(Mt=null),Pt.forEach(Ot),Lt.forEach(Ot)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Wt)))}function zt(e){function t(t){return Ht(t,e)}if(0<_t.length){Ht(_t[0],e);for(var n=1;n<_t.length;n++){var i=_t[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==St&&Ht(St,e),null!==Et&&Ht(Et,e),null!==Mt&&Ht(Mt,e),Pt.forEach(t),Lt.forEach(t),n=0;n<Tt.length;n++)(i=Tt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Tt.shift()}var Ut=x.ReactCurrentBatchConfig,qt=!0;function Gt(e,t,n,i){var a=yt,s=Ut.transition;Ut.transition=null;try{yt=1,Yt(e,t,n,i)}finally{yt=a,Ut.transition=s}}function Vt(e,t,n,i){var a=yt,s=Ut.transition;Ut.transition=null;try{yt=4,Yt(e,t,n,i)}finally{yt=a,Ut.transition=s}}function Yt(e,t,n,i){if(qt){var a=Xt(e,t,n,i);if(null===a)qi(e,t,i,Kt,n),Ft(e,i);else if(function(e,t,n,i,a){switch(t){case"focusin":return St=Rt(St,e,t,n,i,a),!0;case"dragenter":return Et=Rt(Et,e,t,n,i,a),!0;case"mouseover":return Mt=Rt(Mt,e,t,n,i,a),!0;case"pointerover":var s=a.pointerId;return Pt.set(s,Rt(Pt.get(s)||null,e,t,n,i,a)),!0;case"gotpointercapture":return s=a.pointerId,Lt.set(s,Rt(Lt.get(s)||null,e,t,n,i,a)),!0}return!1}(a,e,t,n,i))i.stopPropagation();else if(Ft(e,i),4&t&&-1<It.indexOf(e)){for(;null!==a;){var s=ya(a);if(null!==s&&wt(s),null===(s=Xt(e,t,n,i))&&qi(e,t,i,Kt,n),s===a)break;a=s}null!==a&&i.stopPropagation()}else qi(e,t,i,null,n)}}var Kt=null;function Xt(e,t,n,i){if(Kt=null,null!==(e=ba(e=we(i))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Qt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,i=n.length,a="value"in Qt?Qt.value:Qt.textContent,s=a.length;for(e=0;e<i&&n[e]===a[e];e++);var r=i-e;for(t=1;t<=r&&n[i-t]===a[s-t];t++);return $t=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function sn(e){function t(t,n,i,a,s){for(var r in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(r)&&(t=e[r],this[r]=t?t(a):a[r]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:an,this.isPropagationStopped=an,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var rn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(cn),hn=D({},cn,{view:0,detail:0}),un=sn(hn),pn=D({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(rn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=rn=0,ln=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),mn=sn(pn),fn=sn(D({},pn,{dataTransfer:0})),gn=sn(D({},hn,{relatedTarget:0})),vn=sn(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=sn(bn),xn=sn(D({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},An={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=An[e])&&!!t[e]}function jn(){return kn}var Cn=D({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_n=sn(Cn),Sn=sn(D({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=sn(D({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jn})),Mn=sn(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=D({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Pn),Tn=[9,13,27,32],In=d&&"CompositionEvent"in window,Fn=null;d&&"documentMode"in document&&(Fn=document.documentMode);var Rn=d&&"TextEvent"in window&&!Fn,Dn=d&&(!In||Fn&&8<Fn&&11>=Fn),Bn=String.fromCharCode(32),On=!1;function Wn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Gn(e,t,n,i){Ce(i),0<(t=Vi(t,"onChange")).length&&(n=new dn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Vn=null,Yn=null;function Kn(e){Bi(e,0)}function Xn(e){if(Y(xa(e)))return e}function Jn(e,t){if("change"===e)return t}var Qn=!1;if(d){var Zn;if(d){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}Zn=$n}else Zn=!1;Qn=Zn&&(!document.documentMode||9<document.documentMode)}function ti(){Vn&&(Vn.detachEvent("onpropertychange",ni),Yn=Vn=null)}function ni(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];Gn(t,Yn,e,we(e)),Pe(Kn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Yn=n,(Vn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ai(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function si(e,t){if("click"===e)return Xn(t)}function ri(e,t){if("input"===e||"change"===e)return Xn(t)}var oi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(oi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!h.call(t,a)||!oi(e[a],t[a]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function di(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ui(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mi(e){var t=ui(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(i.start,a);i=void 0===i.end?s:Math.min(i.end,a),!e.extend&&s>i&&(a=i,i=s,s=a),a=di(n,s);var r=di(n,i);a&&r&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==r.node||e.focusOffset!==r.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(r.node,r.offset)):(t.setEnd(r.node,r.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fi=d&&"documentMode"in document&&11>=document.documentMode,gi=null,vi=null,bi=null,yi=!1;function xi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yi||null==gi||gi!==K(i)||("selectionStart"in(i=gi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},bi&&li(bi,i)||(bi=i,0<(i=Vi(vi,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function wi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ni={animationend:wi("Animation","AnimationEnd"),animationiteration:wi("Animation","AnimationIteration"),animationstart:wi("Animation","AnimationStart"),transitionend:wi("Transition","TransitionEnd")},Ai={},ki={};function ji(e){if(Ai[e])return Ai[e];if(!Ni[e])return e;var t,n=Ni[e];for(t in n)if(n.hasOwnProperty(t)&&t in ki)return Ai[e]=n[t];return e}d&&(ki=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);var Ci=ji("animationend"),_i=ji("animationiteration"),Si=ji("animationstart"),Ei=ji("transitionend"),Mi=new Map,Pi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(e,t){Mi.set(e,t),l(t,[e])}for(var Ti=0;Ti<Pi.length;Ti++){var Ii=Pi[Ti];Li(Ii.toLowerCase(),"on"+(Ii[0].toUpperCase()+Ii.slice(1)))}Li(Ci,"onAnimationEnd"),Li(_i,"onAnimationIteration"),Li(Si,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Ei,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ri=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function Di(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,a,r,o,l,c){if(He.apply(this,arguments),Re){if(!Re)throw Error(s(198));var d=De;Re=!1,De=null,Be||(Be=!0,Oe=d)}}(i,t,void 0,e),e.currentTarget=null}function Bi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var r=i.length-1;0<=r;r--){var o=i[r],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Di(a,o,c),s=l}else for(r=0;r<i.length;r++){if(l=(o=i[r]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Di(a,o,c),s=l}}}if(Be)throw e=Oe,Be=!1,Oe=null,e}function Oi(e,t){var n=t[fa];void 0===n&&(n=t[fa]=new Set);var i=e+"__bubble";n.has(i)||(Ui(t,e,2,!1),n.add(i))}function Wi(e,t,n){var i=0;t&&(i|=4),Ui(n,e,i,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[Hi]){e[Hi]=!0,r.forEach(function(t){"selectionchange"!==t&&(Ri.has(t)||Wi(t,!1,e),Wi(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hi]||(t[Hi]=!0,Wi("selectionchange",!1,t))}}function Ui(e,t,n,i){switch(Jt(t)){case 1:var a=Gt;break;case 4:a=Vt;break;default:a=Yt}n=a.bind(null,t,n,e),a=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),i?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qi(e,t,n,i,a){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var r=i.tag;if(3===r||4===r){var o=i.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===r)for(r=i.return;null!==r;){var l=r.tag;if((3===l||4===l)&&((l=r.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;r=r.return}for(;null!==o;){if(null===(r=ba(o)))return;if(5===(l=r.tag)||6===l){i=s=r;continue e}o=o.parentNode}}i=i.return}Pe(function(){var i=s,a=we(n),r=[];e:{var o=Mi.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=_n;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Ci:case _i:case Si:l=vn;break;case Ei:l=Mn;break;case"scroll":l=un;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Sn}var d=0!==(4&t),h=!d&&"scroll"===e,u=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=i;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==u&&(null!=(f=Le(m,u))&&d.push(Gi(m,f,p)))),h)break;m=m.return}0<d.length&&(o=new l(o,c,null,n,a),r.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[ma])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(d=mn,f="onMouseLeave",u="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Sn,f="onPointerLeave",u="onPointerEnter",m="pointer"),h=null==l?o:xa(l),p=null==c?o:xa(c),(o=new d(f,m+"leave",l,n,a)).target=h,o.relatedTarget=p,f=null,ba(a)===i&&((d=new d(u,m+"enter",c,n,a)).target=p,d.relatedTarget=h,f=d),h=f,l&&c)e:{for(u=c,m=0,p=d=l;p;p=Yi(p))m++;for(p=0,f=u;f;f=Yi(f))p++;for(;0<m-p;)d=Yi(d),m--;for(;0<p-m;)u=Yi(u),p--;for(;m--;){if(d===u||null!==u&&d===u.alternate)break e;d=Yi(d),u=Yi(u)}d=null}else d=null;null!==l&&Ki(r,o,l,d,!1),null!==c&&null!==h&&Ki(r,h,c,d,!0)}if("select"===(l=(o=i?xa(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(qn(o))if(Qn)g=ri;else{g=ai;var v=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=si);switch(g&&(g=g(e,i))?Gn(r,g,n,a):(v&&v(e,o,i),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=i?xa(i):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gi=v,vi=i,bi=null);break;case"focusout":bi=vi=gi=null;break;case"mousedown":yi=!0;break;case"contextmenu":case"mouseup":case"dragend":yi=!1,xi(r,n,a);break;case"selectionchange":if(fi)break;case"keydown":case"keyup":xi(r,n,a)}var b;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else zn?Wn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Dn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==y?"onCompositionEnd"===y&&zn&&(b=en()):(Zt="value"in(Qt=a)?Qt.value:Qt.textContent,zn=!0)),0<(v=Vi(i,y)).length&&(y=new xn(y,e,null,n,a),r.push({event:y,listeners:v}),b?y.data=b:null!==(b=Hn(n))&&(y.data=b))),(b=Rn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(On=!0,Bn);case"textInput":return(e=t.data)===Bn&&On?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!In&&Wn(e,t)?(e=en(),$t=Zt=Qt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Vi(i,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),r.push({event:a,listeners:i}),a.data=b))}Bi(r,t)})}function Gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vi(e,t){for(var n=t+"Capture",i=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Le(e,n))&&i.unshift(Gi(e,s,a)),null!=(s=Le(e,t))&&i.push(Gi(e,s,a))),e=e.return}return i}function Yi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ki(e,t,n,i,a){for(var s=t._reactName,r=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Le(n,s))&&r.unshift(Gi(n,l,o)):a||null!=(l=Le(n,s))&&r.push(Gi(n,l,o))),n=n.return}0!==r.length&&e.push({event:t,listeners:r})}var Xi=/\r\n?/g,Ji=/\u0000|\uFFFD/g;function Qi(e){return("string"===typeof e?e:""+e).replace(Xi,"\n").replace(Ji,"")}function Zi(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(s(425))}function $i(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ia="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ra="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ia;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===i)return e.removeChild(a),void zt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=a}while(n);zt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function da(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ha=Math.random().toString(36).slice(2),ua="__reactFiber$"+ha,pa="__reactProps$"+ha,ma="__reactContainer$"+ha,fa="__reactEvents$"+ha,ga="__reactListeners$"+ha,va="__reactHandles$"+ha;function ba(e){var t=e[ua];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ma]||n[ua]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=da(e);null!==e;){if(n=e[ua])return n;e=da(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[ua]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[pa]||null}var Na=[],Aa=-1;function ka(e){return{current:e}}function ja(e){0>Aa||(e.current=Na[Aa],Na[Aa]=null,Aa--)}function Ca(e,t){Aa++,Na[Aa]=e.current,e.current=t}var _a={},Sa=ka(_a),Ea=ka(!1),Ma=_a;function Pa(e,t){var n=e.type.contextTypes;if(!n)return _a;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function La(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ta(){ja(Ea),ja(Sa)}function Ia(e,t,n){if(Sa.current!==_a)throw Error(s(168));Ca(Sa,t),Ca(Ea,n)}function Fa(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var a in i=i.getChildContext())if(!(a in t))throw Error(s(108,U(e)||"Unknown",a));return D({},n,i)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Ma=Sa.current,Ca(Sa,e),Ca(Ea,Ea.current),!0}function Da(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Fa(e,t,Ma),i.__reactInternalMemoizedMergedChildContext=e,ja(Ea),ja(Sa),Ca(Sa,e)):ja(Ea),Ca(Ea,n)}var Ba=null,Oa=!1,Wa=!1;function Ha(e){null===Ba?Ba=[e]:Ba.push(e)}function za(){if(!Wa&&null!==Ba){Wa=!0;var e=0,t=yt;try{var n=Ba;for(yt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Ba=null,Oa=!1}catch(a){throw null!==Ba&&(Ba=Ba.slice(e+1)),Ye($e,za),a}finally{yt=t,Wa=!1}}return null}var Ua=[],qa=0,Ga=null,Va=0,Ya=[],Ka=0,Xa=null,Ja=1,Qa="";function Za(e,t){Ua[qa++]=Va,Ua[qa++]=Ga,Ga=e,Va=t}function $a(e,t,n){Ya[Ka++]=Ja,Ya[Ka++]=Qa,Ya[Ka++]=Xa,Xa=e;var i=Ja;e=Qa;var a=32-rt(i)-1;i&=~(1<<a),n+=1;var s=32-rt(t)+a;if(30<s){var r=a-a%5;s=(i&(1<<r)-1).toString(32),i>>=r,a-=r,Ja=1<<32-rt(t)+a|n<<a|i,Qa=s+e}else Ja=1<<s|n<<a|i,Qa=e}function es(e){null!==e.return&&(Za(e,1),$a(e,1,0))}function ts(e){for(;e===Ga;)Ga=Ua[--qa],Ua[qa]=null,Va=Ua[--qa],Ua[qa]=null;for(;e===Xa;)Xa=Ya[--Ka],Ya[Ka]=null,Qa=Ya[--Ka],Ya[Ka]=null,Ja=Ya[--Ka],Ya[Ka]=null}var ns=null,is=null,as=!1,ss=null;function rs(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,is=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xa?{id:Ja,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,is=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=is;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var i=ns;t&&os(e,t)?rs(i,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!as)return ds(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=is)){if(ls(e))throw us(),Error(s(418));for(;t;)rs(e,t),t=ca(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=ns?ca(e.stateNode.nextSibling):null;return!0}function us(){for(var e=is;e;)e=ca(e.nextSibling)}function ps(){is=ns=null,as=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var fs=x.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var a=i,r=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===r?t.ref:(t=function(e){var t=a.refs;null===e?delete t[r]:t[r]=e},t._stringRef=r,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function ys(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Dc(n,e.mode,i)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===A?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&bs(s)===t.type)?((i=a(t,n.props)).ref=gs(e,t,n),i.return=e,i):((i=Ic(n.type,n.key,n.props,null,e.mode,i)).ref=gs(e,t,n),i.return=e,i)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,i)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function h(e,t,n,i,s){return null===t||7!==t.tag?((t=Fc(n,e.mode,i,s)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case N:return(t=Bc(t,e.mode,n)).return=e,t;case L:return u(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function p(e,t,n,i){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,i):null;case N:return n.key===a?d(e,t,n,i):null;case L:return p(e,t,(a=n._init)(n._payload),i)}if(te(n)||F(n))return null!==a?null:h(e,t,n,i,null);vs(e,n)}return null}function m(e,t,n,i,a){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,a);if("object"===typeof i&&null!==i){switch(i.$$typeof){case w:return c(t,e=e.get(null===i.key?n:i.key)||null,i,a);case N:return d(t,e=e.get(null===i.key?n:i.key)||null,i,a);case L:return m(e,t,n,(0,i._init)(i._payload),a)}if(te(i)||F(i))return h(t,e=e.get(n)||null,i,a,null);vs(t,i)}return null}function f(a,s,o,l){for(var c=null,d=null,h=s,f=s=0,g=null;null!==h&&f<o.length;f++){h.index>f?(g=h,h=null):g=h.sibling;var v=p(a,h,o[f],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(a,h),s=r(v,s,f),null===d?c=v:d.sibling=v,d=v,h=g}if(f===o.length)return n(a,h),as&&Za(a,f),c;if(null===h){for(;f<o.length;f++)null!==(h=u(a,o[f],l))&&(s=r(h,s,f),null===d?c=h:d.sibling=h,d=h);return as&&Za(a,f),c}for(h=i(a,h);f<o.length;f++)null!==(g=m(h,a,f,o[f],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?f:g.key),s=r(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&h.forEach(function(e){return t(a,e)}),as&&Za(a,f),c}function g(a,o,l,c){var d=F(l);if("function"!==typeof d)throw Error(s(150));if(null==(l=d.call(l)))throw Error(s(151));for(var h=d=null,f=o,g=o=0,v=null,b=l.next();null!==f&&!b.done;g++,b=l.next()){f.index>g?(v=f,f=null):v=f.sibling;var y=p(a,f,b.value,c);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(a,f),o=r(y,o,g),null===h?d=y:h.sibling=y,h=y,f=v}if(b.done)return n(a,f),as&&Za(a,g),d;if(null===f){for(;!b.done;g++,b=l.next())null!==(b=u(a,b.value,c))&&(o=r(b,o,g),null===h?d=b:h.sibling=b,h=b);return as&&Za(a,g),d}for(f=i(a,f);!b.done;g++,b=l.next())null!==(b=m(f,a,g,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?g:b.key),o=r(b,o,g),null===h?d=b:h.sibling=b,h=b);return e&&f.forEach(function(e){return t(a,e)}),as&&Za(a,g),d}return function e(i,s,r,l){if("object"===typeof r&&null!==r&&r.type===A&&null===r.key&&(r=r.props.children),"object"===typeof r&&null!==r){switch(r.$$typeof){case w:e:{for(var c=r.key,d=s;null!==d;){if(d.key===c){if((c=r.type)===A){if(7===d.tag){n(i,d.sibling),(s=a(d,r.props.children)).return=i,i=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&bs(c)===d.type){n(i,d.sibling),(s=a(d,r.props)).ref=gs(i,d,r),s.return=i,i=s;break e}n(i,d);break}t(i,d),d=d.sibling}r.type===A?((s=Fc(r.props.children,i.mode,l,r.key)).return=i,i=s):((l=Ic(r.type,r.key,r.props,null,i.mode,l)).ref=gs(i,s,r),l.return=i,i=l)}return o(i);case N:e:{for(d=r.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===r.containerInfo&&s.stateNode.implementation===r.implementation){n(i,s.sibling),(s=a(s,r.children||[])).return=i,i=s;break e}n(i,s);break}t(i,s),s=s.sibling}(s=Bc(r,i.mode,l)).return=i,i=s}return o(i);case L:return e(i,s,(d=r._init)(r._payload),l)}if(te(r))return f(i,s,r,l);if(F(r))return g(i,s,r,l);vs(i,r)}return"string"===typeof r&&""!==r||"number"===typeof r?(r=""+r,null!==s&&6===s.tag?(n(i,s.sibling),(s=a(s,r)).return=i,i=s):(n(i,s),(s=Dc(r,i.mode,l)).return=i,i=s),o(i)):n(i,s)}}var xs=ys(!0),ws=ys(!1),Ns=ka(null),As=null,ks=null,js=null;function Cs(){js=ks=As=null}function _s(e){var t=Ns.current;ja(Ns),e._currentValue=t}function Ss(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){As=e,js=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Ms(e){var t=e._currentValue;if(js!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===As)throw Error(s(308));ks=e,As.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ps=null;function Ls(e){null===Ps?Ps=[e]:Ps.push(e)}function Ts(e,t,n,i){var a=t.interleaved;return null===a?(n.next=n,Ls(t)):(n.next=a.next,a.next=n),t.interleaved=n,Is(e,i)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Fs=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Sl)){var a=i.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),i.pending=t,Is(e,n)}return null===(a=i.interleaved)?(t.next=t,Ls(i)):(t.next=a.next,a.next=t),i.interleaved=t,Is(e,n)}function Ws(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Hs(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var r={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=r:s=s.next=r,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,i){var a=e.updateQueue;Fs=!1;var s=a.firstBaseUpdate,r=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===r?s=c:r.next=c,r=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==r&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var h=a.baseState;for(r=0,d=c=l=null,o=s;;){var u=o.lane,p=o.eventTime;if((i&u)===u){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(u=t,p=n,f.tag){case 1:if("function"===typeof(m=f.payload)){h=m.call(p,h,u);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(u="function"===typeof(m=f.payload)?m.call(p,h,u):m)||void 0===u)break e;h=D({},h,u);break e;case 2:Fs=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(u=a.effects)?a.effects=[o]:u.push(o))}else p={eventTime:p,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=h):d=d.next=p,r|=u;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(u=o).next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}if(null===d&&(l=h),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{r|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Rl|=r,e.lanes=r,e.memoizedState=h}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(null!==a){if(i.callback=null,i=n,"function"!==typeof a)throw Error(s(191,a));a.call(i)}}}var qs={},Gs=ka(qs),Vs=ka(qs),Ys=ka(qs);function Ks(e){if(e===qs)throw Error(s(174));return e}function Xs(e,t){switch(Ca(Ys,t),Ca(Vs,e),Ca(Gs,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ja(Gs),Ca(Gs,t)}function Js(){ja(Gs),ja(Vs),ja(Ys)}function Qs(e){Ks(Ys.current);var t=Ks(Gs.current),n=le(t,e.type);t!==n&&(Ca(Vs,e),Ca(Gs,n))}function Zs(e){Vs.current===e&&(ja(Gs),ja(Vs))}var $s=ka(0);function er(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tr=[];function nr(){for(var e=0;e<tr.length;e++)tr[e]._workInProgressVersionPrimary=null;tr.length=0}var ir=x.ReactCurrentDispatcher,ar=x.ReactCurrentBatchConfig,sr=0,rr=null,or=null,lr=null,cr=!1,dr=!1,hr=0,ur=0;function pr(){throw Error(s(321))}function mr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function fr(e,t,n,i,a,r){if(sr=r,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ir.current=null===e||null===e.memoizedState?Zr:$r,e=n(i,a),dr){r=0;do{if(dr=!1,hr=0,25<=r)throw Error(s(301));r+=1,lr=or=null,t.updateQueue=null,ir.current=eo,e=n(i,a)}while(dr)}if(ir.current=Qr,t=null!==or&&null!==or.next,sr=0,lr=or=rr=null,cr=!1,t)throw Error(s(300));return e}function gr(){var e=0!==hr;return hr=0,e}function vr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lr?rr.memoizedState=lr=e:lr=lr.next=e,lr}function br(){if(null===or){var e=rr.alternate;e=null!==e?e.memoizedState:null}else e=or.next;var t=null===lr?rr.memoizedState:lr.next;if(null!==t)lr=t,or=e;else{if(null===e)throw Error(s(310));e={memoizedState:(or=e).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},null===lr?rr.memoizedState=lr=e:lr=lr.next=e}return lr}function yr(e,t){return"function"===typeof t?t(e):t}function xr(e){var t=br(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=or,a=i.baseQueue,r=n.pending;if(null!==r){if(null!==a){var o=a.next;a.next=r.next,r.next=o}i.baseQueue=a=r,n.pending=null}if(null!==a){r=a.next,i=i.baseState;var l=o=null,c=null,d=r;do{var h=d.lane;if((sr&h)===h)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var u={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=u,o=i):c=c.next=u,rr.lanes|=h,Rl|=h}d=d.next}while(null!==d&&d!==r);null===c?o=i:c.next=l,oi(i,t.memoizedState)||(yo=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){a=e;do{r=a.lane,rr.lanes|=r,Rl|=r,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wr(e){var t=br(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,r=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{r=e(r,o.action),o=o.next}while(o!==a);oi(r,t.memoizedState)||(yo=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function Nr(){}function Ar(e,t){var n=rr,i=br(),a=t(),r=!oi(i.memoizedState,a);if(r&&(i.memoizedState=a,yo=!0),i=i.queue,Fr(Cr.bind(null,n,i,e),[e]),i.getSnapshot!==t||r||null!==lr&&1&lr.memoizedState.tag){if(n.flags|=2048,Mr(9,jr.bind(null,n,i,a,t),void 0,null),null===El)throw Error(s(349));0!==(30&sr)||kr(n,t,a)}return a}function kr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function jr(e,t,n,i){t.value=n,t.getSnapshot=i,_r(t)&&Sr(e)}function Cr(e,t,n){return n(function(){_r(t)&&Sr(e)})}function _r(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oi(e,n)}catch(i){return!0}}function Sr(e){var t=Is(e,1);null!==t&&nc(t,e,1,-1)}function Er(e){var t=vr();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:e},t.queue=e,e=e.dispatch=Yr.bind(null,rr,e),[t.memoizedState,e]}function Mr(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=rr.updateQueue)?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Pr(){return br().memoizedState}function Lr(e,t,n,i){var a=vr();rr.flags|=e,a.memoizedState=Mr(1|t,n,void 0,void 0===i?null:i)}function Tr(e,t,n,i){var a=br();i=void 0===i?null:i;var s=void 0;if(null!==or){var r=or.memoizedState;if(s=r.destroy,null!==i&&mr(i,r.deps))return void(a.memoizedState=Mr(t,n,s,i))}rr.flags|=e,a.memoizedState=Mr(1|t,n,s,i)}function Ir(e,t){return Lr(8390656,8,e,t)}function Fr(e,t){return Tr(2048,8,e,t)}function Rr(e,t){return Tr(4,2,e,t)}function Dr(e,t){return Tr(4,4,e,t)}function Br(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Or(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Tr(4,4,Br.bind(null,t,e),n)}function Wr(){}function Hr(e,t){var n=br();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&mr(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function zr(e,t){var n=br();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&mr(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Ur(e,t,n){return 0===(21&sr)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(oi(n,t)||(n=ft(),rr.lanes|=n,Rl|=n,e.baseState=!0),t)}function qr(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var i=ar.transition;ar.transition={};try{e(!1),t()}finally{yt=n,ar.transition=i}}function Gr(){return br().memoizedState}function Vr(e,t,n){var i=tc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Kr(e))Xr(t,n);else if(null!==(n=Ts(e,t,n,i))){nc(n,e,i,ec()),Jr(n,t,i)}}function Yr(e,t,n){var i=tc(e),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kr(e))Xr(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var r=t.lastRenderedState,o=s(r,n);if(a.hasEagerState=!0,a.eagerState=o,oi(o,r)){var l=t.interleaved;return null===l?(a.next=a,Ls(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ts(e,t,a,i))&&(nc(n,e,i,a=ec()),Jr(n,t,i))}}function Kr(e){var t=e.alternate;return e===rr||null!==t&&t===rr}function Xr(e,t){dr=cr=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jr(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Qr={readContext:Ms,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},Zr={readContext:Ms,useCallback:function(e,t){return vr().memoizedState=[e,void 0===t?null:t],e},useContext:Ms,useEffect:Ir,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Lr(4194308,4,Br.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Lr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Lr(4,2,e,t)},useMemo:function(e,t){var n=vr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=vr();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Vr.bind(null,rr,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},vr().memoizedState=e},useState:Er,useDebugValue:Wr,useDeferredValue:function(e){return vr().memoizedState=e},useTransition:function(){var e=Er(!1),t=e[0];return e=qr.bind(null,e[1]),vr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=rr,a=vr();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===El)throw Error(s(349));0!==(30&sr)||kr(i,t,n)}a.memoizedState=n;var r={value:n,getSnapshot:t};return a.queue=r,Ir(Cr.bind(null,i,r,e),[e]),i.flags|=2048,Mr(9,jr.bind(null,i,r,n,t),void 0,null),n},useId:function(){var e=vr(),t=El.identifierPrefix;if(as){var n=Qa;t=":"+t+"R"+(n=(Ja&~(1<<32-rt(Ja)-1)).toString(32)+n),0<(n=hr++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ur++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$r={readContext:Ms,useCallback:Hr,useContext:Ms,useEffect:Fr,useImperativeHandle:Or,useInsertionEffect:Rr,useLayoutEffect:Dr,useMemo:zr,useReducer:xr,useRef:Pr,useState:function(){return xr(yr)},useDebugValue:Wr,useDeferredValue:function(e){return Ur(br(),or.memoizedState,e)},useTransition:function(){return[xr(yr)[0],br().memoizedState]},useMutableSource:Nr,useSyncExternalStore:Ar,useId:Gr,unstable_isNewReconciler:!1},eo={readContext:Ms,useCallback:Hr,useContext:Ms,useEffect:Fr,useImperativeHandle:Or,useInsertionEffect:Rr,useLayoutEffect:Dr,useMemo:zr,useReducer:wr,useRef:Pr,useState:function(){return wr(yr)},useDebugValue:Wr,useDeferredValue:function(e){var t=br();return null===or?t.memoizedState=e:Ur(t,or.memoizedState,e)},useTransition:function(){return[wr(yr)[0],br().memoizedState]},useMutableSource:Nr,useSyncExternalStore:Ar,useId:Gr,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ec(),a=tc(e),s=Bs(i,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,a))&&(nc(t,e,a,i),Ws(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ec(),a=tc(e),s=Bs(i,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,a))&&(nc(t,e,a,i),Ws(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),i=tc(e),a=Bs(n,i);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Os(e,a,i))&&(nc(t,e,i,n),Ws(t,e,i))}};function ao(e,t,n,i,a,s,r){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,r):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(a,s))}function so(e,t,n){var i=!1,a=_a,s=t.contextType;return"object"===typeof s&&null!==s?s=Ms(s):(a=La(t)?Ma:Sa.current,s=(i=null!==(i=t.contextTypes)&&void 0!==i)?Pa(e,a):_a),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ro(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,i){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Ms(s):(s=La(t)?Ma:Sa.current,a.context=Pa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&io.enqueueReplaceState(a,a.state,null),zs(e,n,a,i),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",i=t;do{n+=H(i),i=i.return}while(i);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Bs(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){ql||(ql=!0,Gl=i),ho(0,t)},n}function mo(e,t,n){(n=Bs(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var a=t.value;n.payload=function(){return i(a)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof i&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fo(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new uo;var a=new Set;i.set(t,a)}else void 0===(a=i.get(t))&&(a=new Set,i.set(t,a));a.has(n)||(a.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,i,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bs(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=x.ReactCurrentOwner,yo=!1;function xo(e,t,n,i){t.child=null===e?ws(t,null,n,i):xs(t,e.child,n,i)}function wo(e,t,n,i,a){n=n.render;var s=t.ref;return Es(t,a),i=fr(e,t,n,i,s,a),n=gr(),null===e||yo?(as&&n&&es(t),t.flags|=1,xo(e,t,i,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qo(e,t,a))}function No(e,t,n,i,a){if(null===e){var s=n.type;return"function"!==typeof s||Lc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,i,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ao(e,t,s,i,a))}if(s=e.child,0===(e.lanes&a)){var r=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(r,i)&&e.ref===t.ref)return qo(e,t,a)}return t.flags|=1,(e=Tc(s,i)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,i,a){if(null!==e){var s=e.memoizedProps;if(li(s,i)&&e.ref===t.ref){if(yo=!1,t.pendingProps=i=s,0===(e.lanes&a))return t.lanes=e.lanes,qo(e,t,a);0!==(131072&e.flags)&&(yo=!0)}}return Co(e,t,n,i,a)}function ko(e,t,n){var i=t.pendingProps,a=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Tl,Ll),Ll|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Tl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Ca(Tl,Ll),Ll|=i}else null!==s?(i=s.baseLanes|n,t.memoizedState=null):i=n,Ca(Tl,Ll),Ll|=i;return xo(e,t,a,n),t.child}function jo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,i,a){var s=La(n)?Ma:Sa.current;return s=Pa(t,s),Es(t,a),n=fr(e,t,n,i,s,a),i=gr(),null===e||yo?(as&&i&&es(t),t.flags|=1,xo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qo(e,t,a))}function _o(e,t,n,i,a){if(La(n)){var s=!0;Ra(t)}else s=!1;if(Es(t,a),null===t.stateNode)Uo(e,t),so(t,n,i),oo(t,n,i,a),i=!0;else if(null===e){var r=t.stateNode,o=t.memoizedProps;r.props=o;var l=r.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ms(c):c=Pa(t,c=La(n)?Ma:Sa.current);var d=n.getDerivedStateFromProps,h="function"===typeof d||"function"===typeof r.getSnapshotBeforeUpdate;h||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==i||l!==c)&&ro(t,r,i,c),Fs=!1;var u=t.memoizedState;r.state=u,zs(t,i,r,a),l=t.memoizedState,o!==i||u!==l||Ea.current||Fs?("function"===typeof d&&(no(t,n,d,i),l=t.memoizedState),(o=Fs||ao(t,n,o,i,u,l,c))?(h||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||("function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount()),"function"===typeof r.componentDidMount&&(t.flags|=4194308)):("function"===typeof r.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),r.props=i,r.state=l,r.context=c,i=o):("function"===typeof r.componentDidMount&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Ds(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),r.props=c,h=t.pendingProps,u=r.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ms(l):l=Pa(t,l=La(n)?Ma:Sa.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof r.getSnapshotBeforeUpdate)||"function"!==typeof r.UNSAFE_componentWillReceiveProps&&"function"!==typeof r.componentWillReceiveProps||(o!==h||u!==l)&&ro(t,r,i,l),Fs=!1,u=t.memoizedState,r.state=u,zs(t,i,r,a);var m=t.memoizedState;o!==h||u!==m||Ea.current||Fs?("function"===typeof p&&(no(t,n,p,i),m=t.memoizedState),(c=Fs||ao(t,n,c,i,u,m,l)||!1)?(d||"function"!==typeof r.UNSAFE_componentWillUpdate&&"function"!==typeof r.componentWillUpdate||("function"===typeof r.componentWillUpdate&&r.componentWillUpdate(i,m,l),"function"===typeof r.UNSAFE_componentWillUpdate&&r.UNSAFE_componentWillUpdate(i,m,l)),"function"===typeof r.componentDidUpdate&&(t.flags|=4),"function"===typeof r.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),r.props=i,r.state=m,r.context=l,i=c):("function"!==typeof r.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=4),"function"!==typeof r.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(t.flags|=1024),i=!1)}return So(e,t,n,i,s,a)}function So(e,t,n,i,a,s){jo(e,t);var r=0!==(128&t.flags);if(!i&&!r)return a&&Da(t,n,!1),qo(e,t,s);i=t.stateNode,bo.current=t;var o=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&r?(t.child=xs(t,e.child,null,s),t.child=xs(t,null,o,s)):xo(e,t,o,s),t.memoizedState=i.state,a&&Da(t,n,!0),t.child}function Eo(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),Xs(e,t.containerInfo)}function Mo(e,t,n,i,a){return ps(),ms(a),t.flags|=256,xo(e,t,n,i),t.child}var Po,Lo,To,Io,Fo={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Do(e,t,n){var i,a=t.pendingProps,r=$s.current,o=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&r)),i?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(r|=1),Ca($s,1&r),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Rc(l,a,0,null),e=Fc(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ro(n),t.memoizedState=Fo,e):Bo(t,l));if(null!==(r=e.memoizedState)&&null!==(i=r.dehydrated))return function(e,t,n,i,a,r,o){if(n)return 256&t.flags?(t.flags&=-257,Oo(e,t,o,i=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(r=i.fallback,a=t.mode,i=Rc({mode:"visible",children:i.children},a,0,null),(r=Fc(r,a,o,null)).flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,0!==(1&t.mode)&&xs(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=Fo,r);if(0===(1&t.mode))return Oo(e,t,o,null);if("$!"===a.data){if(i=a.nextSibling&&a.nextSibling.dataset)var l=i.dgst;return i=l,Oo(e,t,o,i=co(r=Error(s(419)),i,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(i=El)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(i.suspendedLanes|o))?0:a)&&a!==r.retryLane&&(r.retryLane=a,Is(e,a),nc(i,e,a,-1))}return fc(),Oo(e,t,o,i=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),a._reactRetry=t,null):(e=r.treeContext,is=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ya[Ka++]=Ja,Ya[Ka++]=Qa,Ya[Ka++]=Xa,Ja=e.id,Qa=e.overflow,Xa=t),t=Bo(t,i.children),t.flags|=4096,t)}(e,t,l,a,i,r,n);if(o){o=a.fallback,l=t.mode,i=(r=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==r?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Tc(r,c)).subtreeFlags=14680064&r.subtreeFlags,null!==i?o=Tc(i,o):(o=Fc(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Ro(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Fo,a}return e=(o=e.child).sibling,a=Tc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Bo(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Oo(e,t,n,i){return null!==i&&ms(i),xs(t,e.child,null,n),(e=Bo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wo(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Ss(e.return,t,n)}function Ho(e,t,n,i,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=a)}function zo(e,t,n){var i=t.pendingProps,a=i.revealOrder,s=i.tail;if(xo(e,t,i.children,n),0!==(2&(i=$s.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wo(e,n,t);else if(19===e.tag)Wo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ca($s,i),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===er(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ho(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===er(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ho(t,!0,n,null,s);break;case"together":Ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Tc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,i|=14680064&a.subtreeFlags,i|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Yo(e,t,n){var i=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return La(t.type)&&Ta(),Vo(t),null;case 3:return i=t.stateNode,Js(),ja(Ea),ja(Sa),nr(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(rc(ss),ss=null))),Lo(e,t),Vo(t),null;case 5:Zs(t);var a=Ks(Ys.current);if(n=t.type,null!==e&&null!=t.stateNode)To(e,t,n,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(s(166));return Vo(t),null}if(e=Ks(Gs.current),hs(t)){i=t.stateNode,n=t.type;var r=t.memoizedProps;switch(i[ua]=t,i[pa]=r,e=0!==(1&t.mode),n){case"dialog":Oi("cancel",i),Oi("close",i);break;case"iframe":case"object":case"embed":Oi("load",i);break;case"video":case"audio":for(a=0;a<Fi.length;a++)Oi(Fi[a],i);break;case"source":Oi("error",i);break;case"img":case"image":case"link":Oi("error",i),Oi("load",i);break;case"details":Oi("toggle",i);break;case"input":J(i,r),Oi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Oi("invalid",i);break;case"textarea":ae(i,r),Oi("invalid",i)}for(var l in be(n,r),a=null,r)if(r.hasOwnProperty(l)){var c=r[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==r.suppressHydrationWarning&&Zi(i.textContent,c,e),a=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==r.suppressHydrationWarning&&Zi(i.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Oi("scroll",i)}switch(n){case"input":V(i),$(i,r,!0);break;case"textarea":V(i),re(i);break;case"select":case"option":break;default:"function"===typeof r.onClick&&(i.onclick=$i)}i=a,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[ua]=t,e[pa]=i,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(n,i),n){case"dialog":Oi("cancel",e),Oi("close",e),a=i;break;case"iframe":case"object":case"embed":Oi("load",e),a=i;break;case"video":case"audio":for(a=0;a<Fi.length;a++)Oi(Fi[a],e);a=i;break;case"source":Oi("error",e),a=i;break;case"img":case"image":case"link":Oi("error",e),Oi("load",e),a=i;break;case"details":Oi("toggle",e),a=i;break;case"input":J(e,i),a=X(e,i),Oi("invalid",e);break;case"option":default:a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=D({},i,{value:void 0}),Oi("invalid",e);break;case"textarea":ae(e,i),a=ie(e,i),Oi("invalid",e)}for(r in be(n,a),c=a)if(c.hasOwnProperty(r)){var d=c[r];"style"===r?ge(e,d):"dangerouslySetInnerHTML"===r?null!=(d=d?d.__html:void 0)&&he(e,d):"children"===r?"string"===typeof d?("textarea"!==n||""!==d)&&ue(e,d):"number"===typeof d&&ue(e,""+d):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(o.hasOwnProperty(r)?null!=d&&"onScroll"===r&&Oi("scroll",e):null!=d&&y(e,r,d,l))}switch(n){case"input":V(e),$(e,i,!1);break;case"textarea":V(e),re(e);break;case"option":null!=i.value&&e.setAttribute("value",""+q(i.value));break;case"select":e.multiple=!!i.multiple,null!=(r=i.value)?ne(e,!!i.multiple,r,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Io(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(n=Ks(Ys.current),Ks(Gs.current),hs(t)){if(i=t.stateNode,n=t.memoizedProps,i[ua]=t,(r=i.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zi(i.nodeValue,n,0!==(1&e.mode))}r&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ua]=t,t.stateNode=i}return Vo(t),null;case 13:if(ja($s),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))us(),ps(),t.flags|=98560,r=!1;else if(r=hs(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[ua]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),r=!1}else null!==ss&&(rc(ss),ss=null),r=!0;if(!r)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$s.current)?0===Il&&(Il=3):fc())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Js(),Lo(e,t),null===e&&zi(t.stateNode.containerInfo),Vo(t),null;case 10:return _s(t.type._context),Vo(t),null;case 19:if(ja($s),null===(r=t.memoizedState))return Vo(t),null;if(i=0!==(128&t.flags),null===(l=r.rendering))if(i)Go(r,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=er(e))){for(t.flags|=128,Go(r,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(r=n).flags&=14680066,null===(l=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,e=l.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca($s,1&$s.current|2),t.child}e=e.sibling}null!==r.tail&&Qe()>zl&&(t.flags|=128,i=!0,Go(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=er(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!as)return Vo(t),null}else 2*Qe()-r.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,i=!0,Go(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=r.last)?n.sibling=l:t.child=l,r.last=l)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Qe(),t.sibling=null,n=$s.current,Ca($s,i?1&n|2:1&n),t):(Vo(t),null);case 22:case 23:return hc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ko(e,t){switch(ts(t),t.tag){case 1:return La(t.type)&&Ta(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Js(),ja(Ea),ja(Sa),nr(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zs(t),null;case 13:if(ja($s),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ja($s),null;case 4:return Js(),null;case 10:return _s(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Lo=function(){},To=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,Ks(Gs.current);var s,r=null;switch(n){case"input":a=X(e,a),i=X(e,i),r=[];break;case"select":a=D({},a,{value:void 0}),i=D({},i,{value:void 0}),r=[];break;case"textarea":a=ie(e,a),i=ie(e,i),r=[];break;default:"function"!==typeof a.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(d in be(n,i),n=null,a)if(!i.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var l=a[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in i){var c=i[d];if(l=null!=a?a[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(r||(r=[]),r.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(r=r||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(r=r||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Oi("scroll",e),r||l===c||(r=[])):(r=r||[]).push(d,c))}n&&(r=r||[]).push("style",n);var d=r;(t.updateQueue=d)&&(t.flags|=4)}},Io=function(e,t,n,i){n!==i&&(t.flags|=4)};var Xo=!1,Jo=!1,Qo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function $o(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){kc(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){kc(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var a=i=i.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&el(t,n,s)}a=a.next}while(a!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ua],delete t[pa],delete t[fa],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rl(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,hl=!1;function ul(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Jo||$o(n,t);case 6:var i=dl,a=hl;dl=null,ul(e,t,n),hl=a,null!==(dl=i)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),zt(e)):la(dl,n.stateNode));break;case 4:i=dl,a=hl,dl=n.stateNode.containerInfo,hl=!0,ul(e,t,n),dl=i,hl=a;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){a=i=i.next;do{var s=a,r=s.destroy;s=s.tag,void 0!==r&&(0!==(2&s)||0!==(4&s))&&el(n,t,r),a=a.next}while(a!==i)}ul(e,t,n);break;case 1:if(!Jo&&($o(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){kc(n,t,o)}ul(e,t,n);break;case 21:ul(e,t,n);break;case 22:1&n.mode?(Jo=(i=Jo)||null!==n.memoizedState,ul(e,t,n),Jo=i):ul(e,t,n);break;default:ul(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qo),t.forEach(function(t){var i=Sc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}}function fl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var a=n[i];try{var r=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(r,o,a),dl=null,hl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){kc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fl(t,e),vl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:fl(t,e),vl(e),512&i&&null!==n&&$o(n,n.return);break;case 5:if(fl(t,e),vl(e),512&i&&null!==n&&$o(n,n.return),32&e.flags){var a=e.stateNode;try{ue(a,"")}catch(g){kc(e,e.return,g)}}if(4&i&&null!=(a=e.stateNode)){var r=e.memoizedProps,o=null!==n?n.memoizedProps:r,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===r.type&&null!=r.name&&Q(a,r),ye(l,o);var d=ye(l,r);for(o=0;o<c.length;o+=2){var h=c[o],u=c[o+1];"style"===h?ge(a,u):"dangerouslySetInnerHTML"===h?he(a,u):"children"===h?ue(a,u):y(a,h,u,d)}switch(l){case"input":Z(a,r);break;case"textarea":se(a,r);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!r.multiple;var m=r.value;null!=m?ne(a,!!r.multiple,m,!1):p!==!!r.multiple&&(null!=r.defaultValue?ne(a,!!r.multiple,r.defaultValue,!0):ne(a,!!r.multiple,r.multiple?[]:"",!1))}a[pa]=r}catch(g){kc(e,e.return,g)}}break;case 6:if(fl(t,e),vl(e),4&i){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,r=e.memoizedProps;try{a.nodeValue=r}catch(g){kc(e,e.return,g)}}break;case 3:if(fl(t,e),vl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:fl(t,e),vl(e);break;case 13:fl(t,e),vl(e),8192&(a=e.child).flags&&(r=null!==a.memoizedState,a.stateNode.isHidden=r,!r||null!==a.alternate&&null!==a.alternate.memoizedState||(Hl=Qe())),4&i&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(d=Jo)||h,fl(t,e),Jo=d):fl(t,e),vl(e),8192&i){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(u=Zo=h;null!==Zo;){switch(m=(p=Zo).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:$o(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){i=p,n=p.return;try{t=i,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){kc(i,n,g)}}break;case 5:$o(p,p.return);break;case 22:if(null!==p.memoizedState){wl(u);continue}}null!==m?(m.return=p,Zo=m):wl(u)}h=h.sibling}e:for(h=null,u=e;;){if(5===u.tag){if(null===h){h=u;try{a=u.stateNode,d?"function"===typeof(r=a.style).setProperty?r.setProperty("display","none","important"):r.display="none":(l=u.stateNode,o=void 0!==(c=u.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=fe("display",o))}catch(g){kc(e,e.return,g)}}}else if(6===u.tag){if(null===h)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:fl(t,e),vl(e),4&i&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rl(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var a=i.stateNode;32&i.flags&&(ue(a,""),i.flags&=-33),cl(e,ol(e),a);break;case 3:case 4:var r=i.stateNode.containerInfo;ll(e,ol(e),r);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zo=e,yl(e,t,n)}function yl(e,t,n){for(var i=0!==(1&e.mode);null!==Zo;){var a=Zo,s=a.child;if(22===a.tag&&i){var r=null!==a.memoizedState||Xo;if(!r){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Xo;var c=Jo;if(Xo=r,(Jo=l)&&!c)for(Zo=a;null!==Zo;)l=(r=Zo).child,22===r.tag&&null!==r.memoizedState?Nl(a):null!==l?(l.return=r,Zo=l):Nl(a);for(;null!==s;)Zo=s,yl(s,t,n),s=s.sibling;Zo=a,Xo=o,Jo=c}xl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Zo=s):xl(e)}}function xl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Jo)if(null===n)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;null!==r&&Us(t,r,i);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var h=d.memoizedState;if(null!==h){var u=h.dehydrated;null!==u&&zt(u)}}}break;default:throw Error(s(163))}Jo||512&t.flags&&al(t)}catch(p){kc(t,t.return,p)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function Nl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var a=t.return;try{i.componentDidMount()}catch(l){kc(t,a,l)}}var s=t.return;try{al(t)}catch(l){kc(t,s,l)}break;case 5:var r=t.return;try{al(t)}catch(l){kc(t,r,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Al,kl=Math.ceil,jl=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,_l=x.ReactCurrentBatchConfig,Sl=0,El=null,Ml=null,Pl=0,Ll=0,Tl=ka(0),Il=0,Fl=null,Rl=0,Dl=0,Bl=0,Ol=null,Wl=null,Hl=0,zl=1/0,Ul=null,ql=!1,Gl=null,Vl=null,Yl=!1,Kl=null,Xl=0,Jl=0,Ql=null,Zl=-1,$l=0;function ec(){return 0!==(6&Sl)?Qe():-1!==Zl?Zl:Zl=Qe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Sl)&&0!==Pl?Pl&-Pl:null!==fs.transition?(0===$l&&($l=ft()),$l):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,i){if(50<Jl)throw Jl=0,Ql=null,Error(s(185));vt(e,n,i),0!==(2&Sl)&&e===El||(e===El&&(0===(2&Sl)&&(Dl|=n),4===Il&&oc(e,Pl)),ic(e,i),1===n&&0===Sl&&0===(1&t.mode)&&(zl=Qe()+500,Oa&&za()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var r=31-rt(s),o=1<<r,l=a[r];-1===l?0!==(o&n)&&0===(o&i)||(a[r]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var i=ut(e,e===El?Pl:0);if(0===i)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Oa=!0,Ha(e)}(lc.bind(null,e)):Ha(lc.bind(null,e)),ra(function(){0===(6&Sl)&&za()}),n=null;else{switch(xt(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ec(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zl=-1,$l=0,0!==(6&Sl))throw Error(s(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var i=ut(e,e===El?Pl:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=gc(e,i);else{t=i;var a=Sl;Sl|=2;var r=mc();for(El===e&&Pl===t||(Ul=null,zl=Qe()+500,uc(e,t));;)try{bc();break}catch(l){pc(e,l)}Cs(),jl.current=r,Sl=a,null!==Ml?t=0:(El=null,Pl=0,t=Il)}if(0!==t){if(2===t&&(0!==(a=mt(e))&&(i=a,t=sc(e,a))),1===t)throw n=Fl,uc(e,0),oc(e,i),ic(e,Qe()),n;if(6===t)oc(e,i);else{if(a=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var a=n[i],s=a.getSnapshot;a=a.value;try{if(!oi(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gc(e,i))&&(0!==(r=mt(e))&&(i=r,t=sc(e,r))),1===t))throw n=Fl,uc(e,0),oc(e,i),ic(e,Qe()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Wl,Ul);break;case 3:if(oc(e,i),(130023424&i)===i&&10<(t=Hl+500-Qe())){if(0!==ut(e,0))break;if(((a=e.suspendedLanes)&i)!==i){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ia(wc.bind(null,e,Wl,Ul),t);break}wc(e,Wl,Ul);break;case 4:if(oc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,a=-1;0<i;){var o=31-rt(i);r=1<<o,(o=t[o])>a&&(a=o),i&=~r}if(i=a,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kl(i/1960))-i)){e.timeoutHandle=ia(wc.bind(null,e,Wl,Ul),i);break}wc(e,Wl,Ul);break;default:throw Error(s(329))}}}return ic(e,Qe()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Ol;return e.current.memoizedState.isDehydrated&&(uc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Wl,Wl=n,null!==t&&rc(t)),e}function rc(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function oc(e,t){for(t&=~Bl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),i=1<<n;e[n]=-1,t&=~i}}function lc(e){if(0!==(6&Sl))throw Error(s(327));Nc();var t=ut(e,0);if(0===(1&t))return ic(e,Qe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var i=mt(e);0!==i&&(t=i,n=sc(e,i))}if(1===n)throw n=Fl,uc(e,0),oc(e,t),ic(e,Qe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Wl,Ul),ic(e,Qe()),null}function cc(e,t){var n=Sl;Sl|=1;try{return e(t)}finally{0===(Sl=n)&&(zl=Qe()+500,Oa&&za())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&Sl)&&Nc();var t=Sl;Sl|=1;var n=_l.transition,i=yt;try{if(_l.transition=null,yt=1,e)return e()}finally{yt=i,_l.transition=n,0===(6&(Sl=t))&&za()}}function hc(){Ll=Tl.current,ja(Tl)}function uc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Ml)for(n=Ml.return;null!==n;){var i=n;switch(ts(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Ta();break;case 3:Js(),ja(Ea),ja(Sa),nr();break;case 5:Zs(i);break;case 4:Js();break;case 13:case 19:ja($s);break;case 10:_s(i.type._context);break;case 22:case 23:hc()}n=n.return}if(El=e,Ml=e=Tc(e.current,null),Pl=Ll=t,Il=0,Fl=null,Bl=Dl=Rl=0,Wl=Ol=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(i=(n=Ps[t]).interleaved)){n.interleaved=null;var a=i.next,s=n.pending;if(null!==s){var r=s.next;s.next=a,i.next=r}n.pending=i}Ps=null}return e}function pc(e,t){for(;;){var n=Ml;try{if(Cs(),ir.current=Qr,cr){for(var i=rr.memoizedState;null!==i;){var a=i.queue;null!==a&&(a.pending=null),i=i.next}cr=!1}if(sr=0,lr=or=rr=null,dr=!1,hr=0,Cl.current=null,null===n||null===n.return){Il=1,Fl=t,Ml=null;break}e:{var r=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,h=l,u=h.tag;if(0===(1&h.mode)&&(0===u||11===u||15===u)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=go(o);if(null!==m){m.flags&=-257,vo(m,o,l,0,t),1&m.mode&&fo(r,d,t),c=d;var f=(t=m).updateQueue;if(null===f){var g=new Set;g.add(c),t.updateQueue=g}else f.add(c);break e}if(0===(1&t)){fo(r,d,t),fc();break e}c=Error(s(426))}else if(as&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ms(lo(c,l));break e}}r=c=lo(c,l),4!==Il&&(Il=2),null===Ol?Ol=[r]:Ol.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t,Hs(r,po(0,c,t));break e;case 1:l=c;var b=r.type,y=r.stateNode;if(0===(128&r.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Vl||!Vl.has(y)))){r.flags|=65536,t&=-t,r.lanes|=t,Hs(r,mo(r,l,t));break e}}r=r.return}while(null!==r)}xc(n)}catch(x){t=x,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function mc(){var e=jl.current;return jl.current=Qr,null===e?Qr:e}function fc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===El||0===(268435455&Rl)&&0===(268435455&Dl)||oc(El,Pl)}function gc(e,t){var n=Sl;Sl|=2;var i=mc();for(El===e&&Pl===t||(Ul=null,uc(e,t));;)try{vc();break}catch(a){pc(e,a)}if(Cs(),Sl=n,jl.current=i,null!==Ml)throw Error(s(261));return El=null,Pl=0,Il}function vc(){for(;null!==Ml;)yc(Ml)}function bc(){for(;null!==Ml&&!Xe();)yc(Ml)}function yc(e){var t=Al(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?xc(e):Ml=t,Cl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Ll)))return void(Ml=n)}else{if(null!==(n=Ko(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Il=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Il&&(Il=5)}function wc(e,t,n){var i=yt,a=_l.transition;try{_l.transition=null,yt=1,function(e,t,n,i){do{Nc()}while(null!==Kl);if(0!==(6&Sl))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-rt(n),s=1<<a;t[a]=0,i[a]=-1,e[a]=-1,n&=~s}}(e,r),e===El&&(Ml=El=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Ec(tt,function(){return Nc(),null})),r=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||r){r=_l.transition,_l.transition=null;var o=yt;yt=1;var l=Sl;Sl|=4,Cl.current=null,function(e,t){if(ea=qt,pi(e=ui())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var a=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,d=0,h=0,u=e,p=null;t:for(;;){for(var m;u!==n||0!==a&&3!==u.nodeType||(l=o+a),u!==r||0!==i&&3!==u.nodeType||(c=o+i),3===u.nodeType&&(o+=u.nodeValue.length),null!==(m=u.firstChild);)p=u,u=m;for(;;){if(u===e)break t;if(p===n&&++d===a&&(l=o),p===r&&++h===i&&(c=o),null!==(m=u.nextSibling))break;p=(u=p).parentNode}u=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,v=f.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}f=tl,tl=!1}(e,n),gl(n,e),mi(ta),qt=!!ea,ta=ea=null,e.current=n,bl(n,e,a),Je(),Sl=l,yt=o,_l.transition=r}else e.current=n;if(Yl&&(Yl=!1,Kl=e,Xl=a),r=e.pendingLanes,0===r&&(Vl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(ql)throw ql=!1,e=Gl,Gl=null,e;0!==(1&Xl)&&0!==e.tag&&Nc(),r=e.pendingLanes,0!==(1&r)?e===Ql?Jl++:(Jl=0,Ql=e):Jl=0,za()}(e,t,n,i)}finally{_l.transition=a,yt=i}return null}function Nc(){if(null!==Kl){var e=xt(Xl),t=_l.transition,n=yt;try{if(_l.transition=null,yt=16>e?16:e,null===Kl)var i=!1;else{if(e=Kl,Kl=null,Xl=0,0!==(6&Sl))throw Error(s(331));var a=Sl;for(Sl|=4,Zo=e.current;null!==Zo;){var r=Zo,o=r.child;if(0!==(16&Zo.flags)){var l=r.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zo=d;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:nl(8,h,r)}var u=h.child;if(null!==u)u.return=h,Zo=u;else for(;null!==Zo;){var p=(h=Zo).sibling,m=h.return;if(sl(h),h===d){Zo=null;break}if(null!==p){p.return=m,Zo=p;break}Zo=m}}}var f=r.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=r}}if(0!==(2064&r.subtreeFlags)&&null!==o)o.return=r,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(r=Zo).flags))switch(r.tag){case 0:case 11:case 15:nl(9,r,r.return)}var b=r.sibling;if(null!==b){b.return=r.return,Zo=b;break e}Zo=r.return}}var y=e.current;for(Zo=y;null!==Zo;){var x=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,Zo=x;else e:for(o=y;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(N){kc(l,l.return,N)}if(l===o){Zo=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zo=w;break e}Zo=l.return}}if(Sl=a,za(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(N){}i=!0}return i}finally{yt=n,_l.transition=t}}return!1}function Ac(e,t,n){e=Os(e,t=po(0,t=lo(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Ac(e,e,n);else for(;null!==t;){if(3===t.tag){Ac(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Vl||!Vl.has(i))){t=Os(t,e=mo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function jc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Pl&n)===n&&(4===Il||3===Il&&(130023424&Pl)===Pl&&500>Qe()-Hl?uc(e,0):Bl|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Is(e,t))&&(vt(e,t,n),ic(e,n))}function _c(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Sc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(t),Cc(e,n)}function Ec(e,t){return Ye(e,t)}function Mc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,i){return new Mc(e,t,n,i)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,i,a,r){var o=2;if(i=e,"function"===typeof e)Lc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case A:return Fc(n.children,a,r,t);case k:o=8,a|=8;break;case j:return(e=Pc(12,n,t,2|a)).elementType=j,e.lanes=r,e;case E:return(e=Pc(13,n,t,a)).elementType=E,e.lanes=r,e;case M:return(e=Pc(19,n,t,a)).elementType=M,e.lanes=r,e;case T:return Rc(n,a,r,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case _:o=9;break e;case S:o=11;break e;case P:o=14;break e;case L:o=16,i=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,a)).elementType=e,t.type=i,t.lanes=r,t}function Fc(e,t,n,i){return(e=Pc(7,e,i,t)).lanes=n,e}function Rc(e,t,n,i){return(e=Pc(22,e,i,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oc(e,t,n,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,i,a,s,r,o,l){return e=new Oc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Hc(e){if(!e)return _a;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(La(n))return Fa(e,n,t)}return t}function zc(e,t,n,i,a,s,r,o,l){return(e=Wc(n,i,!0,e,0,s,0,o,l)).context=Hc(null),n=e.current,(s=Bs(i=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,a),e.current.lanes=a,vt(e,a,i),ic(e,i),e}function Uc(e,t,n,i){var a=t.current,s=ec(),r=tc(a);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bs(s,r)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Os(a,t,r))&&(nc(e,a,r,s),Ws(e,a,r)),r}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Al=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:Eo(t),ps();break;case 5:Qs(t);break;case 1:La(t.type)&&Ra(t);break;case 4:Xs(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;Ca(Ns,i._currentValue),i._currentValue=a;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Ca($s,1&$s.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Do(e,t,n):(Ca($s,1&$s.current),null!==(e=qo(e,t,n))?e.sibling:null);Ca($s,1&$s.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return zo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca($s,$s.current),i)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return qo(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,as&&0!==(1048576&t.flags)&&$a(t,Va,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Uo(e,t),e=t.pendingProps;var a=Pa(t,Sa.current);Es(t,n),a=fr(null,t,i,e,a,n);var r=gr();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(i)?(r=!0,Ra(t)):r=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Rs(t),a.updater=io,t.stateNode=a,a._reactInternals=t,oo(t,i,e,n),t=So(null,t,i,!0,r,n)):(t.tag=0,as&&r&&es(t),xo(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Uo(e,t),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===P)return 14}return 2}(i),e=to(i,e),a){case 0:t=Co(null,t,i,e,n);break e;case 1:t=_o(null,t,i,e,n);break e;case 11:t=wo(null,t,i,e,n);break e;case 14:t=No(null,t,i,to(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,Co(e,t,i,a=t.elementType===i?a:to(i,a),n);case 1:return i=t.type,a=t.pendingProps,_o(e,t,i,a=t.elementType===i?a:to(i,a),n);case 3:e:{if(Eo(t),null===e)throw Error(s(387));i=t.pendingProps,a=(r=t.memoizedState).element,Ds(e,t),zs(t,i,null,n);var o=t.memoizedState;if(i=o.element,r.isDehydrated){if(r={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,256&t.flags){t=Mo(e,t,i,n,a=lo(Error(s(423)),t));break e}if(i!==a){t=Mo(e,t,i,n,a=lo(Error(s(424)),t));break e}for(is=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),i===a){t=qo(e,t,n);break e}xo(e,t,i,n)}t=t.child}return t;case 5:return Qs(t),null===e&&cs(t),i=t.type,a=t.pendingProps,r=null!==e?e.memoizedProps:null,o=a.children,na(i,a)?o=null:null!==r&&na(i,r)&&(t.flags|=32),jo(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Do(e,t,n);case 4:return Xs(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=xs(t,null,i,n):xo(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,wo(e,t,i,a=t.elementType===i?a:to(i,a),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,r=t.memoizedProps,o=a.value,Ca(Ns,i._currentValue),i._currentValue=o,null!==r)if(oi(r.value,o)){if(r.children===a.children&&!Ea.current){t=qo(e,t,n);break e}}else for(null!==(r=t.child)&&(r.return=t);null!==r;){var l=r.dependencies;if(null!==l){o=r.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===r.tag){(c=Bs(-1,n&-n)).tag=2;var d=r.updateQueue;if(null!==d){var h=(d=d.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}r.lanes|=n,null!==(c=r.alternate)&&(c.lanes|=n),Ss(r.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===r.tag)o=r.type===t.type?null:r.child;else if(18===r.tag){if(null===(o=r.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ss(o,n,t),o=r.sibling}else o=r.child;if(null!==o)o.return=r;else for(o=r;null!==o;){if(o===t){o=null;break}if(null!==(r=o.sibling)){r.return=o.return,o=r;break}o=o.return}r=o}xo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,Es(t,n),i=i(a=Ms(a)),t.flags|=1,xo(e,t,i,n),t.child;case 14:return a=to(i=t.type,t.pendingProps),No(e,t,i,a=to(i.type,a),n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:to(i,a),Uo(e,t),t.tag=1,La(i)?(e=!0,Ra(t)):e=!1,Es(t,n),so(t,i,a),oo(t,i,a,n),So(null,t,i,!0,e,n);case 19:return zo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,i,a){var s=n._reactRootContainer;if(s){var r=s;if("function"===typeof a){var o=a;a=function(){var e=qc(r);o.call(e)}}Uc(t,r,e,a)}else r=function(e,t,n,i,a){if(a){if("function"===typeof i){var s=i;i=function(){var e=qc(r);s.call(e)}}var r=zc(t,i,e,0,null,!1,0,"",Zc);return e._reactRootContainer=r,e[ma]=r.current,zi(8===e.nodeType?e.parentNode:e),dc(),r}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof i){var o=i;i=function(){var e=qc(l);o.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[ma]=l.current,zi(8===e.nodeType?e.parentNode:e),dc(function(){Uc(t,l,n,i)}),l}(n,t,e,a,i);return qc(r)}Xc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Uc(e,t,null,null)},Xc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Uc(null,e,null,null)}),t[ma]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(bt(t,1|n),ic(t,Qe()),0===(6&Sl)&&(zl=Qe()+500,za()))}break;case 13:dc(function(){var t=Is(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Vc(e,1)}},Nt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},At=function(e){if(13===e.tag){var t=tc(e),n=Is(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},kt=function(){return yt},jt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Ne=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=wa(i);if(!a)throw Error(s(90));Y(i),Z(i,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[ya,xa,wa,Ce,_e,cc]},td={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{at=id.inject(nd),st=id}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,i="",a=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,i,a),e[ma]=t.current,zi(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(s(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,a=!1,r="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,a,0,r,o),e[ma]=t.current,zi(e),i)for(e=0;e<i.length;e++)a=(a=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Xc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(s(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Qc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return $c(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},2897:(e,t,n)=>{var i=n(3693);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3146:(e,t,n)=>{"use strict";var i=n(2897).default;const a=n(6125).rE,s=n(6706);e.exports=i(i({},s),{},{workerPath:"https://cdn.jsdelivr.net/npm/tesseract.js@v".concat(a,"/dist/worker.min.js")})},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3396:e=>{"use strict";e.exports=JSON.parse('["Blaenau Gwent","Brecon & Radnor","Bridgend","Caerphilly","Cardiff","Carmarthenshire","Ceredigion","Flintshire","Merthyr Cynon","Monmouthshire","Neath Port Talbot","Newport","North Clwyd","North Powys","North West Wales","Pembrokeshire","South Gwynedd","Swansea","Taff Rhondda","Torfaen","Vale of Glamorgan","Wrexham"]')},3693:(e,t,n)=>{var i=n(7736);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3919:(e,t,n)=>{"use strict";const i=n(3146),a=n(4282),s=n(4826),r=n(6171),o=n(6677),l=n(1246);e.exports={defaultOptions:i,spawnWorker:a,terminateWorker:s,onMessage:r,send:o,loadImage:l}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=y.prototype=new b;x.constructor=y,f(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,N=Object.prototype.hasOwnProperty,A={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,i){var a,s={},r=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(r=""+t.key),t)N.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:r,ref:o,props:s,_owner:A.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function E(e,t,a,s,r){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return r=r(l=e),e=""===s?"."+S(l,0):s,w(r)?(a="",null!=e&&(a=e.replace(_,"$&/")+"/"),E(r,t,a,"",function(e){return e})):null!=r&&(C(r)&&(r=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,a+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(_,"$&/")+"/")+e)),t.push(r)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var d=s+S(o=e[c],c);l+=E(o,t,a,d,r)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=E(o=o.value,t,a,d=s+S(o,c++),r);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function M(e,t,n){if(null==e)return e;var i=[],a=0;return E(e,i,"","",function(e){return t.call(n,e,a++)}),i}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},T={transition:null},I={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:T,ReactCurrentOwner:A};function F(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=r,t.PureComponent=y,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=F,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=f({},e.props),s=e.key,r=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,o=A.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=i;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:r,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=F,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},4282:e=>{"use strict";e.exports=e=>{let t,{workerPath:n,workerBlobURL:i}=e;if(Blob&&URL&&i){const e=new Blob(['importScripts("'.concat(n,'");')],{type:"application/javascript"});t=new Worker(URL.createObjectURL(e))}else t=new Worker(n);return t}},4391:(e,t,n)=>{"use strict";var i=n(7950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},4826:e=>{"use strict";e.exports=e=>{e.terminate()}},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4980:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(2284);function a(e){var t=function(e,t){if("object"!=(0,i.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=(0,i.A)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,i.A)(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5173:(e,t,n)=>{e.exports=n(1497)()},5362:(e,t,n)=>{"use strict";const i=n(1674);let a=0;e.exports=e=>{let{id:t,action:n,payload:s={}}=e,r=t;return"undefined"===typeof r&&(r=i("Job",a),a+=1),{id:r,action:n,payload:s}}},5597:function(e,t){"use strict";var n=this;let i=!1;t.logging=i,t.setLogging=e=>{i=e},t.log=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return i?console.log.apply(n,t):null}},5783:e=>{"use strict";e.exports={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"}},6125:e=>{"use strict";e.exports={rE:"6.0.1"}},6171:e=>{"use strict";e.exports=(e,t)=>{e.onmessage=e=>{let{data:n}=e;t(n)}}},6221:e=>{"use strict";e.exports=JSON.parse('["Ashford","Aylesbury","Barnsley","Barrow-in-Furness","Basingstoke","Bath","Bedford","Birmingham","Black Country","Blackwater Valley","Bolton and Bury","Bournemouth","Bradford & South Dales","Brighton and Hove","Bristol","Bury St Edmunds","Cambridge","Canterbury","Central Greater Manchester","Central Lancs","Central London","Central Norfolk & Norwich","Chelmsford","Cheltenham","Cherwell Valley","Chesterfield","Chichester","Chilterns","Colchester","Coventry","Crawley & Reigate","Darlington","Derby","Doncaster","Dover-Shepway","Durham","East Cheshire","East Lancs","East Thames Valley","Eastern Staffordshire","Eastbourne","Exeter","Fylde Coast","Gloucester","Grantham & Newark","Greater Liverpool","Grimsby","Guildford","Halifax","Harlow & Stortford","Harrogate","Herefordshire","High Weald","Hull & East Riding","Huntingdon","Inner East London","Inner North London","Inner South East London","Inner South West London","Inner West London","Ipswich","Isle of Wight","Kendal","Kernow West","Kings Lynn","Kirklees","Lancaster","Leeds","Leicester","Lincoln","Lincolnshire Fens","Lowestoft & Great Yarmouth","Luton","Maidstone","Medway & Swale","Mendip","Mid & East Devon","Mid & West Dorset","Mid Staffs","Milton Keynes","Newbury","North Cheshire","North Cornwall & Devon Borders","North Cumbria","North Devon","North Nottingham","North West Kent","North West London","Northampton","Northants Central","Northumberland","Nottingham","Oldham & Rochdale","Outer East London","Outer North East London","Outer North London","Outer South East London","Outer South London","Outer South West London","Outer West London","Oxford","Peaks & Dales","Peterborough","Plymouth","Portsmouth","Reading","Richmond & Hambleton","Rotherham","Rugby & East","Salisbury","Scarborough","Scunthorpe","Sheffield","Shropshire","Solihull","South Cheshire","South Devon","South East Herts","South West Essex","South West Herts","Southampton","Southend","Southport","Southern Greater Manchester","St Helens","Staffordshire North","Stevenage & North Herts","Sunderland","Sussex East","Swindon","Tameside & Glossop","Taunton & West Somerset","Teesside","Thanet","Tyneside","Wakefield","Walton","Warwickshire South","West Cheshire","West Cumbria","West Pennine","West Wiltshire","Weston-S-Mare","Wigan","Winchester","Wirral","Wolds and Coast","Worcester North","Worcester South","Worthing","Yeovil","York"]')},6677:e=>{"use strict";e.exports=async(e,t)=>{e.postMessage(t)}},6706:e=>{"use strict";e.exports={workerBlobURL:!0,logger:()=>{}}},7092:e=>{"use strict";e.exports={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,a=e[i];if(!(0<s(a,t)))break e;e[i]=t,e[n]=a,n=i}}function i(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,a=e.length,r=a>>>1;i<r;){var o=2*(i+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,n))c<a&&0>s(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<a&&0>s(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var r=performance;t.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,u=null,p=3,m=!1,f=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=i(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function w(e){if(g=!1,x(e),!f)if(null!==i(c))f=!0,T(N);else{var t=i(d);null!==t&&I(w,t.startTime-e)}}function N(e,n){f=!1,g&&(g=!1,b(C),C=-1),m=!0;var s=p;try{for(x(n),u=i(c);null!==u&&(!(u.expirationTime>n)||e&&!E());){var r=u.callback;if("function"===typeof r){u.callback=null,p=u.priorityLevel;var o=r(u.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?u.callback=o:u===i(c)&&a(c),x(n)}else a(c);u=i(c)}if(null!==u)var l=!0;else{var h=i(d);null!==h&&I(w,h.startTime-n),l=!1}return l}finally{u=null,p=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var A,k=!1,j=null,C=-1,_=5,S=-1;function E(){return!(t.unstable_now()-S<_)}function M(){if(null!==j){var e=t.unstable_now();S=e;var n=!0;try{n=j(!0,e)}finally{n?A():(k=!1,j=null)}}else k=!1}if("function"===typeof y)A=function(){y(M)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=M,A=function(){L.postMessage(null)}}else A=function(){v(M,0)};function T(e){j=e,k||(k=!0,A())}function I(e,n){C=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||m||(f=!0,T(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,s){var r=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?r+s:r:s=r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>r?(e.sortIndex=s,n(d,e),null===i(c)&&e===i(d)&&(g?(b(C),C=-1):g=!0,I(w,s-r))):(e.sortIndex=o,n(c,e),f||m||(f=!0,T(N))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},7599:(e,t,n)=>{"use strict";var i=n(2897).default;const a="browser"===n(1734)("type")?e=>new URL(e,window.location.href).href:e=>e;e.exports=e=>{const t=i({},e);return["corePath","workerPath","langPath"].forEach(n=>{e[n]&&(t[n]=a(t[n]))}),t}},7736:(e,t,n)=>{var i=n(3738).default,a=n(9045);e.exports=function(e){var t=a(e,"string");return"symbol"==i(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8628:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(",");if(0===n.length)return!0;var i=e.name||"",a=(e.type||"").toLowerCase(),s=a.replace(/\/.*$/,"");return n.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?i.toLowerCase().endsWith(t):t.endsWith("/*")?s===t.replace(/\/.*$/,""):a===t})}return!0}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9045:(e,t,n)=>{var i=n(3738).default;e.exports=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=i(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9343:(e,t,n)=>{"use strict";var i=n(2897).default,a=n(1847).default;const s=["logger","errorHandler"],r=n(7599),o=n(5362),{log:l}=n(5597),c=n(1674),d=n(1600),{defaultOptions:h,spawnWorker:u,terminateWorker:p,onMessage:m,loadImage:f,send:g}=n(3919);let v=0;e.exports=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.LSTM_ONLY,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const y=c("Worker",v),x=r(i(i({},h),n)),{logger:w,errorHandler:N}=x,A=a(x,s),k={},j="string"===typeof e?e.split("+"):e;let C=t,_=b;const S=[d.DEFAULT,d.LSTM_ONLY].includes(t)&&!A.legacyCore;let E,M;const P=new Promise((e,t)=>{M=e,E=t});let L=u(A);L.onerror=e=>{E(e.message)},v+=1;const T=e=>{let{id:t,action:n,payload:i}=e;return new Promise((e,a)=>{l("[".concat(y,"]: Start ").concat(t,", action=").concat(n));const s="".concat(n,"-").concat(t);k[s]={resolve:e,reject:a},g(L,{workerId:y,jobId:t,action:n,payload:i})})},I=(e,t)=>T(o({id:t,action:"loadLanguage",payload:{langs:e,options:{langPath:A.langPath,dataPath:A.dataPath,cachePath:A.cachePath,cacheMethod:A.cacheMethod,gzip:A.gzip,lstmOnly:[d.DEFAULT,d.LSTM_ONLY].includes(C)&&!A.legacyLang}}})),F=(e,t,n,i)=>T(o({id:i,action:"initialize",payload:{langs:e,oem:t,config:n}}));m(L,e=>{let{workerId:t,jobId:n,status:a,action:s,data:r}=e;const o="".concat(s,"-").concat(n);if("resolve"===a)l("[".concat(t,"]: Complete ").concat(n)),k[o].resolve({jobId:n,data:r}),delete k[o];else if("reject"===a){if(k[o].reject(r),delete k[o],"load"===s&&E(r),!N)throw Error(r);N(r)}else"progress"===a&&w(i(i({},r),{},{userJobId:n}))});const R={id:y,worker:L,load:()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),writeText:(e,t,n)=>T(o({id:n,action:"FS",payload:{method:"writeFile",args:[e,t]}})),readText:(e,t)=>T(o({id:t,action:"FS",payload:{method:"readFile",args:[e,{encoding:"utf8"}]}})),removeFile:(e,t)=>T(o({id:t,action:"FS",payload:{method:"unlink",args:[e]}})),FS:(e,t,n)=>T(o({id:n,action:"FS",payload:{method:e,args:t}})),reinitialize:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"eng",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(S&&[d.TESSERACT_ONLY,d.TESSERACT_LSTM_COMBINED].includes(t))throw Error("Legacy model requested but code missing.");const a=t||C;C=a;const s=n||_;_=s;const r=("string"===typeof e?e.split("+"):e).filter(e=>!j.includes(e));return j.push(...r),r.length>0?I(r,i).then(()=>F(e,a,s,i)):F(e,a,s,i)},setParameters:function(){return T(o({id:arguments.length>1?arguments[1]:void 0,action:"setParameters",payload:{params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}))},recognize:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{text:!0};return T(o({id:arguments.length>3?arguments[3]:void 0,action:"recognize",payload:{image:await f(e),options:t,output:n}}))},detect:async(e,t)=>{if(S)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return T(o({id:t,action:"detect",payload:{image:await f(e)}}))},terminate:async()=>(null!==L&&(p(L),L=null),Promise.resolve())};var D;return T(o({id:D,action:"load",payload:{options:{lstmOnly:S,corePath:A.corePath,logging:A.logging}}})).then(()=>I(e)).then(()=>F(e,t,b)).then(()=>M(R)).catch(()=>{}),P}},9379:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(4980);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){(0,i.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,a){if(1&a&&(i=this(i)),8&a)return i;if("object"===typeof i&&i){if(4&a&&i.__esModule)return i;if(16&a&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&i;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>r[e]=()=>i[e]);return r.default=()=>i,n.d(s,r),s}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,i)=>(n.f[i](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{239:"82cd0f4d",455:"546136ac",977:"6422bed6"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="universal-credit-calculator:";n.l=(i,a,s,r)=>{if(e[i])e[i].push(a);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var h=c[d];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=i),e[i]=[a];var u=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var a=e[i];if(delete e[i],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/calculator-Andrei/",(()=>{var e={792:0};n.f.j=(t,i)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)i.push(a[2]);else{var s=new Promise((n,i)=>a=e[t]=[n,i]);i.push(a[2]=s);var r=n.p+n.u(t),o=new Error;n.l(r,i=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",o.name="ChunkLoadError",o.type=s,o.request=r,a[1](o)}},"chunk-"+t,t)}};var t=(t,i)=>{var a,s,r=i[0],o=i[1],l=i[2],c=0;if(r.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(l)l(n)}for(t&&t(i);c<r.length;c++)s=r[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},i=self.webpackChunkuniversal_credit_calculator=self.webpackChunkuniversal_credit_calculator||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e=n(5043),t=n(4391);function i(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var a=n(9379);const s=["sri"],r=["page"],o=["page","matches"],l=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],d=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var h="popstate";function u(){return y(function(e,t){let{pathname:n="/",search:i="",hash:a=""}=b(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),g("",{pathname:n,search:i,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),i="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");i=-1===n?t:t.slice(0,n)}return i+"#"+("string"===typeof t?t:v(t))},function(e,t){m("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function p(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function f(e,t){return{usr:e.state,key:e.key,idx:t}}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return(0,a.A)((0,a.A)({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?b(t):t),{},{state:n,key:t&&t.key||i||Math.random().toString(36).substring(2,10)})}function v(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function b(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function y(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:r=!1}=i,o=s.history,l="POP",c=null,d=u();function u(){return(o.state||{idx:null}).idx}function p(){l="POP";let e=u(),t=null==e?null:e-d;d=e,c&&c({action:l,location:v.location,delta:t})}function m(e){return x(e)}null==d&&(d=0,o.replaceState((0,a.A)((0,a.A)({},o.state),{},{idx:d}),""));let v={get action(){return l},get location(){return e(s,o)},listen(e){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(h,p),c=e,()=>{s.removeEventListener(h,p),c=null}},createHref:e=>t(s,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let i=g(v.location,e,t);n&&n(i,e),d=u()+1;let a=f(i,d),h=v.createHref(i);try{o.pushState(a,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;s.location.assign(h)}r&&c&&c({action:l,location:v.location,delta:1})},replace:function(e,t){l="REPLACE";let i=g(v.location,e,t);n&&n(i,e),d=u();let a=f(i,d),s=v.createHref(i);o.replaceState(a,"",s),r&&c&&c({action:l,location:v.location,delta:0})},go:e=>o.go(e)};return v}function x(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),p(n,"No window.location.(origin|href) available to create URL");let i="string"===typeof e?e:v(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}new WeakMap;function w(e,t){return N(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function N(e,t,n,i){let a=D(("string"===typeof t?b(t):t).pathname||"/",n);if(null==a)return null;let s=A(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let r=null;for(let o=0;null==r&&o<s.length;++o){let e=R(a);r=T(s[o],e,i)}return r}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=function(e,s){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(i)&&r)return;p(l.relativePath.startsWith(i),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(i,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(i.length)}let c=z([i,l.relativePath]),d=n.concat(l);e.children&&e.children.length>0&&(p(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),A(e.children,t,d,c,r)),(null!=e.path||e.index)&&t.push({path:c,score:L(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let i of k(e.path))s(e,t,!0,i);else s(e,t)}),t}function k(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return a?[s,""]:[s];let r=k(i.join("/")),o=[];return o.push(...r.map(e=>""===e?s:[s,e].join("/"))),a&&o.push(...r),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var j=/^:[\w-]+$/,C=3,_=2,S=1,E=10,M=-2,P=e=>"*"===e;function L(e,t){let n=e.split("/"),i=n.length;return n.some(P)&&(i+=M),t&&(i+=_),n.filter(e=>!P(e)).reduce((e,t)=>e+(j.test(t)?C:""===t?S:E),i)}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:i}=e,a={},s="/",r=[];for(let o=0;o<i.length;++o){let e=i[o],l=o===i.length-1,c="/"===s?t:t.slice(s.length)||"/",d=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!d&&l&&n&&!i[i.length-1].route.index&&(d=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),r.push({params:a,pathname:z([s,d.pathname]),pathnameBase:U(z([s,d.pathnameBase])),route:h}),"/"!==d.pathnameBase&&(s=z([s,d.pathnameBase]))}return r}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=F(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],r=s.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:i.reduce((e,t,n)=>{let{paramName:i,isOptional:a}=t;if("*"===i){let e=o[n]||"";r=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[i]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:r,pattern:e}}function F(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function R(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function B(e,t,n,i){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(i),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function W(e){let t=O(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function H(e,t,n){let i,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?i=b(e):(i=(0,a.A)({},e),p(!i.pathname||!i.pathname.includes("?"),B("?","pathname","search",i)),p(!i.pathname||!i.pathname.includes("#"),B("#","pathname","hash",i)),p(!i.search||!i.search.includes("#"),B("#","search","hash",i)));let r,o=""===e||""===i.pathname,l=o?"/":i.pathname;if(null==l)r=n;else{let e=t.length-1;if(!s&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:i="",hash:a=""}="string"===typeof e?b(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:q(i),hash:G(a)}}(i,r),d=l&&"/"!==l&&l.endsWith("/"),h=(o||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!h||(c.pathname+="/"),c}var z=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",G=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function V(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Y=["POST","PUT","PATCH","DELETE"],K=(new Set(Y),["GET",...Y]);new Set(K),Symbol("ResetLoaderData");var X=e.createContext(null);X.displayName="DataRouter";var J=e.createContext(null);J.displayName="DataRouterState";var Q=e.createContext(!1);var Z=e.createContext({isTransitioning:!1});Z.displayName="ViewTransition";var $=e.createContext(new Map);$.displayName="Fetchers";var ee=e.createContext(null);ee.displayName="Await";var te=e.createContext(null);te.displayName="Navigation";var ne=e.createContext(null);ne.displayName="Location";var ie=e.createContext({outlet:null,matches:[],isDataRoute:!1});ie.displayName="Route";var ae=e.createContext(null);ae.displayName="RouteError";function se(){return null!=e.useContext(ne)}function re(){return p(se(),"useLocation() may be used only in the context of a <Router> component."),e.useContext(ne).location}var oe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function le(t){e.useContext(te).static||e.useLayoutEffect(t)}function ce(){let{isDataRoute:t}=e.useContext(ie);return t?function(){let{router:t}=be("useNavigate"),n=xe("useNavigate"),i=e.useRef(!1);le(()=>{i.current=!0});let s=e.useCallback(async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(i.current,oe),i.current&&("number"===typeof e?t.navigate(e):await t.navigate(e,(0,a.A)({fromRouteId:n},s)))},[t,n]);return s}():function(){p(se(),"useNavigate() may be used only in the context of a <Router> component.");let t=e.useContext(X),{basename:n,navigator:i}=e.useContext(te),{matches:a}=e.useContext(ie),{pathname:s}=re(),r=JSON.stringify(W(a)),o=e.useRef(!1);le(()=>{o.current=!0});let l=e.useCallback(function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m(o.current,oe),!o.current)return;if("number"===typeof e)return void i.go(e);let l=H(e,JSON.parse(r),s,"path"===a.relative);null==t&&"/"!==n&&(l.pathname="/"===l.pathname?n:z([n,l.pathname])),(a.replace?i.replace:i.push)(l,a.state,a)},[n,i,r,s,t]);return l}()}e.createContext(null);function de(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:i}=e.useContext(ie),{pathname:a}=re(),s=JSON.stringify(W(i));return e.useMemo(()=>H(t,JSON.parse(s),a,"path"===n),[t,s,a,n])}function he(t,n,i,s,r){p(se(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=e.useContext(te),{matches:l}=e.useContext(ie),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",u=c?c.pathnameBase:"/",f=c&&c.route;{let e=f&&f.path||"";Ae(h,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(h,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let g,v=re();if(n){var y;let e="string"===typeof n?b(n):n;p("/"===u||(null===(y=e.pathname)||void 0===y?void 0:y.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),g=e}else g=v;let x=g.pathname||"/",N=x;if("/"!==u){let e=u.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let A=w(t,{pathname:N});m(f||null!=A,'No routes matched location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" ')),m(null==A||void 0!==A[A.length-1].route.element||void 0!==A[A.length-1].route.Component||void 0!==A[A.length-1].route.lazy,'Matched leaf route at location "'.concat(g.pathname).concat(g.search).concat(g.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=ge(A&&A.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:z([u,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:z([u,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,i,s,r);return n&&k?e.createElement(ne.Provider,{value:{location:(0,a.A)({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:"POP"}},k):k}function ue(){let t=we(),n=V(t)?"".concat(t.status," ").concat(t.statusText):t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},r={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=e.createElement(e.Fragment,null,e.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),e.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",e.createElement("code",{style:r},"ErrorBoundary")," or"," ",e.createElement("code",{style:r},"errorElement")," prop on your route.")),e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),i?e.createElement("pre",{style:s},i):null,o)}var pe=e.createElement(ue,null),me=class extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?e.createElement(ie.Provider,{value:this.props.routeContext},e.createElement(ae.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fe(t){let{routeContext:n,match:i,children:a}=t,s=e.useContext(X);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),e.createElement(ie.Provider,{value:n},a)}function ge(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==t){if(!i)return null;if(i.errors)t=i.matches;else{if(0!==n.length||i.initialized||!(i.matches.length>0))return null;t=i.matches}}let s=t,r=null===i||void 0===i?void 0:i.errors;if(null!=r){let e=s.findIndex(e=>e.route.id&&void 0!==(null===r||void 0===r?void 0:r[e.route.id]));p(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(r).join(","))),s=s.slice(0,Math.min(s.length,e+1))}let o=!1,l=-1;if(i)for(let e=0;e<s.length;e++){let t=s[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(l=e),t.route.id){let{loaderData:e,errors:n}=i,a=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!n||void 0===n[t.route.id]);if(t.route.lazy||a){o=!0,s=l>=0?s.slice(0,l+1):[s[0]];break}}}return s.reduceRight((t,c,d)=>{let h,u=!1,p=null,m=null;i&&(h=r&&c.route.id?r[c.route.id]:void 0,p=c.route.errorElement||pe,o&&(l<0&&0===d?(Ae("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,m=null):l===d&&(u=!0,m=c.route.hydrateFallbackElement||null)));let f=n.concat(s.slice(0,d+1)),g=()=>{let n;return n=h?p:u?m:c.route.Component?e.createElement(c.route.Component,null):c.route.element?c.route.element:t,e.createElement(fe,{match:c,routeContext:{outlet:t,matches:f,isDataRoute:null!=i},children:n})};return i&&(c.route.ErrorBoundary||c.route.errorElement||0===d)?e.createElement(me,{location:i.location,revalidation:i.revalidation,component:p,error:h,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0},unstable_onError:a}):g()},null)}function ve(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function be(t){let n=e.useContext(X);return p(n,ve(t)),n}function ye(t){let n=e.useContext(J);return p(n,ve(t)),n}function xe(t){let n=function(t){let n=e.useContext(ie);return p(n,ve(t)),n}(t),i=n.matches[n.matches.length-1];return p(i.route.id,"".concat(t,' can only be used on routes that contain a unique "id"')),i.route.id}function we(){var t;let n=e.useContext(ae),i=ye("useRouteError"),a=xe("useRouteError");return void 0!==n?n:null===(t=i.errors)||void 0===t?void 0:t[a]}var Ne={};function Ae(e,t,n){t||Ne[e]||(Ne[e]=!0,m(!1,n))}var ke={};function je(e,t){e||ke[t]||(ke[t]=!0,console.warn(t))}e.memo(function(e){let{routes:t,future:n,state:i,unstable_onError:a}=e;return he(t,void 0,i,a,n)});function Ce(e){p(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _e(t){let{basename:n="/",children:i=null,location:a,navigationType:s="POP",navigator:r,static:o=!1}=t;p(!se(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=e.useMemo(()=>({basename:l,navigator:r,static:o,future:{}}),[l,r,o]);"string"===typeof a&&(a=b(a));let{pathname:d="/",search:h="",hash:u="",state:f=null,key:g="default"}=a,v=e.useMemo(()=>{let e=D(d,l);return null==e?null:{location:{pathname:e,search:h,hash:u,state:f,key:g},navigationType:s}},[l,d,h,u,f,g,s]);return m(null!=v,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(h).concat(u,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==v?null:e.createElement(te.Provider,{value:c},e.createElement(ne.Provider,{children:i,value:v}))}function Se(e){let{children:t,location:n}=e;return he(Ee(t),n)}e.Component;function Ee(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=[];return e.Children.forEach(t,(t,a)=>{if(!e.isValidElement(t))return;let s=[...n,a];if(t.type===e.Fragment)return void i.push.apply(i,Ee(t.props.children,s));p(t.type===Ce,"[".concat("string"===typeof t.type?t.type:t.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),p(!t.props.index||!t.props.children,"An index route cannot have child routes.");let r={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,hydrateFallbackElement:t.props.hydrateFallbackElement,HydrateFallback:t.props.HydrateFallback,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:!0===t.props.hasErrorBoundary||null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(r.children=Ee(t.props.children,s)),i.push(r)}),i}var Me="get",Pe="application/x-www-form-urlencoded";function Le(e){return null!=e&&"string"===typeof e.tagName}var Te=null;var Ie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fe(e){return null==e||Ie.has(e)?e:(m(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Pe,'"')),null)}function Re(e,t){let n,i,a,s,r;if(Le(o=e)&&"form"===o.tagName.toLowerCase()){let r=e.getAttribute("action");i=r?D(r,t):null,n=e.getAttribute("method")||Me,a=Fe(e.getAttribute("enctype"))||Pe,s=new FormData(e)}else if(function(e){return Le(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Le(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let r=e.form;if(null==r)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||r.getAttribute("action");if(i=o?D(o,t):null,n=e.getAttribute("formmethod")||r.getAttribute("method")||Me,a=Fe(e.getAttribute("formenctype"))||Fe(r.getAttribute("enctype"))||Pe,s=new FormData(r,e),!function(){if(null===Te)try{new FormData(document.createElement("form"),0),Te=!1}catch(e){Te=!0}return Te}()){let{name:t,type:n,value:i}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,i)}}else{if(Le(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Me,i=null,a=Pe,r=e}var o;return s&&"text/plain"===a&&(r=s,s=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:s,body:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function De(e){return{__html:e}}function Be(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Oe(e,t,n){let i="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===i.pathname?i.pathname="_root.".concat(n):t&&"/"===D(i.pathname,t)?i.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):i.pathname="".concat(i.pathname.replace(/\/$/,""),".").concat(n),i}async function We(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function He(e){return null!=e&&"string"===typeof e.page}function ze(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ue(e,t,n,i,a,s){let r=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var i;return n[t].pathname!==e.pathname||(null===(i=n[t].route.path)||void 0===i?void 0:i.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter((e,t)=>r(e,t)||o(e,t)):"data"===s?t.filter((t,s)=>{let l=i.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(r(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let i=t.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof i)return i}return!0}):[]}function qe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=e.map(e=>{let i=t.routes[e.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1),[...new Set(i)];var i}function Ge(e,t){let n=new Set,i=new Set(t);return e.reduce((e,a)=>{if(t&&!He(a)&&"script"===a.as&&a.href&&i.has(a.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}(a));return n.has(s)||(n.add(s),e.push({key:s,link:a})),e},[])}function Ve(e,t){return"lazy"===e.mode&&!0===t}function Ye(){let t=e.useContext(X);return Be(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ke(){let t=e.useContext(J);return Be(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Xe=e.createContext(void 0);function Je(){let t=e.useContext(Xe);return Be(t,"You must render this element inside a <HydratedRouter> element"),t}function Qe(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ze(e,t,n){if(n&&!nt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Xe.displayName="FrameworkContext";function $e(t){let{page:n}=t,s=i(t,r),{router:o}=Ye(),l=e.useMemo(()=>w(o.routes,n,o.basename),[o.routes,n,o.basename]);return l?e.createElement(tt,(0,a.A)({page:n,matches:l},s)):null}function et(t){let{manifest:n,routeModules:i}=Je(),[s,r]=e.useState([]);return e.useEffect(()=>{let e=!1;return async function(e,t,n){let i=await Promise.all(e.map(async e=>{let i=t.routes[e.route.id];if(i){let e=await We(i,n);return e.links?e.links():[]}return[]}));return Ge(i.flat(1).filter(ze).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?(0,a.A)((0,a.A)({},e),{},{rel:"prefetch",as:"style"}):(0,a.A)((0,a.A)({},e),{},{rel:"prefetch"})))}(t,n,i).then(t=>{e||r(t)}),()=>{e=!0}},[t,n,i]),s}function tt(t){let{page:n,matches:s}=t,r=i(t,o),l=re(),{manifest:c,routeModules:d}=Je(),{basename:h}=Ye(),{loaderData:u,matches:p}=Ke(),m=e.useMemo(()=>Ue(n,s,p,c,l,"data"),[n,s,p,c,l]),f=e.useMemo(()=>Ue(n,s,p,c,l,"assets"),[n,s,p,c,l]),g=e.useMemo(()=>{if(n===l.pathname+l.search+l.hash)return[];let e=new Set,t=!1;if(s.forEach(n=>{var i;let a=c.routes[n.route.id];a&&a.hasLoader&&(!m.some(e=>e.route.id===n.route.id)&&n.route.id in u&&null!==(i=d[n.route.id])&&void 0!==i&&i.shouldRevalidate||a.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let i=Oe(n,h,"data");return t&&e.size>0&&i.searchParams.set("_routes",s.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[h,u,l,c,m,s,n,d]),v=e.useMemo(()=>qe(f,c),[f,c]),b=et(f);return e.createElement(e.Fragment,null,g.map(t=>e.createElement("link",(0,a.A)({key:t,rel:"prefetch",as:"fetch",href:t},r))),v.map(t=>e.createElement("link",(0,a.A)({key:t,rel:"modulepreload",href:t},r))),b.map(t=>{let{key:n,link:i}=t;return e.createElement("link",(0,a.A)({key:n,nonce:r.nonce},i))}))}var nt=!1;function it(t){let{manifest:n,serverHandoffString:r,isSpaMode:o,renderMeta:l,routeDiscovery:c,ssr:d}=Je(),{router:h,static:u,staticContext:p}=Ye(),{matches:m}=Ke(),f=e.useContext(Q),g=Ve(c,d);l&&(l.didRenderScripts=!0);let v=Ze(m,null,o);e.useEffect(()=>{0},[]);let b=e.useMemo(()=>{var o;if(f)return null;let l=p?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=u?"".concat(null!==n.hmr&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(v.map((e,t)=>{let i="route".concat(t),a=n.routes[e.route.id];Be(a,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:s,clientLoaderModule:r,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=a,d=[...s?[{module:s,varName:"".concat(i,"_clientAction")}]:[],...r?[{module:r,varName:"".concat(i,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(i,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(i,"_HydrateFallback")}]:[],{module:c,varName:"".concat(i,"_main")}];return 1===d.length?"import * as ".concat(i," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(i," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=i(e,s),o=new Set(t.state.matches.map(e=>e.route.id)),l=t.state.location.pathname.split("/").filter(Boolean),c=["/"];for(l.pop();l.length>0;)c.push("/".concat(l.join("/"))),l.pop();c.forEach(e=>{let n=w(t.routes,e,t.basename);n&&n.forEach(e=>o.add(e.route.id))});let d=[...o].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return(0,a.A)((0,a.A)({},r),{},{routes:d,sri:!!n||void 0})}(n,h),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return e.createElement(e.Fragment,null,e.createElement("script",(0,a.A)((0,a.A)({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:De(l),type:void 0})),e.createElement("script",(0,a.A)((0,a.A)({},t),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:De(c),type:"module",async:!0})))},[]),y=nt||f?[]:(n.entry.imports.concat(qe(v,n,{includeHydrateFallback:!0})),[...new Set(x)]);var x;let N="object"===typeof n.sri?n.sri:{};return je(!f,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),nt||f?null:e.createElement(e.Fragment,null,"object"===typeof n.sri?e.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:N})}}):null,g?null:e.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:t.crossOrigin,integrity:N[n.url],suppressHydrationWarning:!0}),e.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:t.crossOrigin,integrity:N[n.entry.module],suppressHydrationWarning:!0}),y.map(n=>e.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:t.crossOrigin,integrity:N[n],suppressHydrationWarning:!0})),b)}function at(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}e.Component;function st(t){let{error:n,isOutsideRemixApp:i}=t;console.error(n);let a,s=e.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(V(n))return e.createElement(rt,{title:"Unhandled Thrown Response!"},e.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return e.createElement(rt,{title:"Application Error!",isOutsideRemixApp:i},e.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),e.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},a.stack),s)}function rt(t){var n;let{title:i,renderScripts:a,isOutsideRemixApp:s,children:r}=t,{routeModules:o}=Je();return null!==o.root&&void 0!==n&&n.Layout&&!s?r:e.createElement("html",{lang:"en"},e.createElement("head",null,e.createElement("meta",{charSet:"utf-8"}),e.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),e.createElement("title",null,i)),e.createElement("body",null,e.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},r,a?e.createElement(it,null):null)))}var ot="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ot&&(window.__reactRouterVersion="7.8.2")}catch(yN){}function lt(t){let{basename:n,children:i,window:a}=t,s=e.useRef();null==s.current&&(s.current=u({window:a,v5Compat:!0}));let r=s.current,[o,l]=e.useState({action:r.action,location:r.location}),c=e.useCallback(t=>{e.startTransition(()=>l(t))},[l]);return e.useLayoutEffect(()=>r.listen(c),[r,c]),e.createElement(_e,{basename:n,children:i,location:o.location,navigationType:o.action,navigator:r})}var ct=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dt=e.forwardRef(function(t,n){let s,{onClick:r,discover:o="render",prefetch:c="none",relative:d,reloadDocument:h,replace:u,state:f,target:g,to:b,preventScrollReset:y,viewTransition:x}=t,w=i(t,l),{basename:N}=e.useContext(te),A="string"===typeof b&&ct.test(b),k=!1;if("string"===typeof b&&A&&(s=b,ot))try{let e=new URL(window.location.href),t=b.startsWith("//")?new URL(e.protocol+b):new URL(b),n=D(t.pathname,N);t.origin===e.origin&&null!=n?b=n+t.search+t.hash:k=!0}catch(yN){m(!1,'<Link to="'.concat(b,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let j=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(se(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=e.useContext(te),{hash:s,pathname:r,search:o}=de(t,{relative:n}),l=r;return"/"!==i&&(l="/"===r?i:z([i,r])),a.createHref({pathname:l,search:o,hash:s})}(b,{relative:d}),[C,_,S]=function(t,n){let i=e.useContext(Xe),[a,s]=e.useState(!1),[r,o]=e.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:u}=n,p=e.useRef(null);e.useEffect(()=>{if("render"===t&&o(!0),"viewport"===t){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[t]),e.useEffect(()=>{if(a){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[a]);let m=()=>{s(!0)},f=()=>{s(!1),o(!1)};return i?"intent"!==t?[r,p,{}]:[r,p,{onFocus:Qe(l,m),onBlur:Qe(c,f),onMouseEnter:Qe(d,m),onMouseLeave:Qe(h,f),onTouchStart:Qe(u,m)}]:[!1,p,{}]}(c,w),E=function(t){let{target:n,replace:i,state:a,preventScrollReset:s,relative:r,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=ce(),c=re(),d=de(t,{relative:r});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,n)){e.preventDefault();let n=void 0!==i?i:v(c)===v(d);l(t,{replace:n,state:a,preventScrollReset:s,relative:r,viewTransition:o})}},[c,l,d,i,a,n,t,s,r,o])}(b,{replace:u,state:f,target:g,preventScrollReset:y,relative:d,viewTransition:x});let M=e.createElement("a",(0,a.A)((0,a.A)((0,a.A)({},w),S),{},{href:s||j,onClick:k||h?r:function(e){r&&r(e),e.defaultPrevented||E(e)},ref:at(n,_),target:g,"data-discover":A||"render"!==o?void 0:"true"}));return C&&!A?e.createElement(e.Fragment,null,M,e.createElement($e,{page:j})):M});dt.displayName="Link",e.forwardRef(function(t,n){let{"aria-current":s="page",caseSensitive:r=!1,className:o="",end:l=!1,style:d,to:h,viewTransition:u,children:m}=t,f=i(t,c),g=de(h,{relative:f.relative}),v=re(),b=e.useContext(J),{navigator:y,basename:x}=e.useContext(te),w=null!=b&&function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.useContext(Z);p(null!=i,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=pt("useViewTransitionState"),s=de(t,{relative:n});if(!i.isTransitioning)return!1;let r=D(i.currentLocation.pathname,a)||i.currentLocation.pathname,o=D(i.nextLocation.pathname,a)||i.nextLocation.pathname;return null!=I(s.pathname,o)||null!=I(s.pathname,r)}(g)&&!0===u,N=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,A=v.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(A=A.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&x&&(k=D(k,x)||k);const j="/"!==N&&N.endsWith("/")?N.length-1:N.length;let C,_=A===N||!l&&A.startsWith(N)&&"/"===A.charAt(j),S=null!=k&&(k===N||!l&&k.startsWith(N)&&"/"===k.charAt(N.length)),E={isActive:_,isPending:S,isTransitioning:w},M=_?s:void 0;C="function"===typeof o?o(E):[o,_?"active":null,S?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof d?d(E):d;return e.createElement(dt,(0,a.A)((0,a.A)({},f),{},{"aria-current":M,className:C,ref:n,style:P,to:h,viewTransition:u}),"function"===typeof m?m(E):m)}).displayName="NavLink";var ht=e.forwardRef((t,n)=>{let{discover:s="render",fetcherKey:r,navigate:o,reloadDocument:l,replace:c,state:h,method:u=Me,action:m,onSubmit:f,relative:g,preventScrollReset:b,viewTransition:y}=t,x=i(t,d),w=gt(),N=function(t){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:i}=e.useContext(te),s=e.useContext(ie);p(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),o=(0,a.A)({},de(t||".",{relative:n})),l=re();if(null==t){o.search=l.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?"?".concat(n):""}}t&&"."!==t||!r.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==i&&(o.pathname="/"===o.pathname?i:z([i,o.pathname]));return v(o)}(m,{relative:g}),A="get"===u.toLowerCase()?"get":"post",k="string"===typeof m&&ct.test(m);return e.createElement("form",(0,a.A)((0,a.A)({ref:n,method:A,action:N,onSubmit:l?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;w(t||e.currentTarget,{fetcherKey:r,method:n,navigate:o,replace:c,state:h,relative:g,preventScrollReset:b,viewTransition:y})}},x),{},{"data-discover":k||"render"!==s?void 0:"true"}))});function ut(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function pt(t){let n=e.useContext(X);return p(n,ut(t)),n}ht.displayName="Form";var mt=0,ft=()=>"__".concat(String(++mt),"__");function gt(){let{router:t}=pt("useSubmit"),{basename:n}=e.useContext(te),i=xe("useRouteId");return e.useCallback(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:r,encType:o,formData:l,body:c}=Re(e,n);if(!1===a.navigate){let e=a.fetcherKey||ft();await t.fetch(e,i,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||r,formEncType:a.encType||o,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:c,formMethod:a.method||r,formEncType:a.encType||o,replace:a.replace,state:a.state,fromRouteId:i,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,n,i])}let vt=[],bt=[],yt=[],xt={};try{vt=n(6221)}catch(yN){vt=[]}try{bt=n(452)}catch(yN){bt=[]}try{yt=n(3396)}catch(yN){yt=[]}try{xt=n(1572)}catch(yN){xt={}}const wt={Birmingham:{shared:78.61,"1bed":159.95,"2bed":172.6,"3bed":189.86,"4bed":253.15},Manchester:{shared:80.55,"1bed":132.33,"2bed":142.68,"3bed":156.49,"4bed":218.63},Liverpool:{shared:73.35,"1bed":97.81,"2bed":120.82,"3bed":149.59,"4bed":189.86},Leeds:{shared:80.55,"1bed":132.33,"2bed":142.68,"3bed":156.49,"4bed":218.63},Sheffield:{shared:80.55,"1bed":132.33,"2bed":142.68,"3bed":156.49,"4bed":218.63},Bradford:{shared:80.55,"1bed":132.33,"2bed":142.68,"3bed":156.49,"4bed":218.63},Newcastle:{shared:80.55,"1bed":132.33,"2bed":142.68,"3bed":156.49,"4bed":218.63},Bristol:{shared:103.87,"1bed":133.48,"2bed":172.6,"3bed":212.88,"4bed":287.67},"Central London":{shared:120,"1bed":250,"2bed":350,"3bed":450,"4bed":600},"Inner London":{shared:110,"1bed":220,"2bed":300,"3bed":380,"4bed":500},"Outer London":{shared:100,"1bed":200,"2bed":280,"3bed":350,"4bed":450},Brighton:{shared:95,"1bed":180,"2bed":250,"3bed":320,"4bed":400},Oxford:{shared:90,"1bed":170,"2bed":240,"3bed":310,"4bed":390},Cambridge:{shared:88,"1bed":165,"2bed":235,"3bed":305,"4bed":385},Bath:{shared:85,"1bed":160,"2bed":230,"3bed":300,"4bed":380},York:{shared:82,"1bed":155,"2bed":225,"3bed":295,"4bed":375},Nottingham:{shared:78,"1bed":150,"2bed":220,"3bed":290,"4bed":370},Leicester:{shared:76,"1bed":145,"2bed":215,"3bed":285,"4bed":365},Coventry:{shared:74,"1bed":140,"2bed":210,"3bed":280,"4bed":360},Stoke:{shared:72,"1bed":135,"2bed":205,"3bed":275,"4bed":355},Derby:{shared:70,"1bed":130,"2bed":200,"3bed":270,"4bed":350},Edinburgh:{shared:415.01,"1bed":459.99,"2bed":650,"3bed":800,"4bed":1300.01},Glasgow:{shared:449.99,"1bed":695.02,"2bed":850.02,"3bed":969.99,"4bed":1800.01},Aberdeen:{shared:380,"1bed":420,"2bed":580,"3bed":720,"4bed":1100},Cardiff:{shared:366.09,"1bed":650,"2bed":824.99,"3bed":925.01,"4bed":1300.01},Swansea:{shared:320,"1bed":580,"2bed":750,"3bed":850,"4bed":1200},Newport:{shared:340,"1bed":600,"2bed":780,"3bed":880,"4bed":1250},Default:{shared:400,"1bed":600,"2bed":750,"3bed":900,"4bed":1200}},Nt=()=>{const e=[];return Array.isArray(vt)&&vt.length>0&&e.push({label:"England",options:vt}),Array.isArray(bt)&&bt.length>0&&e.push({label:"Scotland",options:bt}),Array.isArray(yt)&&yt.length>0&&e.push({label:"Wales",options:yt}),e},At=(e,t)=>{const n=xt[e]||wt[e]||wt.Default,i=xt[e];switch(t){case"shared":return i?n.shared:kt(n.shared);case 1:default:return i?n["1bed"]:kt(n["1bed"]);case 2:return i?n["2bed"]:kt(n["2bed"]);case 3:return i?n["3bed"]:kt(n["3bed"]);case 4:return i?n["4bed"]:kt(n["4bed"])}},kt=e=>e;class jt{constructor(){this.rates={"2025_26":{standardAllowance:{single:{under25:316.98,over25:400.14},couple:{under25:497.55,over25:628.1}},childElement:{preTwoChildLimit:339,postTwoChildLimit:292.81},disabledChildElement:{lowerRate:158.76,higherRate:495.87},childcareElement:{maxPercentage:85,maxAmountOneChild:1031.88,maxAmountTwoOrMore:1768.94},workAllowance:{single:{withHousing:411,withoutHousing:684},couple:{withHousing:411,withoutHousing:684}},taperRate:.55,carerElement:201.68,lcwraElement:423.27,capitalLowerLimit:6e3,capitalUpperLimit:16e3,capitalDeductionRate:.04,pensionThresholds:{lowerEarningsLimit:6240,upperEarningsLimit:50270},lhaRates:{shared:300,oneBed:400,twoBed:500,threeBed:600,fourBed:700}},"2024_25":{standardAllowance:{single:{under25:311.68,over25:393.45},couple:{under25:489.23,over25:617.6}},childElement:{first:315,additional:269.58},childcareElement:{maxPercentage:85,maxAmount:950.92},workAllowance:{single:{withHousing:411,withoutHousing:684},couple:{withHousing:411,withoutHousing:684}},taperRate:.55,carerElement:201.68,lcwraElement:423.27,capitalLowerLimit:6e3,capitalUpperLimit:16e3,capitalDeductionRate:.04,pensionThresholds:{lowerEarningsLimit:6240,upperEarningsLimit:50270},lhaRates:{shared:300,oneBed:400,twoBed:500,threeBed:600,fourBed:700}},"2023_24":{standardAllowance:{single:{under25:292.11,over25:368.74},couple:{under25:458.51,over25:578.82}},childElement:{first:315,additional:269.58},childcareElement:{maxPercentage:85,maxAmount:950.92},workAllowance:{single:{withHousing:411,withoutHousing:684},couple:{withHousing:411,withoutHousing:684}},taperRate:.55,carerElement:201.68,lcwraElement:423.27,capitalLowerLimit:6e3,capitalUpperLimit:16e3,capitalDeductionRate:.04,lhaRates:{shared:300,oneBed:400,twoBed:500,threeBed:600,fourBed:700}}}}async initialize(){return console.log("Universal Credit Calculator initialized"),!0}calculate(e){try{const t=e.taxYear||"2025_26",n=this.rates[t];if(console.log("Calculator received input:",e),console.log("Calculator using tax year:",t),console.log("Calculator rates:",n),!n)throw new Error("Tax year ".concat(t," not supported"));const i=this.calculateStandardAllowance(e,n),{amount:a,lhaDetails:s}=this.calculateHousingElement(e,n),r=this.calculateChildElement(e,n),o=this.calculateChildcareElement(e,n),l=this.calculateCarerElement(e,n),c=this.calculateLCWRAElement(e,n),d=i+a+r+o+l+c,h=this.calculateWorkAllowance(e,n),u=this.calculateEarningsReduction(e,n,d),p=this.calculateCapitalDeduction(e,d,n),m=this.calculateBenefitDeduction(e),f=Math.max(0,d-u-p.deduction-m);return{success:!0,taxYear:t,calculation:{standardAllowance:i,housingElement:a,childElement:r,childcareElement:o,carerElement:l,lcwraElement:c,totalElements:d,workAllowance:h,earningsReduction:u,capitalDeduction:p.deduction,capitalDeductionDetails:p,benefitDeduction:m,finalAmount:f,lhaDetails:s},warnings:this.generateWarnings(e),calculatedAt:(new Date).toISOString()}}catch(t){return{success:!1,errors:[t.message],calculatedAt:(new Date).toISOString()}}}calculateStandardAllowance(e,t){const{circumstances:n,age:i,partnerAge:a}=e,s=t.standardAllowance;if("single"===n)return i<25?s.single.under25:s.single.over25;return Math.max(i,a)<25?s.couple.under25:s.couple.over25}calculateHousingElement(e,t){const{rent:n=0,serviceCharges:i=0,tenantType:s,bedrooms:r,brma:o,age:l=25,partnerAge:c=25,circumstances:d="single",children:h=0,childAges:u=[],childGenders:p=[]}=e;if("private"===s){const e=this.calculateBedroomEntitlement({circumstances:d,children:h,childAges:u,childGenders:p,age:l,partnerAge:c});let s=null,r=null;if(o&&(s=At(o,e),r=kt(s)),!r){let n=t.lhaRates.oneBed;"shared"===e||0===e?n=t.lhaRates.shared:2===e?n=t.lhaRates.twoBed:3===e?n=t.lhaRates.threeBed:e>=4&&(n=t.lhaRates.fourBed),r=n}const m=Math.min(n+i,r);let f={};return f=o?(e=>{const t=xt[e]||wt[e]||wt.Default;return{sharedRate:t.shared,oneBedRate:t["1bed"],twoBedRate:t["2bed"],threeBedRate:t["3bed"],fourBedRate:t["4bed"]}})(o):{sharedRate:t.lhaRates.shared,oneBedRate:t.lhaRates.oneBed,twoBedRate:t.lhaRates.twoBed,threeBedRate:t.lhaRates.threeBed,fourBedRate:t.lhaRates.fourBed},{amount:m,lhaDetails:(0,a.A)({brma:o||"Not selected",bedroomEntitlement:e,lhaWeekly:s||null,lhaMonthly:r,actualRent:n+i,eligibleRent:m,shortfall:Math.max(0,n+i-r)},f)}}return{amount:n+i,lhaDetails:null}}calculateBedroomEntitlement(e){const{circumstances:t,children:n,childAges:i,childGenders:a}=e;if(0===n)return 1;if(1===n)return 2;const s=[];for(let l=0;l<n;l++)s.push({age:i[l]||0,gender:a[l]||"unknown"});s.sort((e,t)=>e.age-t.age);const r=[],o=new Set;for(let l=0;l<s.length;l++){if(o.has(l))continue;const e=s[l],t=[e];o.add(l);for(let n=l+1;n<s.length;n++){if(o.has(n))continue;const i=s[n];(e.gender===i.gender||e.age<10&&i.age<10)&&(t.push(i),o.add(n))}r.push(t)}return 1+r.length}calculateChildElement(e,t){const{children:n,childAges:i,childDisabilities:a}=e;if(0===n)return 0;const s=new Date("2017-04-06");let r=0;if(i&&i.length>0)for(let o=0;o<Math.min(n,i.length);o++){const e=i[o],n=new Date;r+=new Date(n.getFullYear()-e,n.getMonth(),n.getDate())<s?t.childElement.preTwoChildLimit:t.childElement.postTwoChildLimit}else 1===n?r=t.childElement.preTwoChildLimit:(r=t.childElement.preTwoChildLimit,r+=(n-1)*t.childElement.postTwoChildLimit);if(a&&a.length>0&&t.disabledChildElement)for(let o=0;o<a.length;o++){const e=a[o];"lower"===e?r+=t.disabledChildElement.lowerRate:"higher"===e&&(r+=t.disabledChildElement.higherRate)}return r}calculateChildcareElement(e,t){const{childcareCosts:n,children:i}=e;if(0===i||0===n)return 0;const a=1===i?t.childcareElement.maxAmountOneChild:t.childcareElement.maxAmountTwoOrMore,s=t.childcareElement.maxPercentage/100;return Math.min(n*s,a)}calculateCarerElement(e,t){const{isCarer:n,isPartnerCarer:i,circumstances:a,includeCarerElement:s,partnerIncludeCarerElement:r}=e;let o=0;return"yes"===n&&"yes"===s&&(o+=t.carerElement),"couple"===a&&"yes"===i&&"yes"===r&&(o+=t.carerElement),o}calculateLCWRAElement(e,t){const{hasLCWRA:n,partnerHasLCWRA:i,circumstances:a}=e;console.log("LCWRA Debug:",{hasLCWRA:n,partnerHasLCWRA:i,circumstances:a,rates:t.lcwraElement});let s=0;return"yes"===n&&(s+=t.lcwraElement,console.log("Main person LCWRA added:",t.lcwraElement)),"couple"===a&&"yes"===i&&(s+=t.lcwraElement,console.log("Partner LCWRA added:",t.lcwraElement)),console.log("Total LCWRA element:",s),s}calculatePensionContribution(e,t,n,i,a){if(!e||e<=0)return 0;const s=12*e,r=a.pensionThresholds.lowerEarningsLimit,o=a.pensionThresholds.upperEarningsLimit;if(s<=r)return 0;const l=Math.min(s,o)-r;return"amount"===t?n||0:"percentage"===t?l/12*(i||0)/100:0}static calculateUIPensionContribution(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"2025_26";const s=new jt,r=s.rates[a]||s.rates["2025_26"];return s.calculatePensionContribution(e,t,n,i,r)}static calculateUINetEarnings(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"2025_26";const s=new jt,r=s.rates[a]||s.rates["2025_26"];return s.calculateProperNetEarnings(e,t,n,i,r)}calculateProperNetEarnings(e,t,n,i,a){const s=12*e,r=Math.max(0,s-12570),o=(.2*Math.min(r,37700)+.4*Math.max(0,r-37700))/12,l=.08*Math.max(0,e-1048);let c;c="amount"===t&&n>0?n:this.calculatePensionContribution(e,"percentage",0,3,a);const d=Math.max(0,e-o-l-c);return console.log("calculateProperNetEarnings debug:",{monthlyEarnings:e,taxMonthly:o,niMonthly:l,pensionMonthly:c,netEarnings:d}),d}calculateWorkAllowance(e,t){const{children:n,hasLCWRA:i,partnerHasLCWRA:a,circumstances:s,claimsDisabilityBenefits:r,partnerClaimsDisabilityBenefits:o,housingStatus:l,rent:c,serviceCharges:d}=e;if(!(n>0||("yes"===i||"yes"===r)||"couple"===s&&("yes"===a||"yes"===o)))return 0;return"renting"===l&&(c>0||d>0)?t.workAllowance[s].withHousing:t.workAllowance[s].withoutHousing}calculateEarningsReduction(e,t,n){const{monthlyEarnings:i,partnerMonthlyEarnings:a,circumstances:s,employmentType:r,partnerEmploymentType:o,netMonthlyEarningsCalculated:l,netMonthlyEarningsOverride:c,partnerNetMonthlyEarningsCalculated:d,partnerNetMonthlyEarningsOverride:h}=e;let u=0;if("employed"===r&&i>0){let n;void 0!==c&&""!==c?(console.log("Using override net earnings:",c),n=parseFloat(c)||0):void 0!==l&&null!==l?(console.log("Using calculated net earnings:",l),n=l):(console.log("Calculating proper net earnings for:",i),n=this.calculateProperNetEarnings(i,e.pensionType,e.pensionAmount,e.pensionPercentage,t)),console.log("Final mainPersonNet:",n),u+=n}else"self-employed"===r&&i>0&&(u+=i);if("couple"===s&&"employed"===o&&a>0){let n;n=void 0!==h&&""!==h?parseFloat(h)||0:void 0!==d&&null!==d?d:this.calculateProperNetEarnings(a,e.partnerPensionType,e.partnerPensionAmount,e.partnerPensionPercentage,t),u+=n}else"couple"===s&&"self-employed"===o&&a>0&&(u+=a);const p=this.calculateWorkAllowance(e,t),m=t.taperRate;if(console.log("Earnings Reduction Debug:",{employmentType:r,monthlyEarnings:i,netMonthlyEarningsCalculated:l,netMonthlyEarningsOverride:c,finalNetEarnings:u,workAllowance:p,taperRate:m,excessEarnings:u>p?u-p:0}),u<=p)return console.log("No earnings reduction - netEarnings <= workAllowance"),0;const f=(u-p)*m;return console.log("Earnings reduction calculated:",f),f}calculateCapitalDeduction(e,t,n){const{savings:i}=e;if(i<=n.capitalLowerLimit)return{deduction:0,tariffIncome:0,explanation:"No deduction - savings below \xa36,000 limit"};if(i<=n.capitalUpperLimit){const e=i-n.capitalLowerLimit,t=Math.ceil(e/250),a=4.35*t;return{deduction:a,tariffIncome:a,explanation:"Tariff income: \xa3".concat(e.toFixed(2)," over \xa36,000 limit = ").concat(t," units \xd7 \xa34.35 = \xa3").concat(a.toFixed(2)," per month (\xa3").concat((a/4.35).toFixed(2)," per week)")}}return{deduction:t,tariffIncome:0,explanation:"No Universal Credit entitlement - savings over \xa316,000 limit"}}calculateBenefitDeduction(e){const{otherBenefits:t,otherBenefitsPeriod:n}=e;let i=t;switch(n){case"weekly":i=4.33*t;break;case"fortnightly":i=2.17*t;break;case"yearly":i=t/12;break;default:i=t}return i}generateWarnings(e){const t=[];return e.monthlyEarnings>5e3&&t.push("High earnings may result in no Universal Credit entitlement"),e.savings>15e3&&t.push("High savings may affect Universal Credit entitlement"),e.rent>2e3&&t.push("High rent amount - verify this is correct"),t}exportCalculation(){return{calculator:"Universal Credit Calculator React",version:"1.0.0",exportedAt:(new Date).toISOString(),rates:this.rates}}exportCalculationForTesting(e,t){return{metadata:{calculator:"Universal Credit Calculator React",version:"1.0.0",exportedAt:(new Date).toISOString(),taxYear:e.taxYear},input:{taxYear:e.taxYear,circumstances:e.circumstances,age:e.age,partnerAge:e.partnerAge,children:e.children,childAges:e.childAges||[],childDisabilities:e.childDisabilities||[],childGenders:e.childGenders||[],housingStatus:e.housingStatus,tenantType:e.tenantType,rent:e.rent,serviceCharges:e.serviceCharges,bedrooms:e.bedrooms,area:e.area,nonDependants:e.nonDependants,employmentType:e.employmentType,monthlyEarnings:e.monthlyEarnings,childcareCosts:e.childcareCosts,isDisabled:e.isDisabled,claimsDisabilityBenefits:e.claimsDisabilityBenefits,disabilityBenefitType:e.disabilityBenefitType,pipDailyLivingRate:e.pipDailyLivingRate,pipMobilityRate:e.pipMobilityRate,dlaCareRate:e.dlaCareRate,dlaMobilityRate:e.dlaMobilityRate,aaRate:e.aaRate,hasLCWRA:e.hasLCWRA,partnerEmploymentType:e.partnerEmploymentType,partnerMonthlyEarnings:e.partnerMonthlyEarnings,partnerIsDisabled:e.partnerIsDisabled,partnerClaimsDisabilityBenefits:e.partnerClaimsDisabilityBenefits,partnerDisabilityBenefitType:e.partnerDisabilityBenefitType,partnerPipDailyLivingRate:e.partnerPipDailyLivingRate,partnerPipMobilityRate:e.partnerPipMobilityRate,partnerDlaCareRate:e.partnerDlaCareRate,partnerDlaMobilityRate:e.partnerDlaMobilityRate,partnerAaRate:e.partnerAaRate,partnerHasLCWRA:e.partnerHasLCWRA,businessIncomeBank:e.businessIncomeBank,businessIncomeCash:e.businessIncomeCash,businessExpensesRent:e.businessExpensesRent,businessExpensesRates:e.businessExpensesRates,businessExpensesUtilities:e.businessExpensesUtilities,businessExpensesInsurance:e.businessExpensesInsurance,businessExpensesTelephone:e.businessExpensesTelephone,businessExpensesMarketing:e.businessExpensesMarketing,businessExpensesVehicle:e.businessExpensesVehicle,businessExpensesEquipment:e.businessExpensesEquipment,businessExpensesPostage:e.businessExpensesPostage,businessExpensesTransport:e.businessExpensesTransport,businessExpensesProfessional:e.businessExpensesProfessional,businessTax:e.businessTax,businessNIC:e.businessNIC,businessPension:e.businessPension,businessCarMiles:e.businessCarMiles,businessHomeHours:e.businessHomeHours,isCarer:e.isCarer,isPartnerCarer:e.isPartnerCarer,currentlyReceivingCarersAllowance:e.currentlyReceivingCarersAllowance,partnerCurrentlyReceivingCarersAllowance:e.partnerCurrentlyReceivingCarersAllowance,caringHours:e.caringHours,partnerCaringHours:e.partnerCaringHours,personReceivesBenefits:e.personReceivesBenefits,partnerPersonReceivesBenefits:e.partnerPersonReceivesBenefits,includeCarersAllowance:e.includeCarersAllowance,partnerIncludeCarersAllowance:e.partnerIncludeCarersAllowance,includeCarerElement:e.includeCarerElement,partnerIncludeCarerElement:e.partnerIncludeCarerElement,savings:e.savings,otherBenefits:e.otherBenefits,otherBenefitsPeriod:e.otherBenefitsPeriod},output:{standardAllowance:t.calculation.standardAllowance,housingElement:t.calculation.housingElement,childElement:t.calculation.childElement,childcareElement:t.calculation.childcareElement,carerElement:t.calculation.carerElement,totalElements:t.calculation.totalElements,earningsReduction:t.calculation.earningsReduction,capitalDeduction:t.calculation.capitalDeduction,benefitDeduction:t.calculation.benefitDeduction,finalAmount:t.calculation.finalAmount,warnings:t.warnings||[],lhaDetails:t.calculation.lhaDetails||null},calculationDetails:{workAllowance:t.calculation.workAllowance||0,taperRate:t.calculation.taperRate||.55,lhaRate:t.calculation.lhaRate||0}}}}var Ct=n(579);const _t=function(t){let{formData:n,onFormChange:i}=t;const s=parseFloat(n.monthlyEarnings)||0,r=n.netMonthlyEarningsOverride,[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(Boolean(r)),h=(0,e.useMemo)(()=>{const e=12*s,t=Math.max(0,e-12570),i=.2*Math.min(t,37700),a=.4*Math.max(0,t-37700),r=(i+a)/12,o=.08*Math.max(0,s-1048),l=jt.calculateUIPensionContribution(s,"percentage",0,3,n.taxYear||"2025_26");return{taxMonthly:r,basicTaxMonthly:i/12,higherTaxMonthly:a/12,niMonthly:o,pensionMonthly:l,netCalculated:Math.max(0,s-r-o-l)}},[s]),u=c&&(r||0===r)?parseFloat(r)||0:h.netCalculated;return e.useEffect(()=>{i((0,a.A)((0,a.A)({},n),{},{netMonthlyEarningsCalculated:Math.round(100*h.netCalculated)/100}))},[h.netCalculated]),(0,Ct.jsxs)("div",{className:"card",style:{marginTop:"1rem"},children:[(0,Ct.jsx)("h3",{children:"Net earnings"}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Calculated net earnings (per month)"}),(0,Ct.jsx)("input",{type:"number",className:"form-control",value:Math.round(100*h.netCalculated)/100,readOnly:!0}),(0,Ct.jsx)("small",{className:"help-text",children:"Based on current gross earnings, income tax, National Insurance, and minimum pension contribution."})]}),(0,Ct.jsx)("div",{className:"form-group",children:(0,Ct.jsxs)("label",{className:"checkbox-label",style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,Ct.jsx)("input",{type:"checkbox",checked:c,onChange:e=>{const t=e.target.checked;d(t),t||i((0,a.A)((0,a.A)({},n),{},{netMonthlyEarningsOverride:""}))}}),(0,Ct.jsx)("span",{children:"Enter net earnings myself instead"})]})}),c&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Your net earnings (per month)"}),(0,Ct.jsx)("input",{type:"number",className:"form-control",min:"0",step:"0.01",value:null!==r&&void 0!==r?r:"",onChange:e=>i((0,a.A)((0,a.A)({},n),{},{netMonthlyEarningsOverride:e.target.value}))})]}),s>0&&Math.abs(u-s)>.005&&(0,Ct.jsx)("div",{className:"form-group",children:(0,Ct.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>l(e=>!e),children:o?"Hide":"How we worked out your net earnings"})}),o&&(0,Ct.jsx)("div",{className:"breakdown",children:(0,Ct.jsx)("table",{className:"table",children:(0,Ct.jsxs)("tbody",{children:[(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:"Gross earnings"}),(0,Ct.jsxs)("td",{children:["\xa3",s.toFixed(2)]})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:"Income tax \u2014 basic rate"}),(0,Ct.jsxs)("td",{children:["-\xa3",h.basicTaxMonthly.toFixed(2)]})]}),h.higherTaxMonthly>0&&(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:"Income tax \u2014 higher rate"}),(0,Ct.jsxs)("td",{children:["-\xa3",h.higherTaxMonthly.toFixed(2)]})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:"National Insurance"}),(0,Ct.jsxs)("td",{children:["-\xa3",h.niMonthly.toFixed(2)]})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:"Pension (min 3%)"}),(0,Ct.jsxs)("td",{children:["-\xa3",h.pensionMonthly.toFixed(2)]})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:(0,Ct.jsx)("strong",{children:"Net earnings"})}),(0,Ct.jsx)("td",{children:(0,Ct.jsxs)("strong",{children:["\xa3",h.netCalculated.toFixed(2)]})})]})]})})})]})},St=[{key:"Calculator.Header.Title",english:"Universal Credit Calculator",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Header.Subtitle",english:"Calculate your Universal Credit entitlement for any tax year",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.PersonalDetails.Title",english:"Personal Details",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.TaxYear.Label",english:"Tax Year",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Circumstances.Label",english:"Circumstances",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Circumstances.Single",english:"Single",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Circumstances.Couple",english:"Couple",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Age.Label",english:"Age",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.PartnerAge.Label",english:"Partner Age",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.Label",english:"Number of Children",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Housing.Title",english:"Housing",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.TenantType.Label",english:"Tenant Type",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Rent.Label",english:"Monthly Rent",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Bedrooms.Label",english:"Number of Bedrooms",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Employment.Title",english:"Employment",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.EmploymentType.Label",english:"Employment Type",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Earnings.Label",english:"Monthly Earnings",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Savings.Label",english:"Savings",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Carer.Title",english:"Carer Status",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Carer.Question",english:"Do you care for someone who is sick or disabled?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Carer.Yes",english:"Yes",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Carer.No",english:"No",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Buttons.Calculate",english:"Calculate",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Buttons.Reset",english:"Reset",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Buttons.Save",english:"Save Scenario",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Results.Title",english:"Your Universal Credit Calculation",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Results.Entitlement",english:"Your Universal Credit Entitlement",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Results.PerMonth",english:"per month",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Results.Breakdown.Title",english:"Breakdown",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Results.StandardAllowance",english:"Standard Allowance",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Results.HousingElement",english:"Housing Element",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Results.ChildElement",english:"Child Element",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Results.CarerElement",english:"Carer Element",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Results.TotalElements",english:"Total Elements",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Results.EarningsReduction",english:"Earnings Reduction",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Results.OtherDeductions",english:"Other Deductions",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Results.FinalAmount",english:"Final Universal Credit",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.BetterOff.Title",english:"How much better off would you be in work?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.BetterOff.Description",english:"Use the better off calculator by entering details of the job you are thinking about. We will take this information and calculate how much you will earn after tax and if you qualify for in-work benefits.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.BetterOff.EmploymentType.Label",english:"Employee or self-employed?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.BetterOff.Hours.Label",english:"Hours worked:",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.BetterOff.Wage.Label",english:"Wage rate:",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.BetterOff.Period.Label",english:"Calculation period:",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.BetterOff.Results.BetterOff",english:"You could be {amount} {period} better off in work",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.BetterOff.Results.Note",english:"(estimate does not include travel or child care costs)",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Footer.Disclaimer",english:"This calculator is for guidance only and should not be considered as official advice.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Footer.OfficialLink",english:"For official Universal Credit information, visit gov.uk/universal-credit",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Title",english:"Carer's Allowance and UC carer element eligibility check",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Scotland.Title",english:"Carer Support Payment and UC carer element eligibility check",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Eligibility.Intro",english:"If you care for someone who gets a disability benefit you may be entitled to Carer's Allowance. To get Carer's Allowance you must:",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Eligibility.Hours",english:"Spend at least 35 hours a week looking after the person in need of care",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Eligibility.Benefits",english:"Look after someone who is claiming a qualifying disability benefit",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Eligibility.Earnings",english:"For Carer's Allowance, have net earnings under an earnings limit (\xa3151 a week); we have already checked that your earnings are under this level.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Eligibility.Earnings.Standalone",english:"Have net earnings under an earnings limit (\xa3151 a week); we have already checked that your earnings are under this level.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Eligibility.MoreInfo",english:"For more information see Carer's Allowance eligibility rules.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.UC.InfoBox",english:"You will not be better off financially if you claim Carer's Allowance and the Universal Credit carer element together because Carer's Allowance counts as income when calculating your UC award. But you won't be worse off and claiming Carer's Allowance gets you class 1 National Insurance credits, so if you are not getting class 1 credits another way, you may want to claim Carer's Allowance as well.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.EligibilityMessage.Intro",english:"You meet the eligibility conditions for Carer's Allowance and the Universal Credit carer element. We have worked out the amount you are entitled to below. This might be an 'underlying entitlement' of \xa30 if you already get an 'overlapping benefit' but by claiming this you could also get a carer premium in other benefits you are entitled to.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.EligibilityMessage.Important",english:"Important! If the person you care for gets a 'Severe Disability premium' in any of their benefits, you getting Carer's Allowance (unless it's an underlying entitlement) or the Universal Credit carer element means they won't get that premium anymore. Before claiming you should discuss this with the person you are caring for and if you need to you can seek more advice.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Questions.CurrentlyReceiving",english:"Do you currently receive Carer's Allowance?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Questions.CaringHours",english:"How many hours a week do you spend caring?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Questions.CaringHours.Less35",english:"Less than 35 hours",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Questions.CaringHours.35Plus",english:"35 hours or more",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Questions.PersonBenefits",english:"Does the person you care for receive one of the following benefits?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Questions.PersonBenefits.Help",english:"Qualifying benefits include:",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Questions.PersonBenefits.List",english:"Personal Independence Payment (PIP) - daily living component, Disability Living Allowance (DLA) - middle or highest care rate, Attendance Allowance, Armed Forces Independence Payment, Constant Attendance Allowance",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Questions.IncludeInCalculation",english:"Should we include Carer's Allowance in your benefit calculation?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Questions.IncludeCarerElement",english:"Should we calculate your Universal Credit including a carer element?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.EstimatedAmount",english:"Estimated entitlement to Carer's Allowance (weekly): \xa3{amount}",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.Title",english:"Carer's Allowance Rules and Eligibility",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.Overview",english:"Carer's Allowance is a benefit for people who look after someone with substantial caring needs. It is not means-tested but has strict eligibility criteria.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.EligibilityCriteria",english:"To be eligible for Carer's Allowance, you must meet all of the following criteria:",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.CaringTime",english:"You must spend at least 35 hours a week caring for the person. This includes time spent providing care, supervision, and being available to provide care.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.CaringTime.Examples",english:"Caring time includes: helping with washing, dressing, eating, going to the toilet, giving medication, helping with mobility, providing emotional support, and being available to help if needed.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.PersonCaredFor",english:"The person you care for must be receiving one of the qualifying disability benefits.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.QualifyingBenefits",english:"Qualifying disability benefits include: Personal Independence Payment (PIP) daily living component, Disability Living Allowance (DLA) middle or highest care rate, Attendance Allowance, Armed Forces Independence Payment, Constant Attendance Allowance.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.EarningsLimit",english:"Your net earnings must be below \xa3151 per week (after tax, National Insurance, and certain expenses). This limit applies to your earnings from employment or self-employment.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.EarningsLimit.Exclusions",english:"Certain income is not counted towards the earnings limit, including: most benefits, pensions, maintenance payments, and some other income sources.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.StudyRestrictions",english:"You cannot be in full-time education (21 hours or more per week) and claim Carer's Allowance.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.AgeRequirements",english:"You must be aged 16 or over and not have reached State Pension age.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.Residency",english:"You must be ordinarily resident in the UK, Channel Islands, Isle of Man, or a country with a reciprocal agreement.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.OverlappingBenefits",english:"You cannot receive Carer's Allowance at the same time as certain other benefits, including: State Pension, Maternity Allowance, Bereavement Allowance, Widowed Parent's Allowance, or Incapacity Benefit.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.OverlappingBenefits.Underlying",english:"If you cannot receive Carer's Allowance due to an overlapping benefit, you may still have an 'underlying entitlement' which can help you qualify for other benefits.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.UniversalCredit",english:"If you receive Universal Credit, Carer's Allowance counts as income and will reduce your UC award. However, you may also be entitled to the UC carer element.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.UniversalCredit.CarerElement",english:"The Universal Credit carer element is worth \xa3185.86 per month (2025/26 rate) and is available to people who provide care for at least 35 hours per week to someone receiving a qualifying disability benefit.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.UniversalCredit.Interaction",english:"You can receive both Carer's Allowance and the UC carer element, but Carer's Allowance will count as income and reduce your UC award. You won't be financially worse off, but you may gain National Insurance credits.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.SevereDisabilityPremium",english:"If the person you care for receives a Severe Disability Premium in their benefits, your claim for Carer's Allowance or the UC carer element may affect their entitlement to this premium.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.SevereDisabilityPremium.Advice",english:"Before claiming Carer's Allowance or the UC carer element, discuss the potential impact on the person you care for with them and seek advice if needed.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.NationalInsurance",english:"Carer's Allowance provides Class 1 National Insurance credits, which can help protect your State Pension and other benefit entitlements.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.NationalInsurance.Importance",english:"Even if you don't need the money from Carer's Allowance, claiming it can be valuable for the National Insurance credits it provides.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.ClaimingProcess",english:"To claim Carer's Allowance, you need to complete form DS700 or apply online through the GOV.UK website.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.ClaimingProcess.Evidence",english:"You may need to provide evidence of your caring responsibilities, the person's disability benefits, and your earnings.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.Backdating",english:"Carer's Allowance can be backdated for up to 3 months from the date of your claim, provided you met all the eligibility criteria during that period.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.Changes",english:"You must report changes in your circumstances, such as changes in earnings, caring hours, or if the person you care for stops receiving their disability benefit.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.Scotland",english:"In Scotland, Carer's Allowance is being replaced by Carer Support Payment. The eligibility criteria are similar, but there are some differences in the claiming process and rates.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.Scotland.Differences",english:"Carer Support Payment has the same weekly rate as Carer's Allowance but is administered by Social Security Scotland and has some different rules around backdating and changes.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.HelpAndAdvice",english:"For help and advice about Carer's Allowance, you can contact: Citizens Advice, Carers UK, your local council, or the Department for Work and Pensions.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Carer.Allowance.Rules.ImportantNotes",english:"This information is for guidance only. The rules can be complex and your individual circumstances may affect your entitlement. Always seek professional advice if you are unsure.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Common.Yes",english:"Yes",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Common.No",english:"No",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.HasChildren.Label",english:"Do you have children?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.HasChildren.No",english:"No Children",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.HasChildren.Yes",english:"Yes, I have children",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.Number.Label",english:"Number of Children",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.Information.Label",english:"Information for Each Child",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.ChildNumber.Label",english:"Child {number}",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.Age.Label",english:"Age",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.Gender.Label",english:"Child {index} Gender",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.Gender.Male",english:"Male",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.Gender.Female",english:"Female",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.Gender.Explanation",english:"We need to know the gender of your children to calculate the correct bedroom entitlement for Local Housing Allowance. Children of the same gender or under 10 years old can share a bedroom.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.Disability.Label",english:"Does Child {index} have an illness or disability?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.DLA.Label",english:"Does Child {index} claim Disability Living Allowance (DLA)?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.DLA.CareRate.Label",english:"DLA Care Component Rate",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.DLA.MobilityRate.Label",english:"DLA Mobility Component Rate",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.DLA.CareRate.Lowest",english:"Lowest Rate (\xa326.90)",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.DLA.CareRate.Middle",english:"Middle Rate (\xa368.10)",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.DLA.CareRate.Highest",english:"Highest Rate (\xa3101.75)",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.DLA.MobilityRate.Lowest",english:"Lowest Rate (\xa326.90)",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Children.DLA.MobilityRate.Highest",english:"Highest Rate (\xa371.00)",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Housing.Status.Label",english:"Housing Status",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Housing.Status.NoCosts",english:"No Housing Costs",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Housing.Status.Renting",english:"Renting",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Housing.Status.Homeowner",english:"Homeowner",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Housing.Status.Other",english:"Other",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Housing.Homeowner.Message",english:'We do not currently support calculations for homeowners. Please select "Renting" or "No Housing Costs" to continue with the calculation.',siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Housing.Other.Message",english:'We do not yet cover people who live in Temporary Accommodation, Supported Accommodation, Residential care or in prison. Please select "Renting" or "No Housing Costs" to continue with the calculation.',siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Housing.NotCovered.Label",english:"Not covered yet:",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Employment.Status.Label",english:"Employment Status",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Employment.Status.NotWorking",english:"Not Working",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Employment.Status.Employed",english:"Employed",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"Calculator.Form.Employment.Status.SelfEmployed",english:"Self-employed",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Description",english:"The Minimum Income Floor may affect your Universal Credit calculation if you are self-employed.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.GracePeriod.Bullet1",english:"You may have a grace period when you first become self-employed",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.GainfulAssessment.Bullet2",english:"The DWP will assess if your self-employment is gainful",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.AppliesAfterGrace.Bullet3",english:"MIF applies after the grace period ends",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.DetailsSection.Title",english:"How you might be affected by the Minimum Income Floor",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.DetailsSection.Description",english:"The Minimum Income Floor (MIF) is a rule that affects how your Universal Credit is calculated if you are self-employed. It assumes you earn at least the equivalent of working 35 hours per week at the National Living Wage.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.YourSituation",english:"Your Situation",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.HowMIFAffectsYou",english:"How MIF Affects You",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.WhatThisMeans",english:"What This Means",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.NewSelfEmployed.Situation",english:"New to self-employment",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.NewSelfEmployed.Affect",english:"12-month grace period",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.NewSelfEmployed.Means",english:"Your actual earnings are used for the first 12 months",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.EstablishedSelfEmployed.Situation",english:"Established self-employment",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.EstablishedSelfEmployed.Affect",english:"MIF may apply",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.EstablishedSelfEmployed.Means",english:"DWP assumes minimum earnings even if you earn less",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.GainfulSelfEmployed.Situation",english:"Gainful self-employment",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.GainfulSelfEmployed.Affect",english:"MIF applies",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.GainfulSelfEmployed.Means",english:"Your Universal Credit is calculated using assumed minimum earnings",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.NotGainfulSelfEmployed.Situation",english:"Not gainful self-employment",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.NotGainfulSelfEmployed.Affect",english:"MIF does not apply",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Table.NotGainfulSelfEmployed.Means",english:"Your actual earnings are used in the calculation",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.CalculatorSection.Title",english:"MIF Calculator",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.CalculatorSection.Description",english:"Use this calculator to see how the Minimum Income Floor might affect your Universal Credit:",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.GracePeriodQuestion.Label",english:"Are you in your first 12 months of self-employment?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.GracePeriodQuestion.Yes",english:"Yes - I'm in my grace period",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.GracePeriodQuestion.No",english:"No - I've been self-employed for over 12 months",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.GainfulQuestion.Label",english:"Is your self-employment gainful?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.GainfulQuestion.Yes",english:"Yes - I work regularly and expect to make a profit",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.GainfulQuestion.No",english:"No - I don't work regularly or expect to make a profit",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.ResultBox.Title",english:"MIF Status",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.InfoBox.Title",english:"Important Information",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.InfoBox.GracePeriod",english:"Grace Period: You have 12 months from when you first become self-employed before MIF can apply",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.InfoBox.GainfulSelfEmployment",english:"Gainful Self-employment: The DWP will assess whether your self-employment is regular and expected to make a profit",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.InfoBox.MIFRates",english:"MIF Rates: The assumed minimum earnings are based on working 35 hours per week at the National Living Wage",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.InfoBox.Appeals",english:"Appeals: You can challenge a decision that MIF applies to your case",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.CalculationPanel.Title",english:"Your Minimum Income Floor Calculation",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.CalculationPanel.Description",english:"Based on your claimant commitment of {claimantHours} hours per week, we estimate your Minimum Income Floor is \xa3{mifWeekly} per week.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.HoursInput.Label",english:"How many hours a week must you work according to your claimant commitment?",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.HoursInput.Label2",english:"hours per week",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.ComparisonTable.Title",english:"How MIF affects your Universal Credit",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.ComparisonTable.YourBenefits",english:"Your Benefits",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.ComparisonTable.WithoutMIF",english:"Without MIF",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.ComparisonTable.WithMIF",english:"With MIF",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.ComparisonTable.Impact",english:"Impact",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.ComparisonTable.GrossEarnings",english:"Gross Earnings",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.ComparisonTable.NetEarnings",english:"Net Earnings",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.ComparisonTable.UniversalCredit",english:"Universal Credit",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.ComparisonTable.TotalBenefits",english:"Total Benefits",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Status.SelectSituation",english:"Select your situation above to see how MIF affects you",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Status.GracePeriod",english:"MIF does not apply - You are in your 12-month grace period. Your actual earnings will be used in the Universal Credit calculation.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Status.NotGainful",english:"MIF does not apply - Your self-employment is not considered gainful. Your actual earnings will be used in the Universal Credit calculation.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.Status.Applies",english:"MIF applies - Your Universal Credit will be calculated using assumed minimum earnings (35 hours per week at National Living Wage), even if you earn less.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"MIF.SelfEmploymentAccounts.Info",english:"Self-employed people have to fill in a monthly form to report their income to DWP. Our new self-employment accounts can help fill in this form and also ensure you claim all relevant allowances in Universal Credit. We can even help you fill out your annual income tax self-assessment form. Go to our self-employment accounts page to see how we can help and to sign up for the new service.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfEmploymentAccounts.Page.Title",english:"Self-Employment Accounts",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfEmploymentAccounts.Page.Description",english:"Our comprehensive self-employment accounts service helps you manage your Universal Credit reporting and tax obligations.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfEmploymentAccounts.Features.Title",english:"Features",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfEmploymentAccounts.Features.MonthlyReporting",english:"Monthly Universal Credit income reporting to DWP",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfEmploymentAccounts.Features.AllowanceOptimization",english:"Ensure you claim all relevant Universal Credit allowances",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfEmploymentAccounts.Features.TaxSelfAssessment",english:"Complete self-assessment tax form with step-by-step guidance, automatic calculations, and HMRC submission preparation. Includes personal details, business income, expenses tracking, capital allowances, and real-time tax calculations. Our comprehensive tax form handles all aspects of self-employment tax returns including income tax, National Insurance (Class 2 and Class 4), and payments on account calculations.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfEmploymentAccounts.Features.ExpenseTracking",english:"Track business expenses and deductions",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfEmploymentAccounts.Features.ProfitCalculation",english:"Accurate profit and loss calculations",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfEmploymentAccounts.Features.DeadlineReminders",english:"Important deadline reminders for reporting and tax",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfEmploymentAccounts.Features.ExpertSupport",english:"Expert support and guidance throughout the year",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfEmploymentAccounts.Features.OnlinePortal",english:"Secure online portal for all your self-employment needs",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfAssessmentTaxForm.Title",english:"Self-Assessment Tax Form",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfAssessmentTaxForm.Description",english:"Complete your self-assessment tax return for the 2024-25 tax year. This form will help you calculate your tax liability and prepare for submission to HMRC.",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfAssessmentTaxForm.Steps.PersonalDetails",english:"Personal Details",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfAssessmentTaxForm.Steps.BusinessIncome",english:"Business Income",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfAssessmentTaxForm.Steps.Expenses",english:"Expenses",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfAssessmentTaxForm.Steps.CapitalAllowances",english:"Capital Allowances",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfAssessmentTaxForm.Steps.Calculation",english:"Calculation",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfAssessmentTaxForm.Buttons.Previous",english:"Previous",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfAssessmentTaxForm.Buttons.Next",english:"Next",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfAssessmentTaxForm.Buttons.CalculateTax",english:"Calculate Tax",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""},{key:"SelfAssessmentTaxForm.Buttons.Calculating",english:"Calculating...",siteMode:"ComprehensiveCalc",editHistory:"Not changed",editorName:""}],Et=async()=>{try{const e=localStorage.getItem("calculatorTextBlocks");if(e){const t=JSON.parse(e),n=[...St];return t.forEach(e=>{const t=n.findIndex(t=>t.key===e.key);t>=0?n[t]=(0,a.A)((0,a.A)({},n[t]),e):n.push(e)}),localStorage.setItem("calculatorTextBlocks",JSON.stringify(n)),n}return localStorage.setItem("calculatorTextBlocks",JSON.stringify(St)),St}catch(e){return console.error("Error loading text blocks:",e),St}},Mt=()=>{const[t,n]=(0,e.useState)({}),[i,a]=(0,e.useState)(!0);(0,e.useEffect)(()=>{s();const e=()=>{s()};return window.addEventListener("textBlocksUpdated",e),()=>{window.removeEventListener("textBlocksUpdated",e)}},[]);const s=async()=>{try{const e=await Et(),t={};e.forEach(e=>{t[e.key]=e.english}),n(t)}catch(e){console.error("Error loading text blocks:",e)}finally{a(!1)}};return{textBlocks:t,loading:i,getTextValue:function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i?n:t[e]?t[e]:n},refreshTextBlocks:()=>{a(!0),s()}}};const Pt=function(t){let{formData:n,onFormChange:i,isPartner:a=!1,isScotland:s=!1,isUniversalCredit:r=!0,earningsBelowLimit:o=!0}=t;const[l,c]=(0,e.useState)(!1),[d,h]=(0,e.useState)(!1),[u,p]=(0,e.useState)(!1),{getTextValue:m}=Mt(),f=a?"isPartnerCarer":"isCarer",g=a?"partnerCurrentlyReceivingCarersAllowance":"currentlyReceivingCarersAllowance",v=a?"partnerCaringHours":"caringHours",b=a?"partnerPersonReceivesBenefits":"personReceivesBenefits",y=a?"partnerIncludeCarersAllowance":"includeCarersAllowance",x=a?"partnerIncludeCarerElement":"includeCarerElement";(0,e.useEffect)(()=>{const e="yes"===n[f];if(c(e),e){const e="no"===n[g];h(e&&o)}else h(!1)},[n,f,g,o]),(0,e.useEffect)(()=>{if(d){const e=parseInt(n[v])||0,t="yes"===n[b];p(e>=35&&t)}},[n,v,b,d]);const w=(e,t)=>{i(e,t)},N=()=>s?"Carer Support Payment":"Carer's Allowance";return l?(0,Ct.jsx)("div",{className:"carer-module",children:(0,Ct.jsxs)("div",{className:"card",children:[(0,Ct.jsx)("h3",{children:r?s?m("Carer.Allowance.Scotland.Title","Carer Support Payment and UC carer element eligibility check"):m("Carer.Allowance.Title","Carer's Allowance and UC carer element eligibility check"):s?m("Carer.Allowance.Scotland.Title","Carer Support Payment eligibility check"):m("Carer.Allowance.Title","Carer's Allowance eligibility check")}),(()=>{const e=N(),t=r?m("Carer.Allowance.Eligibility.Earnings","\u2022 For Carer's Allowance, have net earnings under an earnings limit (\xa3151 a week); we have already checked that your earnings are under this level."):m("Carer.Allowance.Eligibility.Earnings.Standalone","\u2022 Have net earnings under an earnings limit (\xa3151 a week); we have already checked that your earnings are under this level.");return(0,Ct.jsxs)("div",{className:"eligibility-text",children:[(0,Ct.jsx)("p",{children:m("Carer.Allowance.Eligibility.Intro","If you care for someone who gets a disability benefit you may be entitled to ".concat(e,". To get ").concat(e," you must:"))}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:m("Carer.Allowance.Eligibility.Hours","Spend at least 35 hours a week looking after the person in need of care")}),(0,Ct.jsx)("li",{children:m("Carer.Allowance.Eligibility.Benefits","Look after someone who is claiming a qualifying disability benefit")}),(0,Ct.jsx)("li",{children:t})]}),(0,Ct.jsx)("p",{children:m("Carer.Allowance.Eligibility.MoreInfo","For more information see ".concat(e," eligibility rules."))}),r&&(0,Ct.jsx)("div",{className:"info-box",children:(0,Ct.jsx)("p",{children:m("Carer.Allowance.UC.InfoBox","You will not be better off financially if you claim ".concat(e," and the Universal Credit carer element together because ").concat(e," counts as income when calculating your UC award. But you won't be worse off and claiming ").concat(e," gets you class 1 National Insurance credits, so if you are not getting class 1 credits another way, you may want to claim ").concat(e," as well."))})})]})})(),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:m("Carer.Allowance.Questions.CurrentlyReceiving","Do you currently receive ".concat(N(),"?"))}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:g,value:"yes",checked:"yes"===n[g],onChange:e=>w(g,e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),m("Calculator.Form.Carer.Yes","Yes")]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:g,value:"no",checked:"no"===n[g],onChange:e=>w(g,e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),m("Calculator.Form.Carer.No","No")]})]})]}),d&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:m("Carer.Allowance.Questions.CaringHours","How many hours a week do you spend caring?")}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:v,value:"0",checked:"0"===n[v],onChange:e=>w(v,e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),m("Carer.Allowance.Questions.CaringHours.Less35","Less than 35 hours")]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:v,value:"35",checked:"35"===n[v],onChange:e=>w(v,e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),m("Carer.Allowance.Questions.CaringHours.35Plus","35 hours or more")]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:m("Carer.Allowance.Questions.PersonBenefits","Does the person you care for receive one of the following benefits?")}),(0,Ct.jsxs)("div",{className:"help-text",children:[(0,Ct.jsx)("p",{children:m("Carer.Allowance.Questions.PersonBenefits.Help","Qualifying benefits include:")}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Personal Independence Payment (PIP) - daily living component"}),(0,Ct.jsx)("li",{children:"Disability Living Allowance (DLA) - middle or highest care rate"}),(0,Ct.jsx)("li",{children:"Attendance Allowance"}),(0,Ct.jsx)("li",{children:"Armed Forces Independence Payment"}),(0,Ct.jsx)("li",{children:"Constant Attendance Allowance"})]})]}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:b,value:"yes",checked:"yes"===n[b],onChange:e=>w(b,e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),m("Calculator.Form.Carer.Yes","Yes")]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:b,value:"no",checked:"no"===n[b],onChange:e=>w(b,e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),m("Calculator.Form.Carer.No","No")]})]})]}),u&&(()=>{const e=N(),t=r?"and the Universal Credit carer element":"";return(0,Ct.jsxs)("div",{className:"eligibility-message info-box",children:[(0,Ct.jsx)("p",{children:m("Carer.Allowance.EligibilityMessage.Intro","You meet the eligibility conditions for ".concat(e," ").concat(t,". We have worked out the amount you are entitled to below. This might be an 'underlying entitlement' of \xa30 if you already get an 'overlapping benefit' but by claiming this you could also get a carer premium in other benefits you are entitled to."))}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Important!"})," ",m("Carer.Allowance.EligibilityMessage.Important","If the person you care for gets a 'Severe Disability premium' in any of their benefits, you getting ".concat(e," (unless it's an underlying entitlement) ").concat(r?"or the Universal Credit carer element":""," means they won't get that premium anymore. Before claiming you should discuss this with the person you are caring for and if you need to you can seek more advice."))]})]})})(),u&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:m("Carer.Allowance.Questions.IncludeInCalculation","Should we include ".concat(N()," in your benefit calculation?"))}),(0,Ct.jsx)("div",{className:"help-text",children:(0,Ct.jsx)("p",{children:m("Carer.Allowance.EstimatedAmount","Estimated entitlement to ".concat(N()," (weekly): \xa381.90"))})}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:y,value:"yes",checked:"yes"===n[y],onChange:e=>w(y,e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),m("Calculator.Form.Carer.Yes","Yes")]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:y,value:"no",checked:"no"===n[y],onChange:e=>w(y,e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),m("Calculator.Form.Carer.No","No")]})]})]}),u&&r&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:m("Carer.Allowance.Questions.IncludeCarerElement","Should we calculate your Universal Credit including a carer element?")}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:x,value:"yes",checked:"yes"===n[x],onChange:e=>w(x,e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),m("Calculator.Form.Carer.Yes","Yes")]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:x,value:"no",checked:"no"===n[x],onChange:e=>w(x,e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),m("Calculator.Form.Carer.No","No")]})]})]})]})]})}):null},Lt=e=>{let{id:t,label:n,value:i,onChange:a,onBlur:s,min:r=0,step:o=.01,periodValue:l,onPeriodChange:c,className:d="form-control"}=e;return(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:t,children:n}),(0,Ct.jsxs)("div",{className:"input-with-period",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:t,className:d,min:r,step:o,value:i||"",onChange:e=>{const t=e.target.value;if(""===t)a("");else{const e=parseFloat(t);!isNaN(e)&&e>=0&&a(e)}},onBlur:e=>{""===e.target.value&&a(0)}})]}),(0,Ct.jsxs)("select",{className:"period-selector",value:l||"per_month",onChange:c,children:[(0,Ct.jsx)("option",{value:"per_week",children:"per week"}),(0,Ct.jsx)("option",{value:"per_month",children:"per month"}),(0,Ct.jsx)("option",{value:"per_year",children:"per year"})]})]})]})};const Tt=function(e){var t,n,i,a,s,r,o,l,c,d,h,u,p,m,f,g,v,b,y,x;let{formData:w,onFormChange:N,onCalculate:A,onReset:k,validationErrors:j={}}=e;const{getTextValue:C}=Mt(),_=(e,t)=>{N(e,t)};return(0,Ct.jsx)("section",{className:"input-section",children:(0,Ct.jsxs)("div",{className:"card",children:[(0,Ct.jsx)("h2",{children:C("Calculator.Form.PersonalDetails.Title","Your Details")}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:C("Calculator.Form.TaxYear.Label","Tax Year")}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("2025_26"===w.taxYear?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"taxYear",value:"2025_26",checked:"2025_26"===w.taxYear,onChange:e=>_("taxYear",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"2025/26"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"taxYear",value:"2024_25",checked:"2024_25"===w.taxYear,onChange:e=>_("taxYear",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"2024/25"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"taxYear",value:"2023_24",checked:"2023_24"===w.taxYear,onChange:e=>_("taxYear",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"2023/24"})]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Personal Circumstances"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("single"===w.circumstances?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"circumstances",value:"single",checked:"single"===w.circumstances,onChange:e=>_("circumstances",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"Single"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"circumstances",value:"couple",checked:"couple"===w.circumstances,onChange:e=>_("circumstances",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"Couple"})]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"age",children:"Age"}),(0,Ct.jsx)("input",{type:"number",id:"age",className:"form-control",min:"16",max:"120",value:w.age||"",onChange:e=>{const t=e.target.value;_("age",t)},onBlur:e=>{const t=e.target.value;(""===t||parseInt(t)<16)&&_("age",25)}})]}),"couple"===w.circumstances&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"partnerAge",children:"Partner's Age"}),(0,Ct.jsx)("input",{type:"number",id:"partnerAge",className:"form-control",min:"16",max:"120",value:w.partnerAge||"",onChange:e=>{const t=e.target.value;_("partnerAge",t)},onBlur:e=>{const t=e.target.value;(""===t||parseInt(t)<16)&&_("partnerAge",25)}})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Housing Status"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("no_housing_costs"===w.housingStatus?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"housingStatus",value:"no_housing_costs",checked:"no_housing_costs"===w.housingStatus,onChange:e=>_("housingStatus",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No Housing Costs"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"housingStatus",value:"renting",checked:"renting"===w.housingStatus,onChange:e=>{_("housingStatus",e.target.value),"social"!==w.tenantType&&_("tenantType","social")}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Renting"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"housingStatus",value:"homeowner",checked:"homeowner"===w.housingStatus,onChange:e=>_("housingStatus",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Homeowner"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"housingStatus",value:"other",checked:"other"===w.housingStatus,onChange:e=>_("housingStatus",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Other"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"housingStatus",value:"in_prison",checked:"in_prison"===w.housingStatus,onChange:e=>_("housingStatus",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"In Prison"]})]})]}),"renting"===w.housingStatus&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Tenant Type"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"tenantType",value:"social",checked:"social"===w.tenantType,onChange:e=>_("tenantType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Social Housing"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"tenantType",value:"private",checked:"private"===w.tenantType,onChange:e=>_("tenantType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Private Tenant"]})]})]}),("homeowner"===w.housingStatus||"other"===w.housingStatus)&&(0,Ct.jsx)("div",{className:"info-box",children:(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Not covered yet:"})," ","homeowner"===w.housingStatus?C("Calculator.Form.Housing.Homeowner.Message",'We do not currently support calculations for homeowners. Please select "Renting" or "No Housing Costs" to continue with the calculation.'):C("Calculator.Form.Housing.Other.Message",'We do not yet cover people who live in Temporary Accommodation, Supported Accommodation, Residential care or in prison. Please select "Renting" or "No Housing Costs" to continue with the calculation.')]})}),"in_prison"===w.housingStatus&&(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Rehabilitation Support:"})," You can access help for people in prison through our rehabilitation services pages."]}),(0,Ct.jsx)(dt,{to:"/rehabilitation-services",className:"btn btn-primary btn-sm",children:"Go to Rehabilitation Services"})]}),"renting"===w.housingStatus&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"form-group",children:(0,Ct.jsx)(Lt,{id:"rent",label:"Monthly Rent",value:w.rent,onChange:e=>_("rent",e),onPeriodChange:e=>_("rentPeriod",e.target.value),periodValue:w.rentPeriod,min:0,step:.01})}),(0,Ct.jsx)("div",{className:"form-group",children:(0,Ct.jsx)(Lt,{id:"serviceCharges",label:"Service Charges",value:w.serviceCharges,onChange:e=>_("serviceCharges",e),onPeriodChange:e=>_("serviceChargesPeriod",e.target.value),periodValue:w.serviceChargesPeriod,min:0,step:.01})}),"private"===w.tenantType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"brma",children:"Please select your Broad Rental Market Area"}),(0,Ct.jsxs)("select",{id:"brma",className:"form-control ".concat(j.brma?"is-invalid":""),value:w.brma||"",onChange:e=>_("brma",e.target.value),children:[(0,Ct.jsx)("option",{value:"",children:"Select your area"}),Nt().map(e=>(0,Ct.jsx)("optgroup",{label:e.label,children:e.options.map(e=>(0,Ct.jsx)("option",{value:e,children:e},e))},e.label))]}),j.brma&&(0,Ct.jsx)("div",{className:"invalid-feedback",style:{display:"block",color:"#dc3545",fontSize:"0.875em",marginTop:"0.25rem"},children:j.brma}),(0,Ct.jsxs)("small",{className:"form-text",children:["We'll use your Broad Rental Market Area (BRMA) to set your Local Housing Allowance (LHA) cap. You can also find out about rent levels and LHA rates in other areas using our ",(0,Ct.jsx)(dt,{to:"/affordability-map",target:"_blank",rel:"noopener noreferrer",children:"affordability map"}),"."]})]})]}),"no_housing_costs"!==w.housingStatus&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Number of Bedrooms"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"bedrooms",value:"0",checked:0===w.bedrooms,onChange:e=>_("bedrooms",parseInt(e.target.value)||0)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Studio"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"bedrooms",value:"1",checked:1===w.bedrooms,onChange:e=>_("bedrooms",parseInt(e.target.value)||1)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"1 Bedroom"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"bedrooms",value:"2",checked:2===w.bedrooms,onChange:e=>_("bedrooms",parseInt(e.target.value)||2)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"2 Bedrooms"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"bedrooms",value:"3",checked:3===w.bedrooms,onChange:e=>_("bedrooms",parseInt(e.target.value)||3)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"3 Bedrooms"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"bedrooms",value:"4",checked:4===w.bedrooms,onChange:e=>_("bedrooms",parseInt(e.target.value)||4)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"4 Bedrooms"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"bedrooms",value:"5",checked:5===w.bedrooms,onChange:e=>_("bedrooms",parseInt(e.target.value)||5)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"5+ Bedrooms"]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"nonDependants",children:"Number of Non-Dependants"}),(0,Ct.jsx)("input",{type:"number",id:"nonDependants",className:"form-control",min:"0",value:w.nonDependants||"",onChange:e=>{const t=e.target.value;if(""===t)_("nonDependants","");else{const e=parseInt(t);!isNaN(e)&&e>=0&&_("nonDependants",e)}},onBlur:e=>{""===e.target.value&&_("nonDependants",0)}})]})]}),(0,Ct.jsxs)("div",{className:"employment-disability-section",children:[(0,Ct.jsx)("h3",{children:"Employment and Disability - Main Person"}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Employment Status"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("not_working"===w.employmentType?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"employmentType",value:"not_working",checked:"not_working"===w.employmentType,onChange:e=>_("employmentType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"Not Working"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"employmentType",value:"employed",checked:"employed"===w.employmentType,onChange:e=>_("employmentType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"Employed"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"employmentType",value:"self-employed",checked:"self-employed"===w.employmentType,onChange:e=>_("employmentType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"Self-employed"})]})]})]}),("employed"===w.employmentType||"self-employed"===w.employmentType)&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"form-group",children:(0,Ct.jsx)(Lt,{id:"monthlyEarnings",label:"Monthly gross earnings",value:w.monthlyEarnings,onChange:e=>_("monthlyEarnings",e),onPeriodChange:e=>_("monthlyEarningsPeriod",e.target.value),periodValue:w.monthlyEarningsPeriod,min:0,step:.01})}),"employed"===w.employmentType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)(Lt,{id:"pensionAmount",label:"Pension Contributions (per month)",value:w.pensionAmount,onChange:e=>_("pensionAmount",e),onPeriodChange:e=>_("pensionAmountPeriod",e.target.value),periodValue:w.pensionAmountPeriod,min:0,step:.01}),(0,Ct.jsx)("div",{className:"form-toggle",children:(0,Ct.jsx)("button",{type:"button",className:"toggle-link",onClick:()=>{_("pensionType","percentage"),w.pensionPercentage&&0!==w.pensionPercentage||_("pensionPercentage",3)},children:"Calculate as percentage of gross earnings instead"})}),"percentage"===w.pensionType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-suffix",children:[(0,Ct.jsx)("input",{type:"number",id:"pensionPercentage",className:"form-control",min:"0",max:"100",step:"0.1",value:w.pensionPercentage||"",onChange:e=>{const t=e.target.value;if(""===t)_("pensionPercentage","");else{const e=parseFloat(t);!isNaN(e)&&e>=0&&e<=100&&_("pensionPercentage",e)}},onBlur:e=>{""===e.target.value&&_("pensionPercentage",3)}}),(0,Ct.jsx)("span",{className:"suffix",children:"%"})]}),w.monthlyEarnings>0&&w.pensionPercentage>0&&(0,Ct.jsxs)("div",{className:"help-text",children:[w.pensionPercentage,"% of pensionable earnings = \xa3",jt.calculateUIPensionContribution(w.monthlyEarnings,"percentage",0,w.pensionPercentage,w.taxYear).toFixed(2)," per month"]}),(0,Ct.jsx)("div",{className:"form-toggle",children:(0,Ct.jsx)("button",{type:"button",className:"toggle-link",onClick:()=>{if(_("pensionType","amount"),w.monthlyEarnings>0&&w.pensionPercentage>0){const e=jt.calculateUIPensionContribution(w.monthlyEarnings,"percentage",0,w.pensionPercentage,w.taxYear);_("pensionAmount",Math.round(100*e)/100)}},children:"Use fixed amount instead"})})]})]}),w.monthlyEarnings>0&&(0,Ct.jsx)(_t,{formData:w,onFormChange:N})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Are you sick or disabled?"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("no"===w.isDisabled?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"isDisabled",value:"no",checked:"no"===w.isDisabled,onChange:e=>_("isDisabled",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"isDisabled",value:"yes",checked:"yes"===w.isDisabled,onChange:e=>_("isDisabled",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Yes"]})]})]}),"yes"===w.isDisabled&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Do you claim disability benefits?"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("no"===w.claimsDisabilityBenefits?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"claimsDisabilityBenefits",value:"no",checked:"no"===w.claimsDisabilityBenefits,onChange:e=>_("claimsDisabilityBenefits",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"claimsDisabilityBenefits",value:"yes",checked:"yes"===w.claimsDisabilityBenefits,onChange:e=>_("claimsDisabilityBenefits",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Yes"]})]})]}),"yes"===w.claimsDisabilityBenefits&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"What disability benefit do you claim?"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"disabilityBenefitType",value:"pip",checked:"pip"===w.disabilityBenefitType,onChange:e=>_("disabilityBenefitType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Personal Independence Payment (PIP)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"disabilityBenefitType",value:"dla",checked:"dla"===w.disabilityBenefitType,onChange:e=>_("disabilityBenefitType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Disability Living Allowance (DLA)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"disabilityBenefitType",value:"aa",checked:"aa"===w.disabilityBenefitType,onChange:e=>_("disabilityBenefitType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Attendance Allowance (AA)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"disabilityBenefitType",value:"other",checked:"other"===w.disabilityBenefitType,onChange:e=>_("disabilityBenefitType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Other"]})]})]}),"yes"===w.claimsDisabilityBenefits&&"pip"===w.disabilityBenefitType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"PIP Daily Living Component Rate"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("none"===w.pipDailyLivingRate?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"pipDailyLivingRate",value:"none",checked:"none"===w.pipDailyLivingRate,onChange:e=>_("pipDailyLivingRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No award"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"pipDailyLivingRate",value:"standard",checked:"standard"===w.pipDailyLivingRate,onChange:e=>_("pipDailyLivingRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Standard Rate (\xa372.65)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"pipDailyLivingRate",value:"enhanced",checked:"enhanced"===w.pipDailyLivingRate,onChange:e=>_("pipDailyLivingRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Enhanced Rate (\xa3108.55)"]})]})]}),"yes"===w.claimsDisabilityBenefits&&"pip"===w.disabilityBenefitType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"PIP Mobility Component Rate"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("none"===w.pipMobilityRate?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"pipMobilityRate",value:"none",checked:"none"===w.pipMobilityRate,onChange:e=>_("pipMobilityRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No award"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"pipMobilityRate",value:"standard",checked:"standard"===w.pipMobilityRate,onChange:e=>_("pipMobilityRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Standard Rate (\xa328.70)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"pipMobilityRate",value:"enhanced",checked:"enhanced"===w.pipMobilityRate,onChange:e=>_("pipMobilityRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Enhanced Rate (\xa375.75)"]})]})]}),"yes"===w.claimsDisabilityBenefits&&"dla"===w.disabilityBenefitType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"DLA Care Component Rate"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("none"===w.dlaCareRate?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"dlaCareRate",value:"none",checked:"none"===w.dlaCareRate,onChange:e=>_("dlaCareRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No award"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"dlaCareRate",value:"lowest",checked:"lowest"===w.dlaCareRate,onChange:e=>_("dlaCareRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Lowest Rate (\xa328.70)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"dlaCareRate",value:"middle",checked:"middle"===w.dlaCareRate,onChange:e=>_("dlaCareRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Middle Rate (\xa372.65)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"dlaCareRate",value:"highest",checked:"highest"===w.dlaCareRate,onChange:e=>_("dlaCareRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Highest Rate (\xa3108.55)"]})]})]}),"yes"===w.claimsDisabilityBenefits&&"dla"===w.disabilityBenefitType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"DLA Mobility Component Rate"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("none"===w.dlaMobilityRate?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"dlaMobilityRate",value:"none",checked:"none"===w.dlaMobilityRate,onChange:e=>_("dlaMobilityRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No award"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"dlaMobilityRate",value:"lowest",checked:"lowest"===w.dlaMobilityRate,onChange:e=>_("dlaMobilityRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Lowest Rate (\xa328.70)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"dlaMobilityRate",value:"highest",checked:"highest"===w.dlaMobilityRate,onChange:e=>_("dlaMobilityRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Highest Rate (\xa375.75)"]})]})]}),"yes"===w.claimsDisabilityBenefits&&"aa"===w.disabilityBenefitType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Attendance Allowance Rate"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("none"===w.aaRate?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"aaRate",value:"none",checked:"none"===w.aaRate,onChange:e=>_("aaRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No award"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"aaRate",value:"lower",checked:"lower"===w.aaRate,onChange:e=>_("aaRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Lower Rate (\xa372.65)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"aaRate",value:"higher",checked:"higher"===w.aaRate,onChange:e=>_("aaRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Higher Rate (\xa3108.55)"]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Do you qualify for Limited Capability for Work and Work-Related Activity (LCWRA)?"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("no"===w.hasLCWRA?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"hasLCWRA",value:"no",checked:"no"===w.hasLCWRA,onChange:e=>_("hasLCWRA",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"hasLCWRA",value:"yes",checked:"yes"===w.hasLCWRA,onChange:e=>_("hasLCWRA",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Yes"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"hasLCWRA",value:"waiting",checked:"waiting"===w.hasLCWRA,onChange:e=>_("hasLCWRA",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Waiting for assessment"]})]})]})]}),("self-employed"===w.employmentType&&"single"===w.circumstances||"couple"===w.circumstances&&("self-employed"===w.employmentType&&"self-employed"!==w.partnerEmploymentType||"self-employed"!==w.employmentType&&"self-employed"===w.partnerEmploymentType))&&(0,Ct.jsxs)("div",{className:"alert alert-info mif-alert",role:"alert",children:[(0,Ct.jsx)("strong",{children:"You might be affected by the Minimum Income Floor."})," Continue through the calculator and we'll tell you about it on the results page.",(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),C("MIF.SelfEmploymentAccounts.Info","Self-employed people have to fill in a monthly form to report their income to DWP. Our new self-employment accounts can help fill in this form and also ensure you claim all relevant allowances in Universal Credit. We can even help you fill out your annual income tax self-assessment form. Go to our self-employment accounts page to see how we can help and to sign up for the new service."),(0,Ct.jsx)("br",{}),(0,Ct.jsx)("br",{}),(0,Ct.jsx)(dt,{to:"/self-employment-accounts",className:"btn btn-primary btn-sm",children:"Go to Self-Employment Accounts"})]})]}),"couple"===w.circumstances&&(0,Ct.jsxs)("div",{className:"employment-disability-section",children:[(0,Ct.jsx)("h3",{children:"Employment and Disability - Partner"}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Partner's Employment Status"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("not_working"===w.partnerEmploymentType?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerEmploymentType",value:"not_working",checked:"not_working"===w.partnerEmploymentType,onChange:e=>_("partnerEmploymentType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"Not Working"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerEmploymentType",value:"employed",checked:"employed"===w.partnerEmploymentType,onChange:e=>_("partnerEmploymentType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Employed"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerEmploymentType",value:"self-employed",checked:"self-employed"===w.partnerEmploymentType,onChange:e=>_("partnerEmploymentType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Self-employed"]})]})]}),("employed"===w.partnerEmploymentType||"self-employed"===w.partnerEmploymentType)&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"form-group",children:(0,Ct.jsx)(Lt,{id:"partnerMonthlyEarnings",label:"Partner's Monthly Earnings",value:w.partnerMonthlyEarnings,onChange:e=>_("partnerMonthlyEarnings",e),onPeriodChange:e=>_("partnerMonthlyEarningsPeriod",e.target.value),periodValue:w.partnerMonthlyEarningsPeriod,min:0,step:.01})}),"employed"===w.partnerEmploymentType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)(Lt,{id:"partnerPensionAmount",label:"Partner's Pension Contributions (per month)",value:w.partnerPensionAmount,onChange:e=>_("partnerPensionAmount",e),onPeriodChange:e=>_("partnerPensionAmountPeriod",e.target.value),periodValue:w.partnerPensionAmountPeriod,min:0,step:.01}),(0,Ct.jsx)("div",{className:"form-toggle",children:(0,Ct.jsx)("button",{type:"button",className:"toggle-link",onClick:()=>{_("partnerPensionType","percentage"),w.partnerPensionPercentage&&0!==w.partnerPensionPercentage||_("partnerPensionPercentage",3)},children:"Calculate as percentage of gross earnings instead"})}),"percentage"===w.partnerPensionType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-suffix",children:[(0,Ct.jsx)("input",{type:"number",id:"partnerPensionPercentage",className:"form-control",min:"0",max:"100",step:"0.1",value:w.partnerPensionPercentage||"",onChange:e=>{const t=e.target.value;if(""===t)_("partnerPensionPercentage","");else{const e=parseFloat(t);!isNaN(e)&&e>=0&&e<=100&&_("partnerPensionPercentage",e)}},onBlur:e=>{""===e.target.value&&_("partnerPensionPercentage",3)}}),(0,Ct.jsx)("span",{className:"suffix",children:"%"})]}),w.partnerMonthlyEarnings>0&&w.partnerPensionPercentage>0&&(0,Ct.jsxs)("div",{className:"help-text",children:[w.partnerPensionPercentage,"% of \xa3",w.partnerMonthlyEarnings.toLocaleString()," = \xa3",(w.partnerMonthlyEarnings*w.partnerPensionPercentage/100).toFixed(2)," per month"]}),(0,Ct.jsx)("div",{className:"form-toggle",children:(0,Ct.jsx)("button",{type:"button",className:"toggle-link",onClick:()=>{if(_("partnerPensionType","amount"),w.partnerMonthlyEarnings>0&&w.partnerPensionPercentage>0){const e=w.partnerMonthlyEarnings*w.partnerPensionPercentage/100;_("partnerPensionAmount",Math.round(100*e)/100)}},children:"Use fixed amount instead"})})]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Is your partner sick or disabled?"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("no"===w.partnerIsDisabled?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerIsDisabled",value:"no",checked:"no"===w.partnerIsDisabled,onChange:e=>_("partnerIsDisabled",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerIsDisabled",value:"yes",checked:"yes"===w.partnerIsDisabled,onChange:e=>_("partnerIsDisabled",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Yes"]})]})]}),"yes"===w.partnerIsDisabled&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Does your partner claim disability benefits?"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("no"===w.partnerClaimsDisabilityBenefits?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerClaimsDisabilityBenefits",value:"no",checked:"no"===w.partnerClaimsDisabilityBenefits,onChange:e=>_("partnerClaimsDisabilityBenefits",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerClaimsDisabilityBenefits",value:"yes",checked:"yes"===w.partnerClaimsDisabilityBenefits,onChange:e=>_("partnerClaimsDisabilityBenefits",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Yes"]})]})]}),"yes"===w.partnerClaimsDisabilityBenefits&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"What disability benefit does your partner claim?"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerDisabilityBenefitType",value:"pip",checked:"pip"===w.partnerDisabilityBenefitType,onChange:e=>_("partnerDisabilityBenefitType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Personal Independence Payment (PIP)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerDisabilityBenefitType",value:"dla",checked:"dla"===w.partnerDisabilityBenefitType,onChange:e=>_("partnerDisabilityBenefitType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Disability Living Allowance (DLA)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerDisabilityBenefitType",value:"aa",checked:"aa"===w.partnerDisabilityBenefitType,onChange:e=>_("partnerDisabilityBenefitType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Attendance Allowance (AA)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerDisabilityBenefitType",value:"other",checked:"other"===w.partnerDisabilityBenefitType,onChange:e=>_("partnerDisabilityBenefitType",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Other"]})]})]}),"yes"===w.partnerClaimsDisabilityBenefits&&"pip"===w.partnerDisabilityBenefitType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Partner's PIP Daily Living Component Rate"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("none"===w.partnerPipDailyLivingRate?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerPipDailyLivingRate",value:"none",checked:"none"===w.partnerPipDailyLivingRate,onChange:e=>_("partnerPipDailyLivingRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No award"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerPipDailyLivingRate",value:"standard",checked:"standard"===w.partnerPipDailyLivingRate,onChange:e=>_("partnerPipDailyLivingRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Standard Rate (\xa372.65)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerPipDailyLivingRate",value:"enhanced",checked:"enhanced"===w.partnerPipDailyLivingRate,onChange:e=>_("partnerPipDailyLivingRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Enhanced Rate (\xa3108.55)"]})]})]}),"yes"===w.partnerClaimsDisabilityBenefits&&"pip"===w.partnerDisabilityBenefitType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Partner's PIP Mobility Component Rate"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("none"===w.partnerPipMobilityRate?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerPipMobilityRate",value:"none",checked:"none"===w.partnerPipMobilityRate,onChange:e=>_("partnerPipMobilityRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No award"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerPipMobilityRate",value:"standard",checked:"standard"===w.partnerPipMobilityRate,onChange:e=>_("partnerPipMobilityRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Standard Rate (\xa328.70)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerPipMobilityRate",value:"enhanced",checked:"enhanced"===w.partnerPipMobilityRate,onChange:e=>_("partnerPipMobilityRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Enhanced Rate (\xa375.75)"]})]})]}),"yes"===w.partnerClaimsDisabilityBenefits&&"dla"===w.partnerDisabilityBenefitType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Partner's DLA Care Component Rate"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("none"===w.partnerDlaCareRate?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerDlaCareRate",value:"none",checked:"none"===w.partnerDlaCareRate,onChange:e=>_("partnerDlaCareRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No award"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerDlaCareRate",value:"lowest",checked:"lowest"===w.partnerDlaCareRate,onChange:e=>_("partnerDlaCareRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Lowest Rate (\xa328.70)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerDlaCareRate",value:"middle",checked:"middle"===w.partnerDlaCareRate,onChange:e=>_("partnerDlaCareRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Middle Rate (\xa372.65)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerDlaCareRate",value:"highest",checked:"highest"===w.partnerDlaCareRate,onChange:e=>_("partnerDlaCareRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Highest Rate (\xa3108.55)"]})]})]}),"yes"===w.partnerClaimsDisabilityBenefits&&"dla"===w.partnerDisabilityBenefitType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Partner's DLA Mobility Component Rate"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("none"===w.partnerDlaMobilityRate?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerDlaMobilityRate",value:"none",checked:"none"===w.partnerDlaMobilityRate,onChange:e=>_("partnerDlaMobilityRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No award"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerDlaMobilityRate",value:"lowest",checked:"lowest"===w.partnerDlaMobilityRate,onChange:e=>_("partnerDlaMobilityRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Lowest Rate (\xa328.70)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerDlaMobilityRate",value:"highest",checked:"highest"===w.partnerDlaMobilityRate,onChange:e=>_("partnerDlaMobilityRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Highest Rate (\xa375.75)"]})]})]}),"yes"===w.partnerClaimsDisabilityBenefits&&"aa"===w.partnerDisabilityBenefitType&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Partner's Attendance Allowance Rate"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("none"===w.partnerAaRate?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerAaRate",value:"none",checked:"none"===w.partnerAaRate,onChange:e=>_("partnerAaRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No award"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerAaRate",value:"lower",checked:"lower"===w.partnerAaRate,onChange:e=>_("partnerAaRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Lower Rate (\xa372.65)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerAaRate",value:"higher",checked:"higher"===w.partnerAaRate,onChange:e=>_("partnerAaRate",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Higher Rate (\xa3108.55)"]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Does your partner qualify for Limited Capability for Work and Work-Related Activity (LCWRA)?"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("no"===w.partnerHasLCWRA?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerHasLCWRA",value:"no",checked:"no"===w.partnerHasLCWRA,onChange:e=>_("partnerHasLCWRA",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerHasLCWRA",value:"yes",checked:"yes"===w.partnerHasLCWRA,onChange:e=>_("partnerHasLCWRA",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Yes"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"partnerHasLCWRA",value:"waiting",checked:"waiting"===w.partnerHasLCWRA,onChange:e=>_("partnerHasLCWRA",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Waiting for assessment"]})]})]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Do you have children?"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat(w.hasChildren?"":"default-option"),children:[(0,Ct.jsx)("input",{type:"radio",name:"hasChildren",value:"no",checked:!w.hasChildren,onChange:e=>{_("hasChildren",!1),_("children",0),_("childAges",[]),_("childDisabilities",[]),_("childGenders",[])}}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No Children"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"hasChildren",value:"yes",checked:w.hasChildren,onChange:e=>{_("hasChildren",!0),0===w.children&&_("children",1)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Yes, I have children"]})]})]}),w.hasChildren&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"children",children:"Number of Children"}),(0,Ct.jsx)("input",{type:"number",id:"children",className:"form-control",min:"1",max:"10",value:w.children,onChange:e=>{const t=e.target.value;if(""===t)_("children","");else{const e=parseInt(t);!isNaN(e)&&e>=1&&e<=10&&_("children",e)}},onBlur:e=>{const t=e.target.value;(""===t||parseInt(t)<1)&&_("children",1)}})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)(Lt,{id:"childcareCosts",label:"Monthly Childcare Costs",value:w.childcareCosts,onChange:e=>_("childcareCosts",e),onPeriodChange:e=>_("childcareCostsPeriod",e.target.value),periodValue:w.childcareCostsPeriod,min:0,step:.01}),(0,Ct.jsx)("div",{className:"help-text",children:"Enter the total monthly cost of childcare for all your children. Universal Credit can help with up to 85% of childcare costs."})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Information for Each Child"}),Array.from({length:Math.max(1,w.children||1)},(e,t)=>{var n,i,a,s,r,o,l,c,d,h,u;return(0,Ct.jsxs)("div",{className:"child-section",style:{border:"1px solid #ddd",padding:"20px",marginBottom:"20px",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[(0,Ct.jsxs)("h4",{style:{marginTop:"0",marginBottom:"20px",color:"#333"},children:["Child ",t+1]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"childAge".concat(t),children:"Age:"}),(0,Ct.jsx)("input",{type:"number",id:"childAge".concat(t),className:"form-control",min:"0",max:"19",value:w.childAges[t]||"",onChange:e=>{const n=e.target.value,i=[...w.childAges||[]];if(""===n)i[t]="";else{const e=parseInt(n);!isNaN(e)&&e>=0&&e<=19&&(i[t]=e)}_("childAges",i)},onBlur:e=>{const n=e.target.value,i=[...w.childAges||[]];(""===n||parseInt(n)<0)&&(i[t]=0,_("childAges",i))},placeholder:"Enter age"})]}),"renting"===w.housingStatus&&w.children>=2&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"info-box",style:{marginBottom:"15px",padding:"10px",backgroundColor:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"4px"},children:(0,Ct.jsx)("p",{style:{margin:"0",fontSize:"14px",color:"#1976d2"},children:"We need to know the gender of your children to calculate the correct bedroom entitlement for Local Housing Allowance. Children of the same gender or under 10 years old can share a bedroom."})}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("label",{children:["Child ",t+1," Gender"]}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"childGender".concat(t),value:"male",checked:"male"===w.childGenders[t],onChange:e=>{const n=[...w.childGenders||[]];n[t]=e.target.value,_("childGenders",n)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Male"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"childGender".concat(t),value:"female",checked:"female"===w.childGenders[t],onChange:e=>{const n=[...w.childGenders||[]];n[t]=e.target.value,_("childGenders",n)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Female"]})]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("label",{children:["Does Child ",t+1," have an illness or disability?"]}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"childDisability".concat(t),value:"no",checked:!1===(null===(n=w.childDisabilities[t])||void 0===n?void 0:n.hasDisability),onChange:e=>{const n=[...w.childDisabilities||[]];n[t]||(n[t]={}),n[t].childIndex=t,n[t].hasDisability=!1,n[t].claimsDLA=!1,n[t].careRate="",n[t].mobilityRate="",_("childDisabilities",n)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"No"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"childDisability".concat(t),value:"yes",checked:!0===(null===(i=w.childDisabilities[t])||void 0===i?void 0:i.hasDisability),onChange:e=>{const n=[...w.childDisabilities||[]];n[t]||(n[t]={}),n[t].childIndex=t,n[t].hasDisability=!0,_("childDisabilities",n)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Yes"]})]})]}),(null===(a=w.childDisabilities[t])||void 0===a?void 0:a.hasDisability)&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("label",{children:["Does Child ",t+1," claim Disability Living Allowance (DLA)?"]}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"childDLA".concat(t),value:"no",checked:!1===(null===(s=w.childDisabilities[t])||void 0===s?void 0:s.claimsDLA),onChange:e=>{const n=[...w.childDisabilities||[]];n[t].claimsDLA=!1,n[t].careRate="",n[t].mobilityRate="",_("childDisabilities",n)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"No"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"childDLA".concat(t),value:"yes",checked:!0===(null===(r=w.childDisabilities[t])||void 0===r?void 0:r.claimsDLA),onChange:e=>{const n=[...w.childDisabilities||[]];n[t].claimsDLA=!0,_("childDisabilities",n)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Yes"]})]})]}),(null===(o=w.childDisabilities[t])||void 0===o?void 0:o.claimsDLA)&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"DLA Care Component Rate"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"childCareRate".concat(t),value:"lowest",checked:"lowest"===(null===(l=w.childDisabilities[t])||void 0===l?void 0:l.careRate),onChange:e=>{const n=[...w.childDisabilities||[]];n[t].careRate=e.target.value,_("childDisabilities",n)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Lowest Rate (\xa326.90)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"childCareRate".concat(t),value:"middle",checked:"middle"===(null===(c=w.childDisabilities[t])||void 0===c?void 0:c.careRate),onChange:e=>{const n=[...w.childDisabilities||[]];n[t].careRate=e.target.value,_("childDisabilities",n)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Middle Rate (\xa368.10)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"childCareRate".concat(t),value:"highest",checked:"highest"===(null===(d=w.childDisabilities[t])||void 0===d?void 0:d.careRate),onChange:e=>{const n=[...w.childDisabilities||[]];n[t].careRate=e.target.value,_("childDisabilities",n)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Highest Rate (\xa3101.75)"]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"DLA Mobility Component Rate"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"childMobilityRate".concat(t),value:"lowest",checked:"lowest"===(null===(h=w.childDisabilities[t])||void 0===h?void 0:h.mobilityRate),onChange:e=>{const n=[...w.childDisabilities||[]];n[t].mobilityRate=e.target.value,_("childDisabilities",n)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Lowest Rate (\xa326.90)"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"childMobilityRate".concat(t),value:"highest",checked:"highest"===(null===(u=w.childDisabilities[t])||void 0===u?void 0:u.mobilityRate),onChange:e=>{const n=[...w.childDisabilities||[]];n[t].mobilityRate=e.target.value,_("childDisabilities",n)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Highest Rate (\xa371.00)"]})]})]})]})]})]},t)})]})]}),(0,Ct.jsxs)("div",{className:"carer-section",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Do you care for someone who is sick or disabled?"}),(0,Ct.jsx)("div",{className:"developer-note",style:{fontSize:"0.85rem",color:"#666",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:"Note: This question will be replaced by BYR page redevelopment and new Carers Journey"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("no"===w.isCarer?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"isCarer",value:"no",checked:"no"===w.isCarer,onChange:e=>_("isCarer",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"isCarer",value:"yes",checked:"yes"===w.isCarer,onChange:e=>_("isCarer",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Yes"]})]})]}),"couple"===w.circumstances&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Does your partner care for someone who is sick or disabled?"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("no"===w.isPartnerCarer?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"isPartnerCarer",value:"no",checked:"no"===w.isPartnerCarer,onChange:e=>_("isPartnerCarer",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"isPartnerCarer",value:"yes",checked:"yes"===w.isPartnerCarer,onChange:e=>_("isPartnerCarer",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Yes"]})]})]}),(0,Ct.jsx)(Pt,{formData:w,onFormChange:N,isPartner:!1,isScotland:"scotland"===w.area,isUniversalCredit:!0,earningsBelowLimit:w.monthlyEarnings<=655}),"couple"===w.circumstances&&(0,Ct.jsx)(Pt,{formData:w,onFormChange:N,isPartner:!0,isScotland:"scotland"===w.area,isUniversalCredit:!0,earningsBelowLimit:w.partnerMonthlyEarnings<=655})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Do you receive any other benefits?"}),(0,Ct.jsx)("div",{className:"developer-note",style:{fontSize:"0.85rem",color:"#666",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:"Note: This question will be replaced by BYR page redevelopment and new Carers Journey"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("no"===w.hasOtherBenefits?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"hasOtherBenefits",value:"no",checked:"no"===w.hasOtherBenefits,onChange:e=>_("hasOtherBenefits",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"hasOtherBenefits",value:"yes",checked:"yes"===w.hasOtherBenefits,onChange:e=>_("hasOtherBenefits",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"Yes"})]})]})]}),"yes"===w.hasOtherBenefits&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Select the benefits you receive:"}),(0,Ct.jsxs)("div",{className:"checkbox-group",children:[(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"child_benefit",checked:null===(t=w.otherBenefitsList)||void 0===t?void 0:t.includes("child_benefit"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Child Benefit"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"housing_benefit",checked:null===(n=w.otherBenefitsList)||void 0===n?void 0:n.includes("housing_benefit"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Housing Benefit"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"council_tax_reduction",checked:null===(i=w.otherBenefitsList)||void 0===i?void 0:i.includes("council_tax_reduction"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Council Tax Reduction"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"carers_allowance",checked:null===(a=w.otherBenefitsList)||void 0===a?void 0:a.includes("carers_allowance"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Carer's Allowance"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"employment_support_allowance",checked:null===(s=w.otherBenefitsList)||void 0===s?void 0:s.includes("employment_support_allowance"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Employment and Support Allowance (ESA)"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"jobseekers_allowance",checked:null===(r=w.otherBenefitsList)||void 0===r?void 0:r.includes("jobseekers_allowance"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Jobseeker's Allowance (JSA)"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"income_support",checked:null===(o=w.otherBenefitsList)||void 0===o?void 0:o.includes("income_support"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Income Support"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"pension_credit",checked:null===(l=w.otherBenefitsList)||void 0===l?void 0:l.includes("pension_credit"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Pension Credit"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"working_tax_credit",checked:null===(c=w.otherBenefitsList)||void 0===c?void 0:c.includes("working_tax_credit"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Working Tax Credit"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"child_tax_credit",checked:null===(d=w.otherBenefitsList)||void 0===d?void 0:d.includes("child_tax_credit"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Child Tax Credit"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"maternity_allowance",checked:null===(h=w.otherBenefitsList)||void 0===h?void 0:h.includes("maternity_allowance"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Maternity Allowance"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"statutory_sick_pay",checked:null===(u=w.otherBenefitsList)||void 0===u?void 0:u.includes("statutory_sick_pay"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Statutory Sick Pay (SSP)"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"statutory_maternity_pay",checked:null===(p=w.otherBenefitsList)||void 0===p?void 0:p.includes("statutory_maternity_pay"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Statutory Maternity Pay (SMP)"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"statutory_paternity_pay",checked:null===(m=w.otherBenefitsList)||void 0===m?void 0:m.includes("statutory_paternity_pay"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Statutory Paternity Pay (SPP)"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"statutory_adoption_pay",checked:null===(f=w.otherBenefitsList)||void 0===f?void 0:f.includes("statutory_adoption_pay"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Statutory Adoption Pay (SAP)"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"bereavement_benefits",checked:null===(g=w.otherBenefitsList)||void 0===g?void 0:g.includes("bereavement_benefits"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Bereavement Benefits"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"industrial_injuries",checked:null===(v=w.otherBenefitsList)||void 0===v?void 0:v.includes("industrial_injuries"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Industrial Injuries Disablement Benefit"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"war_pension",checked:null===(b=w.otherBenefitsList)||void 0===b?void 0:b.includes("war_pension"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"War Pension"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"armed_forces_compensation",checked:null===(y=w.otherBenefitsList)||void 0===y?void 0:y.includes("armed_forces_compensation"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Armed Forces Compensation Scheme"})]}),(0,Ct.jsxs)("label",{className:"checkbox-label",children:[(0,Ct.jsx)("input",{type:"checkbox",name:"otherBenefitsList",value:"other",checked:null===(x=w.otherBenefitsList)||void 0===x?void 0:x.includes("other"),onChange:e=>{const t=w.otherBenefitsList||[];e.target.checked?_("otherBenefitsList",[...t,e.target.value]):_("otherBenefitsList",t.filter(t=>t!==e.target.value))}}),(0,Ct.jsx)("span",{className:"checkbox-custom"}),(0,Ct.jsx)("span",{children:"Other (please specify)"})]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Do you have \xa36,000 or more in savings?"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label ".concat("no"===w.hasSavingsOver6000?"default-option":""),children:[(0,Ct.jsx)("input",{type:"radio",name:"hasSavingsOver6000",value:"no",checked:"no"===w.hasSavingsOver6000,onChange:e=>{_("hasSavingsOver6000",e.target.value),"no"===e.target.value&&_("savings",0)}}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"No"})]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"hasSavingsOver6000",value:"yes",checked:"yes"===w.hasSavingsOver6000,onChange:e=>_("hasSavingsOver6000",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),(0,Ct.jsx)("span",{children:"Yes"})]})]})]}),"yes"===w.hasSavingsOver6000&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("div",{className:"form-group",children:(0,Ct.jsx)(Lt,{id:"savings",label:"How much do you have in savings?",value:w.savings,onChange:e=>_("savings",e),onPeriodChange:e=>_("savingsPeriod",e.target.value),periodValue:w.savingsPeriod,min:0,step:.01})}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Tariff Income Rules:"})," Universal Credit uses 'tariff income' rules for savings over \xa36,000. For every \xa3250 (or part of \xa3250) you have over \xa36,000, \xa34.35 is treated as monthly income (\xa31 per week). This reduces your Universal Credit entitlement."]}),(0,Ct.jsx)("p",{children:"For example: If you have \xa36,500 in savings, \xa3500 is over the limit. This creates a tariff income of \xa38.70 per month (\xa3500 \xf7 \xa3250 \xd7 \xa34.35), which is \xa32 per week."})]})]}),(0,Ct.jsxs)("div",{className:"button-group",children:[(0,Ct.jsx)("button",{type:"button",onClick:A,className:"btn btn-primary",children:"Calculate"}),(0,Ct.jsx)("button",{type:"button",onClick:k,className:"btn btn-outline",children:"Reset"})]})]})})};function It(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GBP";return"number"!==typeof e||isNaN(e)?"\xa30.00":new Intl.NumberFormat("en-GB",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}const Ft=function(t){let{formData:n,onFormChange:i,currentUCAmount:s=0,isVisible:r=!1,onToggleVisibility:o}=t;const[l,c]=(0,e.useState)({employmentType:"employee",hoursPerWeek:30,hourlyWage:12.21,calculationPeriod:"monthly"}),[d,h]=(0,e.useState)({childcare:{perWeek:0,per4Weeks:0,perMonth:0,perYear:0},schoolMeals:{perWeek:0,per4Weeks:0,perMonth:0,perYear:0},prescriptions:{perWeek:0,per4Weeks:0,perMonth:0,perYear:0},workClothing:{perWeek:0,per4Weeks:0,perMonth:0,perYear:0},workTravel:{perWeek:0,per4Weeks:0,perMonth:0,perYear:0},otherWorkCosts:{perWeek:0,per4Weeks:0,perMonth:0,perYear:0},energySavings:{perWeek:0,per4Weeks:0,perMonth:0,perYear:0},otherSavings:{perWeek:0,per4Weeks:0,perMonth:0,perYear:0}}),[u,p]=(0,e.useState)(null),[m,f]=(0,e.useState)(!1),[g,v]=(0,e.useState)(!1),b=(e,t)=>{c(n=>(0,a.A)((0,a.A)({},n),{},{[e]:t}))},y=(e,t,n)=>{h(i=>(0,a.A)((0,a.A)({},i),{},{[e]:(0,a.A)((0,a.A)({},i[e]),{},{[t]:parseFloat(n)||0})}))},x=()=>{const{hoursPerWeek:e,hourlyWage:t,calculationPeriod:n}=l,i=4.33*(e*t),a=.8*i,r=.55*Math.max(0,a-379),o=Math.max(0,s-r),c=a+o,d=s,h=w(),u=N(),m=h-u;p({grossEarnings:{current:0,inWork:i,impact:i},netEarnings:{current:0,inWork:a,impact:a},universalCredit:{current:s,inWork:o,impact:o-s},totalIncome:{current:d,inWork:c,impact:c-d},workCosts:{total:h,savings:u,net:m},betterOffAmount:c-d-m,calculationPeriod:n}),f(!0)},w=()=>{let e=0;return Object.values(d).forEach(t=>{t.perMonth>0?e+=t.perMonth:t.perWeek>0?e+=4.33*t.perWeek:t.per4Weeks>0?e+=12*t.per4Weeks/52:t.perYear>0&&(e+=t.perYear/12)}),e},N=()=>{let e=0;return["energySavings","otherSavings"].forEach(t=>{const n=d[t];n.perMonth>0?e+=n.perMonth:n.perWeek>0?e+=4.33*n.perWeek:n.per4Weeks>0?e+=12*n.per4Weeks/52:n.perYear>0&&(e+=n.perYear/12)}),e},A=()=>{switch(l.calculationPeriod){case"weekly":return"per week";case"4weeks":return"per 4 weeks";default:return"per month"}},k=e=>It(e),j=e=>e>=0?"positive":"negative",C=e=>e>=0?"+":"";return r?(0,Ct.jsx)("div",{className:"better-off-module",children:(0,Ct.jsxs)("div",{className:"card",children:[(0,Ct.jsxs)("div",{className:"module-header",children:[(0,Ct.jsx)("h3",{children:"How much better off would you be in work?"}),(0,Ct.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:o,children:"Hide detailed information"})]}),(0,Ct.jsx)("div",{className:"module-description",children:(0,Ct.jsx)("p",{children:"Use the better off calculator by entering details of the job you are thinking about. We will take this information and calculate how much you will earn after tax and if you qualify for in-work benefits."})}),(0,Ct.jsxs)("div",{className:"data-entry-section",children:[(0,Ct.jsx)("div",{className:"form-row",children:(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"employmentType",children:"Employee or self-employed?"}),(0,Ct.jsxs)("select",{id:"employmentType",className:"form-control",value:l.employmentType,onChange:e=>b("employmentType",e.target.value),children:[(0,Ct.jsx)("option",{value:"employee",children:"Employee"}),(0,Ct.jsx)("option",{value:"self-employed",children:"Self-employed"})]})]})}),(0,Ct.jsx)("div",{className:"form-row",children:(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"hoursPerWeek",children:"Hours worked:"}),(0,Ct.jsxs)("div",{className:"input-with-suffix",children:[(0,Ct.jsx)("input",{type:"number",id:"hoursPerWeek",className:"form-control",value:l.hoursPerWeek,onChange:e=>b("hoursPerWeek",parseFloat(e.target.value)||0),min:"0",max:"168"}),(0,Ct.jsx)("span",{className:"suffix",children:"per week"})]})]})}),(0,Ct.jsx)("div",{className:"form-row",children:(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"hourlyWage",children:"Wage rate:"}),(0,Ct.jsxs)("div",{className:"input-with-prefix-suffix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"hourlyWage",className:"form-control",value:l.hourlyWage,onChange:e=>b("hourlyWage",parseFloat(e.target.value)||0),min:"0",step:"0.01"}),(0,Ct.jsx)("span",{className:"suffix",children:"per hour"})]})]})}),(0,Ct.jsx)("div",{className:"form-row",children:(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Calculation period:"}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"calculationPeriod",value:"weekly",checked:"weekly"===l.calculationPeriod,onChange:e=>b("calculationPeriod",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Weekly"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"calculationPeriod",value:"4weeks",checked:"4weeks"===l.calculationPeriod,onChange:e=>b("calculationPeriod",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"4 weeks"]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"calculationPeriod",value:"monthly",checked:"monthly"===l.calculationPeriod,onChange:e=>b("calculationPeriod",e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),"Monthly"]})]})]})}),(0,Ct.jsx)("div",{className:"button-group",children:(0,Ct.jsx)("button",{type:"button",className:"btn btn-primary",onClick:x,children:"Calculate"})})]}),m&&u&&(0,Ct.jsxs)("div",{className:"results-section",children:[(0,Ct.jsxs)("div",{className:"summary-statement",children:[(0,Ct.jsx)("div",{className:"checkmark-icon",children:"\u2713"}),(0,Ct.jsxs)("div",{className:"summary-text",children:[(0,Ct.jsxs)("p",{children:["You could be ",(0,Ct.jsx)("strong",{className:"highlight",children:k(u.betterOffAmount)})," ",A()," better off in work"]}),(0,Ct.jsx)("p",{className:"note",children:"(estimate includes work-related costs and savings)"})]})]}),(0,Ct.jsx)("div",{className:"breakdown-table",children:(0,Ct.jsxs)("table",{children:[(0,Ct.jsx)("thead",{children:(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("th",{children:"YOUR DETAILS"}),(0,Ct.jsx)("th",{children:"CURRENT INCOME"}),(0,Ct.jsx)("th",{children:"INCOME IN WORK"}),(0,Ct.jsx)("th",{children:"IMPACT"})]})}),(0,Ct.jsxs)("tbody",{children:[(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:"Gross Earnings"}),(0,Ct.jsx)("td",{children:k(u.grossEarnings.current)}),(0,Ct.jsx)("td",{children:k(u.grossEarnings.inWork)}),(0,Ct.jsxs)("td",{className:"impact ".concat(j(u.grossEarnings.impact)),children:[C(u.grossEarnings.impact),k(u.grossEarnings.impact)]})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:"Net Earnings"}),(0,Ct.jsx)("td",{children:k(u.netEarnings.current)}),(0,Ct.jsx)("td",{children:k(u.netEarnings.inWork)}),(0,Ct.jsxs)("td",{className:"impact ".concat(j(u.netEarnings.impact)),children:[C(u.netEarnings.impact),k(u.netEarnings.impact)]})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:"Universal Credit"}),(0,Ct.jsx)("td",{children:k(u.universalCredit.current)}),(0,Ct.jsx)("td",{children:k(u.universalCredit.inWork)}),(0,Ct.jsxs)("td",{className:"impact ".concat(j(u.universalCredit.impact)),children:[C(u.universalCredit.impact),k(u.universalCredit.impact)]})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:"Total Benefits"}),(0,Ct.jsx)("td",{children:k(u.universalCredit.current)}),(0,Ct.jsx)("td",{children:k(u.universalCredit.inWork)}),(0,Ct.jsxs)("td",{className:"impact ".concat(j(u.universalCredit.impact)),children:[C(u.universalCredit.impact),k(u.universalCredit.impact)]})]}),(0,Ct.jsxs)("tr",{className:"total-row",children:[(0,Ct.jsx)("td",{children:"Total Income"}),(0,Ct.jsx)("td",{children:k(u.totalIncome.current)}),(0,Ct.jsx)("td",{children:k(u.totalIncome.inWork)}),(0,Ct.jsxs)("td",{className:"impact ".concat(j(u.totalIncome.impact)),children:[C(u.totalIncome.impact),k(u.totalIncome.impact)]})]})]})]})}),(0,Ct.jsx)("div",{className:"action-links",children:(0,Ct.jsxs)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>v(!g),children:[g?"Hide":"Calculate"," costs of work"]})}),g&&(0,Ct.jsxs)("div",{className:"costs-section",children:[(0,Ct.jsx)("h4",{children:"Costs of work"}),(0,Ct.jsx)("div",{className:"costs-intro",children:(0,Ct.jsxs)("p",{children:["Some people have extra costs when they enter work. You can update the better off amount to take these into account by entering any extra costs you expect below. For help with how to use this tool please read our ",(0,Ct.jsx)("span",{className:"help-link",children:"Costs of work help page"}),"."]})}),(0,Ct.jsxs)("div",{className:"costs-subsection",children:[(0,Ct.jsx)("h5",{children:"Additional spending because of work"}),(0,Ct.jsxs)("div",{className:"costs-list",children:[(0,Ct.jsxs)("div",{className:"cost-item",children:[(0,Ct.jsx)("label",{children:"Childcare"}),(0,Ct.jsxs)("div",{className:"cost-input-group",children:[(0,Ct.jsx)("span",{className:"currency-symbol",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",className:"form-control cost-input",value:d.childcare.perWeek,onChange:e=>y("childcare","perWeek",e.target.value),min:"0",step:"0.01",placeholder:"0.00"}),(0,Ct.jsxs)("select",{className:"period-selector",value:"perWeek",onChange:e=>y("childcare",e.target.value,d.childcare.perWeek),children:[(0,Ct.jsx)("option",{value:"perWeek",children:"per week"}),(0,Ct.jsx)("option",{value:"perMonth",children:"per month"}),(0,Ct.jsx)("option",{value:"perYear",children:"per year"})]})]})]}),(0,Ct.jsxs)("div",{className:"cost-item",children:[(0,Ct.jsx)("label",{children:"School meals"}),(0,Ct.jsxs)("div",{className:"cost-input-group",children:[(0,Ct.jsx)("span",{className:"currency-symbol",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",className:"form-control cost-input",value:d.schoolMeals.perWeek,onChange:e=>y("schoolMeals","perWeek",e.target.value),min:"0",step:"0.01",placeholder:"0.00"}),(0,Ct.jsxs)("select",{className:"period-selector",value:"perWeek",onChange:e=>y("schoolMeals",e.target.value,d.schoolMeals.perWeek),children:[(0,Ct.jsx)("option",{value:"perWeek",children:"per week"}),(0,Ct.jsx)("option",{value:"perMonth",children:"per month"}),(0,Ct.jsx)("option",{value:"perYear",children:"per year"})]})]})]}),(0,Ct.jsxs)("div",{className:"cost-item",children:[(0,Ct.jsx)("label",{children:"Prescriptions"}),(0,Ct.jsxs)("div",{className:"cost-input-group",children:[(0,Ct.jsx)("span",{className:"currency-symbol",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",className:"form-control cost-input",value:d.prescriptions.perWeek,onChange:e=>y("prescriptions","perWeek",e.target.value),min:"0",step:"0.01",placeholder:"0.00"}),(0,Ct.jsxs)("select",{className:"period-selector",value:"perWeek",onChange:e=>y("prescriptions",e.target.value,d.prescriptions.perWeek),children:[(0,Ct.jsx)("option",{value:"perWeek",children:"per week"}),(0,Ct.jsx)("option",{value:"perMonth",children:"per month"}),(0,Ct.jsx)("option",{value:"perYear",children:"per year"})]})]})]}),(0,Ct.jsxs)("div",{className:"cost-item",children:[(0,Ct.jsx)("label",{children:"Work clothing"}),(0,Ct.jsxs)("div",{className:"cost-input-group",children:[(0,Ct.jsx)("span",{className:"currency-symbol",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",className:"form-control cost-input",value:d.workClothing.perWeek,onChange:e=>y("workClothing","perWeek",e.target.value),min:"0",step:"0.01",placeholder:"0.00"}),(0,Ct.jsxs)("select",{className:"period-selector",value:"perWeek",onChange:e=>y("workClothing",e.target.value,d.workClothing.perWeek),children:[(0,Ct.jsx)("option",{value:"perWeek",children:"per week"}),(0,Ct.jsx)("option",{value:"perMonth",children:"per month"}),(0,Ct.jsx)("option",{value:"perYear",children:"per year"})]})]})]}),(0,Ct.jsxs)("div",{className:"cost-item",children:[(0,Ct.jsx)("label",{children:"Work related travel"}),(0,Ct.jsxs)("div",{className:"cost-input-group",children:[(0,Ct.jsx)("span",{className:"currency-symbol",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",className:"form-control cost-input",value:d.workTravel.perWeek,onChange:e=>y("workTravel","perWeek",e.target.value),min:"0",step:"0.01",placeholder:"0.00"}),(0,Ct.jsxs)("select",{className:"period-selector",value:"perWeek",onChange:e=>y("workTravel",e.target.value,d.workTravel.perWeek),children:[(0,Ct.jsx)("option",{value:"perWeek",children:"per week"}),(0,Ct.jsx)("option",{value:"perMonth",children:"per month"}),(0,Ct.jsx)("option",{value:"perYear",children:"per year"})]})]})]}),(0,Ct.jsxs)("div",{className:"cost-item",children:[(0,Ct.jsx)("label",{children:"Other work-related costs"}),(0,Ct.jsxs)("div",{className:"cost-input-group",children:[(0,Ct.jsx)("span",{className:"currency-symbol",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",className:"form-control cost-input",value:d.otherWorkCosts.perWeek,onChange:e=>y("otherWorkCosts","perWeek",e.target.value),min:"0",step:"0.01",placeholder:"0.00"}),(0,Ct.jsxs)("select",{className:"period-selector",value:"perWeek",onChange:e=>y("otherWorkCosts",e.target.value,d.otherWorkCosts.perWeek),children:[(0,Ct.jsx)("option",{value:"perWeek",children:"per week"}),(0,Ct.jsx)("option",{value:"perMonth",children:"per month"}),(0,Ct.jsx)("option",{value:"perYear",children:"per year"})]})]})]})]})]}),(0,Ct.jsxs)("div",{className:"total-costs",children:[(0,Ct.jsx)("h5",{children:"Total costs of work"}),(0,Ct.jsxs)("div",{className:"total-amount",children:["\xa3",k(w())," / month"]})]}),(0,Ct.jsx)("div",{className:"button-group",children:(0,Ct.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:x,children:[(0,Ct.jsx)("span",{className:"calendar-icon",children:"\ud83d\udcc5"}),"Take costs from better off amount"]})}),u&&(0,Ct.jsxs)("div",{className:"updated-results",children:[(0,Ct.jsx)("h5",{children:"Updated Better Off Calculation (including costs)"}),(0,Ct.jsxs)("div",{className:"costs-summary",children:[(0,Ct.jsxs)("div",{className:"costs-row",children:[(0,Ct.jsx)("span",{children:"Total work-related costs:"}),(0,Ct.jsxs)("span",{className:"costs-amount",children:["\xa3",k(u.workCosts.total)]})]}),(0,Ct.jsxs)("div",{className:"costs-row",children:[(0,Ct.jsx)("span",{children:"Total work-related savings:"}),(0,Ct.jsxs)("span",{className:"costs-amount",children:["\xa3",k(u.workCosts.savings)]})]}),(0,Ct.jsxs)("div",{className:"costs-row total",children:[(0,Ct.jsx)("span",{children:"Net work-related costs:"}),(0,Ct.jsxs)("span",{className:"costs-amount",children:["\xa3",k(u.workCosts.net)]})]})]}),(0,Ct.jsxs)("div",{className:"final-better-off",children:[(0,Ct.jsx)("h6",{children:"Final Better Off Amount:"}),(0,Ct.jsxs)("div",{className:"final-amount",children:["\xa3",k(u.betterOffAmount)," ",A()]})]})]})]})]})]})}):null};const Rt=new class{constructor(){this.rates={"2025_26":{eldestChild:26.05,additionalChildren:17.25},"2024_25":{eldestChild:25.6,additionalChildren:16.95},"2023_24":{eldestChild:24,additionalChildren:15.9}}}calculateChildBenefit(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"2024_25";const n=parseInt(e.children)||0;if(0===n)return{weeklyAmount:0,monthlyAmount:0,yearlyAmount:0,breakdown:[],totalChildren:0,highIncomeChargeMessage:null};const i=this.rates[t]||this.rates["2024_25"],a=[];let s=0;n>=1&&(a.push({child:1,rate:i.eldestChild,description:"Eldest child"}),s+=i.eldestChild);for(let r=2;r<=n;r++)a.push({child:r,rate:i.additionalChildren,description:"Additional child"}),s+=i.additionalChildren;return{weeklyAmount:s,monthlyAmount:4.33*s,yearlyAmount:52*s,breakdown:a,totalChildren:n,taxYear:t,highIncomeChargeMessage:this.getHighIncomeChargeMessage(e)}}getHighIncomeChargeMessage(e){const t=this.calculateYearlyEarnings(e);return t<6e4?null:t>=6e4&&t<8e4?{type:"partial_charge",message:"You will be subject to the Child Benefit high income tax charge. The calculator does not take sufficient information to work out the exact value of the charge, but on incomes between \xa360,000 and \xa380,000 the charge will be less than the value of your Child Benefit. To find out more see {Child Benefit charge}.",earningsRange:"\xa360,000 - \xa379,999"}:t>=8e4?{type:"full_charge",message:"You will be subject to the Child Benefit high income tax charge. This charge will be the same value as your Child Benefit. You may choose to stop receiving Child Benefit but if you claim it and repay the relevant tax you will also get credits towards your state pension. To find out more about your options see {Child Benefit charge}.",earningsRange:"\xa380,000 or over"}:null}calculateYearlyEarnings(e){let t=0;if("employed"===e.employmentType||!e.employmentType){const n=parseFloat(e.monthlyEarnings)||0,i=e.monthlyEarningsPeriod||"per_month";t=this.convertToMonthly(n,i)}if("self-employed"===e.employmentType){const n=(parseFloat(e.businessIncomeBank)||0)+(parseFloat(e.businessIncomeCash)||0),i=e.businessIncomeBankPeriod||"per_month",a=this.calculateTotalBusinessExpenses(e),s="per_month",r=this.convertToMonthly(n,i),o=this.convertToMonthly(a,s);t=Math.max(0,r-o)}return 12*t}calculateTotalBusinessExpenses(e){let t=0;return["businessExpensesRent","businessExpensesRates","businessExpensesUtilities","businessExpensesInsurance","businessExpensesTelephone","businessExpensesMarketing","businessExpensesVehicle","businessExpensesEquipment","businessExpensesPostage","businessExpensesTransport","businessExpensesProfessional","businessTax","businessNIC","businessPension"].forEach(n=>{const i=parseFloat(e[n])||0,a=e[n+"Period"]||"per_month";t+=this.convertToMonthly(i,a)}),t}convertToMonthly(e,t){switch(t){case"weekly":case"per_week":return 4.33*e;case"fortnightly":case"per_fortnight":return 2.17*e;case"monthly":case"per_month":default:return e;case"yearly":case"per_year":return e/12}}getRates(e){return this.rates[e]||this.rates["2024_25"]}getAvailableTaxYears(){return Object.keys(this.rates)}};const Dt=function(t){let{results:n,formData:i,onPrint:s,onExport:r,onSave:o}=t;const{getTextValue:l}=Mt(),{calculation:c,taxYear:d}=n,[h,u]=(0,e.useState)(!1),[p,m]=(0,e.useState)(""),[f,g]=(0,e.useState)(""),[v,b]=(0,e.useState)(35),[y,x]=(0,e.useState)(!1),[w,N]=(0,e.useState)(!1),A=Rt.calculateChildBenefit(i,d);(0,e.useEffect)(()=>{if(n&&n.calculation){const e={ucAmount:n.calculation.finalAmount,otherBenefits:A.monthlyAmount,totalIncome:n.calculation.totalElements,totalDeductions:n.calculation.earningsReduction,netIncome:n.calculation.finalAmount+A.monthlyAmount};((e,t)=>{try{const n={formData:(0,a.A)({},e),results:{ucAmount:(null===t||void 0===t?void 0:t.ucAmount)||0,otherBenefits:(null===t||void 0===t?void 0:t.otherBenefits)||0,childcareCosts:(null===e||void 0===e?void 0:e.childcareCosts)||0,totalIncome:(null===t||void 0===t?void 0:t.totalIncome)||0,totalDeductions:(null===t||void 0===t?void 0:t.totalDeductions)||0,netIncome:(null===t||void 0===t?void 0:t.netIncome)||0},timestamp:(new Date).toISOString(),source:"benefit-calculator"};return localStorage.setItem("benefitCalculatorData",JSON.stringify(n)),!0}catch(n){return console.error("Error saving benefit calculator data:",n),!1}})(i,e)}},[n,i,A.monthlyAmount]);const k=()=>{const e=11.44*v,t=4.33*e,n=c.earningsReduction/.55,i=n/4.33;return{mifWeekly:Math.round(100*e)/100,mifMonthly:Math.round(100*t)/100,currentWeeklyEarnings:Math.round(100*i)/100,currentMonthlyEarnings:Math.round(100*n)/100,earningsDifference:Math.round(100*(e-i))/100}},j=()=>{const e=k(),t={grossEarnings:e.currentWeeklyEarnings,netEarnings:.8*e.currentWeeklyEarnings,universalCredit:c.finalAmount/4.33,totalBenefits:c.finalAmount/4.33,totalIncome:.8*e.currentWeeklyEarnings+c.finalAmount/4.33},n={grossEarnings:e.mifWeekly,netEarnings:.8*e.mifWeekly,universalCredit:Math.max(0,c.totalElements/4.33-.8*e.mifWeekly*.55),totalBenefits:Math.max(0,c.totalElements/4.33-.8*e.mifWeekly*.55),totalIncome:.8*e.mifWeekly+Math.max(0,c.totalElements/4.33-.8*e.mifWeekly*.55)};return{withoutMif:t,withMif:n,impact:{grossEarnings:n.grossEarnings-t.grossEarnings,netEarnings:n.netEarnings-t.netEarnings,universalCredit:n.universalCredit-t.universalCredit,totalBenefits:n.totalBenefits-t.totalBenefits,totalIncome:n.totalIncome-t.totalIncome}}};return(0,Ct.jsxs)("section",{className:"results-section",children:[(0,Ct.jsxs)("div",{className:"card",children:[(0,Ct.jsx)("h2",{children:"Your Universal Credit Calculation"}),(0,Ct.jsx)("div",{className:"results-container",children:(0,Ct.jsxs)("div",{className:"result-summary",children:[(0,Ct.jsx)("h3",{children:"Your Universal Credit Entitlement"}),(0,Ct.jsx)("div",{className:"final-amount",children:It(c.finalAmount)}),(0,Ct.jsx)("p",{className:"result-note",children:"per month"}),(0,Ct.jsxs)("p",{className:"tax-year",children:["Tax Year: ",d.replace("_","/")]})]})}),(0,Ct.jsxs)("div",{className:"detailed-results",children:[(0,Ct.jsx)("h3",{children:"Breakdown"}),(0,Ct.jsxs)("div",{className:"breakdown-list",children:[(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Standard Allowance"}),(0,Ct.jsx)("span",{className:"value",children:It(c.standardAllowance)})]}),(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Housing Element"}),(0,Ct.jsx)("span",{className:"value",children:It(c.housingElement)})]}),(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Child Element"}),(0,Ct.jsx)("span",{className:"value",children:It(c.childElement)})]}),(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Childcare Element"}),(0,Ct.jsx)("span",{className:"value",children:It(c.childcareElement)})]}),c.carerElement>0&&(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Carer Element"}),(0,Ct.jsx)("span",{className:"value",children:It(c.carerElement)})]}),c.lcwraElement>0&&(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"LCWRA Element"}),(0,Ct.jsx)("span",{className:"value",children:It(c.lcwraElement)})]}),(0,Ct.jsxs)("div",{className:"breakdown-item total",children:[(0,Ct.jsx)("span",{className:"label",children:"Total Elements"}),(0,Ct.jsx)("span",{className:"value",children:It(c.totalElements)})]}),(0,Ct.jsxs)("div",{className:"breakdown-item deduction",children:[(0,Ct.jsx)("span",{className:"label",children:c.workAllowance>0?"Earnings Reduction after work allowance of ".concat(It(c.workAllowance)):"Earnings Reduction"}),(0,Ct.jsxs)("span",{className:"value",children:["-",It(c.earningsReduction)]})]}),(0,Ct.jsxs)("div",{className:"breakdown-item deduction",children:[(0,Ct.jsx)("span",{className:"label",children:"Other Deductions"}),(0,Ct.jsxs)("span",{className:"value",children:["-",It(c.capitalDeduction+c.benefitDeduction)]})]}),c.capitalDeductionDetails&&c.capitalDeductionDetails.tariffIncome>0&&(0,Ct.jsxs)("div",{className:"breakdown-item info",children:[(0,Ct.jsx)("span",{className:"label",children:"Tariff Income from Savings"}),(0,Ct.jsxs)("span",{className:"value",children:["-",It(c.capitalDeductionDetails.tariffIncome)]}),(0,Ct.jsx)("div",{className:"explanation",children:(0,Ct.jsx)("small",{children:c.capitalDeductionDetails.explanation})})]}),(0,Ct.jsxs)("div",{className:"breakdown-item final",children:[(0,Ct.jsx)("span",{className:"label",children:"Final Universal Credit"}),(0,Ct.jsx)("span",{className:"value",children:It(c.finalAmount)})]})]})]}),i&&i.children>0&&(0,Ct.jsxs)("div",{className:"child-benefit-section",children:[(0,Ct.jsxs)("div",{className:"child-benefit-header",children:[(0,Ct.jsx)("h3",{children:"Child Benefit"}),(0,Ct.jsxs)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>N(!w),children:[w?"Hide":"See"," weekly amount"]})]}),(0,Ct.jsxs)("div",{className:"breakdown-list",children:[(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Child Benefit (Monthly)"}),(0,Ct.jsx)("span",{className:"value",children:It(A.monthlyAmount)})]}),w&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Child Benefit (Weekly)"}),(0,Ct.jsx)("span",{className:"value",children:It(A.weeklyAmount)})]}),(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Child Benefit (Yearly)"}),(0,Ct.jsx)("span",{className:"value",children:It(A.yearlyAmount)})]}),A.breakdown&&A.breakdown.length>0&&(0,Ct.jsx)(Ct.Fragment,{children:A.breakdown.map((e,t)=>(0,Ct.jsxs)("div",{className:"breakdown-item child-breakdown",children:[(0,Ct.jsx)("span",{className:"label",children:e.description}),(0,Ct.jsxs)("span",{className:"value",children:[It(e.rate)," per week"]})]},t))})]})]}),(0,Ct.jsxs)("div",{className:"child-benefit-info",children:[(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Note:"})," Child Benefit is not means-tested but may be subject to the High Income Child Benefit Charge if you or your partner earn over \xa360,000 per year."]}),(0,Ct.jsxs)("p",{children:["Rates based on official government rates from ",(0,Ct.jsx)("a",{href:"https://www.gov.uk/government/publications/rates-and-allowances-tax-credits-child-benefit-and-guardians-allowance/tax-credits-child-benefit-and-guardians-allowance",target:"_blank",rel:"noopener noreferrer",children:"GOV.UK"})]})]})]}),i&&"private"===i.tenantType&&c.lhaDetails&&(0,Ct.jsxs)("div",{className:"lha-panel",children:[(0,Ct.jsxs)("div",{className:"lha-header",onClick:()=>x(!y),children:[(0,Ct.jsx)("h3",{children:"Local Housing Allowance"}),(0,Ct.jsx)("button",{className:"lha-toggle-btn",type:"button",children:y?"\u2212":"+"})]}),y&&(0,Ct.jsxs)("div",{className:"lha-details",children:[(0,Ct.jsxs)("div",{className:"lha-row",children:[(0,Ct.jsx)("span",{className:"lha-label",children:"Broad Rental Market Area:"}),(0,Ct.jsx)("span",{className:"lha-value",children:c.lhaDetails.brma})]}),(0,Ct.jsxs)("div",{className:"lha-row ".concat("shared"===c.lhaDetails.bedroomEntitlement?"highlighted":""),children:[(0,Ct.jsx)("span",{className:"lha-label",children:"Shared room LHA rate:"}),(0,Ct.jsx)("span",{className:"lha-value",children:It(c.lhaDetails.sharedRate||0)})]}),(0,Ct.jsxs)("div",{className:"lha-row ".concat(1===c.lhaDetails.bedroomEntitlement?"highlighted":""),children:[(0,Ct.jsx)("span",{className:"lha-label",children:"1 bedroom LHA rate:"}),(0,Ct.jsx)("span",{className:"lha-value",children:It(c.lhaDetails.oneBedRate||0)})]}),(0,Ct.jsxs)("div",{className:"lha-row ".concat(2===c.lhaDetails.bedroomEntitlement?"highlighted":""),children:[(0,Ct.jsx)("span",{className:"lha-label",children:"2 bedroom LHA rate:"}),(0,Ct.jsx)("span",{className:"lha-value",children:It(c.lhaDetails.twoBedRate||0)})]}),(0,Ct.jsxs)("div",{className:"lha-row ".concat(3===c.lhaDetails.bedroomEntitlement?"highlighted":""),children:[(0,Ct.jsx)("span",{className:"lha-label",children:"3 bedroom LHA rate:"}),(0,Ct.jsx)("span",{className:"lha-value",children:It(c.lhaDetails.threeBedRate||0)})]}),(0,Ct.jsxs)("div",{className:"lha-row ".concat(4===c.lhaDetails.bedroomEntitlement?"highlighted":""),children:[(0,Ct.jsx)("span",{className:"lha-label",children:"4 bedroom LHA rate:"}),(0,Ct.jsx)("span",{className:"lha-value",children:It(c.lhaDetails.fourBedRate||0)})]}),(0,Ct.jsxs)("div",{className:"lha-row",children:[(0,Ct.jsx)("span",{className:"lha-label",children:"Your bedroom entitlement:"}),(0,Ct.jsx)("span",{className:"lha-value",children:c.lhaDetails.bedroomEntitlement})]}),(0,Ct.jsxs)("div",{className:"lha-row",children:[(0,Ct.jsx)("span",{className:"lha-label",children:"Relevant LHA rate:"}),(0,Ct.jsx)("span",{className:"lha-value",children:It(c.lhaDetails.lhaMonthly)})]}),(0,Ct.jsxs)("div",{className:"lha-row",children:[(0,Ct.jsx)("span",{className:"lha-label",children:"Current rent amount:"}),(0,Ct.jsxs)("span",{className:"lha-value",children:[It(c.lhaDetails.actualRent)," / Monthly"]})]})]})]}),("employed"===i.employmentType||"couple"===i.circumstances&&"employed"===i.partnerEmploymentType)&&(0,Ct.jsxs)("div",{className:"detailed-results",children:[(0,Ct.jsx)("h3",{children:"Earnings Breakdown"}),(0,Ct.jsxs)("div",{className:"breakdown-list",children:["employed"===i.employmentType&&i.monthlyEarnings>0&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Your Gross Earnings"}),(0,Ct.jsx)("span",{className:"value",children:It(i.monthlyEarnings)})]}),"amount"===i.pensionType&&i.pensionAmount>0&&(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Your Pension Contribution (Fixed)"}),(0,Ct.jsxs)("span",{className:"value",children:["-",It(i.pensionAmount)]})]}),"percentage"===i.pensionType&&i.pensionPercentage>0&&(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsxs)("span",{className:"label",children:["Your Pension Contribution (",i.pensionPercentage,"%)"]}),(0,Ct.jsxs)("span",{className:"value",children:["-",It(jt.calculateUIPensionContribution(i.monthlyEarnings,"percentage",0,i.pensionPercentage,i.taxYear))]})]}),(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Your Net Earnings"}),(0,Ct.jsx)("span",{className:"value",children:It(jt.calculateUINetEarnings(i.monthlyEarnings,i.pensionType,i.pensionAmount,i.pensionPercentage,i.taxYear))})]})]}),"couple"===i.circumstances&&"employed"===i.partnerEmploymentType&&i.partnerMonthlyEarnings>0&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Partner's Gross Earnings"}),(0,Ct.jsx)("span",{className:"value",children:It(i.partnerMonthlyEarnings)})]}),"amount"===i.partnerPensionType&&i.partnerPensionAmount>0&&(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Partner's Pension Contribution (Fixed)"}),(0,Ct.jsxs)("span",{className:"value",children:["-",It(i.partnerPensionAmount)]})]}),"percentage"===i.partnerPensionType&&i.partnerPensionPercentage>0&&(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsxs)("span",{className:"label",children:["Partner's Pension Contribution (",i.partnerPensionPercentage,"%)"]}),(0,Ct.jsxs)("span",{className:"value",children:["-",It(jt.calculateUIPensionContribution(i.partnerMonthlyEarnings,"percentage",0,i.partnerPensionPercentage,i.taxYear))]})]}),(0,Ct.jsxs)("div",{className:"breakdown-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Partner's Net Earnings"}),(0,Ct.jsx)("span",{className:"value",children:It(jt.calculateUINetEarnings(i.partnerMonthlyEarnings,i.partnerPensionType,i.partnerPensionAmount,i.partnerPensionPercentage,i.taxYear))})]})]}),("employed"===i.employmentType&&i.monthlyEarnings>0||"couple"===i.circumstances&&"employed"===i.partnerEmploymentType&&i.partnerMonthlyEarnings>0)&&(0,Ct.jsxs)("div",{className:"breakdown-item total",children:[(0,Ct.jsx)("span",{className:"label",children:"Total Net Earnings (after pension)"}),(0,Ct.jsx)("span",{className:"value",children:It(("employed"===i.employmentType?jt.calculateUINetEarnings(i.monthlyEarnings,i.pensionType,i.pensionAmount,i.pensionPercentage,i.taxYear):0)+("couple"===i.circumstances&&"employed"===i.partnerEmploymentType?jt.calculateUINetEarnings(i.partnerMonthlyEarnings,i.partnerPensionType,i.partnerPensionAmount,i.partnerPensionPercentage,i.taxYear):0))})]})]})]}),(()=>{if(!i)return!1;if("single"===i.circumstances&&"self-employed"===i.employmentType)return!0;if("couple"===i.circumstances){const e="self-employed"===i.employmentType,t="self-employed"===i.partnerEmploymentType;return e&&!t||!e&&t}return!1})()&&(0,Ct.jsxs)("div",{className:"mif-panel",children:[(0,Ct.jsx)("h3",{children:"Minimum Income Floor (MIF)"}),(0,Ct.jsxs)("div",{className:"mif-content",children:[(0,Ct.jsx)("p",{children:l("MIF.Description","The Minimum Income Floor may affect your Universal Credit calculation if you are self-employed.")}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:l("MIF.GracePeriod.Bullet1","You may have a grace period when you first become self-employed")}),(0,Ct.jsx)("li",{children:l("MIF.GainfulAssessment.Bullet2","The DWP will assess if your self-employment is gainful")}),(0,Ct.jsx)("li",{children:l("MIF.AppliesAfterGrace.Bullet3","MIF applies after the grace period ends")})]}),(0,Ct.jsxs)("div",{className:"mif-details-section",children:[(0,Ct.jsx)("h4",{children:l("MIF.DetailsSection.Title","How you might be affected by the Minimum Income Floor")}),(0,Ct.jsx)("p",{children:l("MIF.DetailsSection.Description","The Minimum Income Floor (MIF) is a rule that affects how your Universal Credit is calculated if you are self-employed. It assumes you earn at least the equivalent of working 35 hours per week at the National Living Wage.")}),(0,Ct.jsx)("div",{className:"mif-table-container",children:(0,Ct.jsxs)("table",{className:"mif-table",children:[(0,Ct.jsx)("thead",{children:(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("th",{children:l("MIF.Table.YourSituation","Your Situation")}),(0,Ct.jsx)("th",{children:l("MIF.Table.HowMIFAffectsYou","How MIF Affects You")}),(0,Ct.jsx)("th",{children:l("MIF.Table.WhatThisMeans","What This Means")})]})}),(0,Ct.jsxs)("tbody",{children:[(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:(0,Ct.jsx)("strong",{children:l("MIF.Table.NewSelfEmployed.Situation","New to self-employment")})}),(0,Ct.jsx)("td",{children:l("MIF.Table.NewSelfEmployed.Affect","12-month grace period")}),(0,Ct.jsx)("td",{children:l("MIF.Table.NewSelfEmployed.Means","Your actual earnings are used for the first 12 months")})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:(0,Ct.jsx)("strong",{children:l("MIF.Table.EstablishedSelfEmployed.Situation","Established self-employment")})}),(0,Ct.jsx)("td",{children:l("MIF.Table.EstablishedSelfEmployed.Affect","MIF may apply")}),(0,Ct.jsx)("td",{children:l("MIF.Table.EstablishedSelfEmployed.Means","DWP assumes minimum earnings even if you earn less")})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:(0,Ct.jsx)("strong",{children:l("MIF.Table.GainfulSelfEmployed.Situation","Gainful self-employment")})}),(0,Ct.jsx)("td",{children:l("MIF.Table.GainfulSelfEmployed.Affect","MIF applies")}),(0,Ct.jsx)("td",{children:l("MIF.Table.GainfulSelfEmployed.Means","Your Universal Credit is calculated using assumed minimum earnings")})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:(0,Ct.jsx)("strong",{children:l("MIF.Table.NotGainfulSelfEmployed.Situation","Not gainful self-employment")})}),(0,Ct.jsx)("td",{children:l("MIF.Table.NotGainfulSelfEmployed.Affect","MIF does not apply")}),(0,Ct.jsx)("td",{children:l("MIF.Table.NotGainfulSelfEmployed.Means","Your actual earnings are used in the calculation")})]})]})]})}),(0,Ct.jsxs)("div",{className:"mif-calculator-section",children:[(0,Ct.jsx)("h5",{children:l("MIF.CalculatorSection.Title","MIF Calculator")}),(0,Ct.jsx)("p",{children:l("MIF.CalculatorSection.Description","Use this calculator to see how the Minimum Income Floor might affect your Universal Credit:")}),(0,Ct.jsxs)("div",{className:"mif-calculator-form",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:l("MIF.GracePeriodQuestion.Label","Are you in your first 12 months of self-employment?")}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"mifGracePeriod",value:"yes",checked:"yes"===p,onChange:e=>m(e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),l("MIF.GracePeriodQuestion.Yes","Yes - I'm in my grace period")]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"mifGracePeriod",value:"no",checked:"no"===p,onChange:e=>m(e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),l("MIF.GracePeriodQuestion.No","No - I've been self-employed for over 12 months")]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:l("MIF.GainfulQuestion.Label","Is your self-employment gainful?")}),(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"mifGainful",value:"yes",checked:"yes"===f,onChange:e=>g(e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),l("MIF.GainfulQuestion.Yes","Yes - I work regularly and expect to make a profit")]}),(0,Ct.jsxs)("label",{className:"radio-label",children:[(0,Ct.jsx)("input",{type:"radio",name:"mifGainful",value:"no",checked:"no"===f,onChange:e=>g(e.target.value)}),(0,Ct.jsx)("span",{className:"radio-custom"}),l("MIF.GainfulQuestion.No","No - I don't work regularly or expect to make a profit")]})]})]}),(0,Ct.jsx)("div",{className:"mif-result",children:(0,Ct.jsxs)("div",{className:"result-box",children:[(0,Ct.jsx)("h6",{children:l("MIF.ResultBox.Title","MIF Status")}),(0,Ct.jsx)("div",{className:"mif-status",children:p&&f?"yes"===p?l("MIF.Status.GracePeriod","MIF does not apply - You are in your 12-month grace period. Your actual earnings will be used in the Universal Credit calculation."):"no"===f?l("MIF.Status.NotGainful","MIF does not apply - Your self-employment is not considered gainful. Your actual earnings will be used in the Universal Credit calculation."):"no"===p&&"yes"===f?l("MIF.Status.Applies","MIF applies - Your Universal Credit will be calculated using assumed minimum earnings (35 hours per week at National Living Wage), even if you earn less."):l("MIF.Status.SelectSituation","Select your situation above to see how MIF affects you"):l("MIF.Status.SelectSituation","Select your situation above to see how MIF affects you")})]})})]})]}),(0,Ct.jsxs)("div",{className:"mif-info-box",children:[(0,Ct.jsx)("h5",{children:l("MIF.InfoBox.Title","Important Information")}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:(0,Ct.jsx)("strong",{children:l("MIF.InfoBox.GracePeriod","Grace Period: You have 12 months from when you first become self-employed before MIF can apply")})}),(0,Ct.jsx)("li",{children:(0,Ct.jsx)("strong",{children:l("MIF.InfoBox.GainfulSelfEmployment","Gainful Self-employment: The DWP will assess whether your self-employment is regular and expected to make a profit")})}),(0,Ct.jsx)("li",{children:(0,Ct.jsx)("strong",{children:l("MIF.InfoBox.MIFRates","MIF Rates: The assumed minimum earnings are based on working 35 hours per week at the National Living Wage")})}),(0,Ct.jsx)("li",{children:(0,Ct.jsx)("strong",{children:l("MIF.InfoBox.Appeals","Appeals: You can challenge a decision that MIF applies to your case")})})]})]})]}),"no"===p&&"yes"===f&&(0,Ct.jsxs)("div",{className:"mif-calculation-panel",children:[(0,Ct.jsx)("h4",{children:l("MIF.CalculationPanel.Title","Your Minimum Income Floor Calculation")}),(0,Ct.jsx)("p",{children:l("MIF.CalculationPanel.Description","Based on your claimant commitment of {claimantHours} hours per week, we estimate your Minimum Income Floor is \xa3{mifWeekly} per week.").replace("{claimantHours}",v).replace("{mifWeekly}",k().mifWeekly)}),(0,Ct.jsxs)("div",{className:"mif-hours-input",children:[(0,Ct.jsx)("label",{children:l("MIF.HoursInput.Label","How many hours a week must you work according to your claimant commitment?")}),(0,Ct.jsxs)("div",{className:"hours-input-group",children:[(0,Ct.jsx)("input",{type:"number",min:"1",max:"168",value:v,onChange:e=>b(parseInt(e.target.value)||35),className:"hours-input"}),(0,Ct.jsx)("span",{className:"hours-label",children:l("MIF.HoursInput.Label2","hours per week")})]})]}),(0,Ct.jsxs)("div",{className:"mif-comparison-table",children:[(0,Ct.jsx)("h5",{children:l("MIF.ComparisonTable.Title","How MIF affects your Universal Credit")}),(0,Ct.jsx)("div",{className:"table-container",children:(0,Ct.jsxs)("table",{className:"comparison-table",children:[(0,Ct.jsx)("thead",{children:(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("th",{children:l("MIF.ComparisonTable.YourBenefits","Your Benefits")}),(0,Ct.jsx)("th",{children:l("MIF.ComparisonTable.WithoutMIF","Without MIF")}),(0,Ct.jsx)("th",{children:l("MIF.ComparisonTable.WithMIF","With MIF")}),(0,Ct.jsx)("th",{children:l("MIF.ComparisonTable.Impact","Impact")})]})}),(0,Ct.jsxs)("tbody",{children:[(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:(0,Ct.jsx)("strong",{children:l("MIF.ComparisonTable.GrossEarnings","Gross Earnings")})}),(0,Ct.jsxs)("td",{children:["\xa3",j().withoutMif.grossEarnings.toFixed(2)]}),(0,Ct.jsxs)("td",{children:["\xa3",j().withMif.grossEarnings.toFixed(2)]}),(0,Ct.jsxs)("td",{className:j().impact.grossEarnings>=0?"positive":"negative",children:[j().impact.grossEarnings>=0?"+":"","\xa3",j().impact.grossEarnings.toFixed(2)]})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:(0,Ct.jsx)("strong",{children:l("MIF.ComparisonTable.NetEarnings","Net Earnings")})}),(0,Ct.jsxs)("td",{children:["\xa3",j().withoutMif.netEarnings.toFixed(2)]}),(0,Ct.jsxs)("td",{children:["\xa3",j().withMif.netEarnings.toFixed(2)]}),(0,Ct.jsxs)("td",{className:j().impact.netEarnings>=0?"positive":"negative",children:[j().impact.netEarnings>=0?"+":"","\xa3",j().impact.netEarnings.toFixed(2)]})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:(0,Ct.jsx)("strong",{children:l("MIF.ComparisonTable.UniversalCredit","Universal Credit")})}),(0,Ct.jsxs)("td",{children:["\xa3",j().withoutMif.universalCredit.toFixed(2)]}),(0,Ct.jsxs)("td",{children:["\xa3",j().withMif.universalCredit.toFixed(2)]}),(0,Ct.jsxs)("td",{className:j().impact.universalCredit>=0?"positive":"negative",children:[j().impact.universalCredit>=0?"+":"","\xa3",j().impact.universalCredit.toFixed(2)]})]}),(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:(0,Ct.jsx)("strong",{children:l("MIF.ComparisonTable.TotalBenefits","Total Benefits")})}),(0,Ct.jsxs)("td",{children:["\xa3",j().withoutMif.totalBenefits.toFixed(2)]}),(0,Ct.jsxs)("td",{children:["\xa3",j().withMif.totalBenefits.toFixed(2)]}),(0,Ct.jsxs)("td",{className:j().impact.totalBenefits>=0?"positive":"negative",children:[j().impact.totalBenefits>=0?"+":"","\xa3",j().impact.totalBenefits.toFixed(2)]})]}),(0,Ct.jsxs)("tr",{className:"total-row",children:[(0,Ct.jsx)("td",{children:(0,Ct.jsx)("strong",{children:"Total Income"})}),(0,Ct.jsxs)("td",{children:["\xa3",j().withoutMif.totalIncome.toFixed(2)]}),(0,Ct.jsxs)("td",{children:["\xa3",j().withMif.totalIncome.toFixed(2)]}),(0,Ct.jsxs)("td",{className:j().impact.totalIncome>=0?"positive":"negative",children:[j().impact.totalIncome>=0?"+":"","\xa3",j().impact.totalIncome.toFixed(2)]})]})]})]})})]})]})]})]}),(0,Ct.jsxs)("div",{className:"action-buttons",children:[(0,Ct.jsx)("button",{type:"button",onClick:o,className:"btn btn-secondary",children:"Save Scenario"}),(0,Ct.jsx)("button",{type:"button",onClick:s,className:"btn btn-outline",children:"Print Results"}),(0,Ct.jsx)("button",{type:"button",onClick:r,className:"btn btn-outline",children:"Export PDF"}),(0,Ct.jsxs)("button",{type:"button",onClick:()=>u(!h),className:"btn btn-primary",children:[h?"Hide":"Show"," Better Off in Work Calculator"]})]})]}),(0,Ct.jsx)(Ft,{currentUCAmount:c.finalAmount,isVisible:h,onToggleVisibility:()=>u(!h)})]})};const Bt=function(t){let{editorName:n,setEditorName:i}=t;const[s,r]=(0,e.useState)([]),[o,l]=(0,e.useState)(""),[c,d]=(0,e.useState)(null),[h,u]=(0,e.useState)(""),[p,m]=(0,e.useState)(!0),[f,g]=(0,e.useState)(!1);(0,e.useEffect)(()=>{v()},[]);const v=async()=>{m(!0);try{const e=await Et();r(e)}catch(e){console.error("Failed to load text blocks:",e)}finally{m(!1)}},b=async e=>{try{await(async(e,t,n)=>{try{const i=(await Et()).map(i=>i.key===e?(0,a.A)((0,a.A)({},i),{},{english:t,editorName:n,editHistory:"Modified",lastModified:(new Date).toISOString()}):i);localStorage.setItem("calculatorTextBlocks",JSON.stringify(i));const s=new CustomEvent("textBlocksUpdated",{detail:{key:e,newValue:t,editorName:n}});return window.dispatchEvent(s),!0}catch(i){throw console.error("Error updating text block:",i),i}})(e,h,n),r(t=>t.map(t=>t.key===e?(0,a.A)((0,a.A)({},t),{},{english:h,editorName:n,editHistory:"Modified"}):t)),d(null),u("")}catch(t){console.error("Failed to update text block:",t),alert("Failed to update text block. Please try again.")}},y=()=>{d(null),u("")},x=async e=>{if(window.confirm("Are you sure you want to delete this text block?"))try{await(async e=>{try{const t=(await Et()).filter(t=>t.key!==e);return localStorage.setItem("calculatorTextBlocks",JSON.stringify(t)),!0}catch(t){throw console.error("Error deleting text block:",t),t}})(e),r(t=>t.filter(t=>t.key!==e))}catch(t){console.error("Failed to delete text block:",t),alert("Failed to delete text block. Please try again.")}},w=s.filter(e=>e.key.toLowerCase().includes(o.toLowerCase())||e.english.toLowerCase().includes(o.toLowerCase()));return p?(0,Ct.jsx)("div",{className:"admin-section",children:(0,Ct.jsx)("div",{className:"loading",children:"Loading text blocks..."})}):(0,Ct.jsxs)("div",{className:"admin-section",children:[(0,Ct.jsx)("h3",{children:"Text management"}),(0,Ct.jsxs)("div",{className:"admin-description",children:[(0,Ct.jsx)("p",{children:"The table shows all text within the Comprehensive calculator that is available to edit by administrators. You can view and edit the text when viewing the Comprehensive calculator. Select 'Edit text - form view' form to manage text while viewing the Comprehensive calculator. You can also view the questions and associated XML in a spreadsheet. To create a spreadsheet showing the text for today's date please export questions."}),(0,Ct.jsx)("button",{className:"admin-link",children:"See which companies have used this feature"})]}),(0,Ct.jsx)("div",{className:"filter-section",children:(0,Ct.jsxs)("div",{className:"filter-row",children:[(0,Ct.jsxs)("div",{className:"filter-group",children:[(0,Ct.jsx)("label",{htmlFor:"filter",children:"Filter:"}),(0,Ct.jsx)("input",{type:"text",id:"filter",className:"form-control",value:o,onChange:e=>l(e.target.value),placeholder:"Search text blocks..."})]}),(0,Ct.jsxs)("div",{className:"filter-group",children:[(0,Ct.jsx)("label",{htmlFor:"editorName",children:"Editor name*:"}),(0,Ct.jsx)("input",{type:"text",id:"editorName",className:"form-control",value:n,onChange:e=>i(e.target.value),placeholder:"In order to edit translations please enter your name"})]}),(0,Ct.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>g(!f),children:"Show changes"})]})}),(0,Ct.jsx)("div",{className:"text-blocks-table",children:(0,Ct.jsxs)("table",{children:[(0,Ct.jsx)("thead",{children:(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("th",{children:"Key"}),(0,Ct.jsx)("th",{children:"English"}),(0,Ct.jsx)("th",{children:"Site mode"}),(0,Ct.jsx)("th",{children:"Edit history"}),(0,Ct.jsx)("th",{children:"Editor name"}),(0,Ct.jsx)("th",{children:"Delete"})]})}),(0,Ct.jsx)("tbody",{children:w.map(e=>(0,Ct.jsxs)("tr",{children:[(0,Ct.jsx)("td",{children:(0,Ct.jsx)("button",{className:"text-link",onClick:()=>{return t=e.key,i=e.english,void(n.trim()?(d(t),u(i)):alert("Please enter your editor name before making changes."));var t,i},children:e.key})}),(0,Ct.jsx)("td",{children:c===e.key?(0,Ct.jsxs)("div",{className:"edit-cell",children:[(0,Ct.jsx)("textarea",{value:h,onChange:e=>u(e.target.value),className:"edit-textarea"}),(0,Ct.jsxs)("div",{className:"edit-actions",children:[(0,Ct.jsx)("button",{type:"button",className:"btn btn-primary btn-sm",onClick:()=>b(e.key),children:"Save"}),(0,Ct.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:y,children:"Cancel"})]})]}):e.english}),(0,Ct.jsx)("td",{children:e.siteMode}),(0,Ct.jsx)("td",{children:e.editHistory}),(0,Ct.jsx)("td",{children:e.editorName||""}),(0,Ct.jsx)("td",{children:(0,Ct.jsx)("button",{className:"text-link delete-link",onClick:()=>x(e.key),children:"Delete"})})]},e.key))})]})}),(0,Ct.jsx)("div",{className:"export-section",children:(0,Ct.jsx)("button",{type:"button",className:"btn btn-outline",onClick:()=>{const e=[["Key","English","Site Mode","Edit History","Editor Name"],...w.map(e=>[e.key,e.english,e.siteMode,e.editHistory,e.editorName||""])].map(e=>e.map(e=>'"'.concat(e,'"')).join(",")).join("\n"),t=new Blob([e],{type:"text/csv"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="calculator-text-".concat((new Date).toISOString().split("T")[0],".csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},children:"Export questions"})})]})},Ot={entitledto:{name:"EntitledTo",primaryColor:"#0052CC",secondaryColor:"#0747A6",backgroundColor:"#F4F5F7",textColor:"#172B4D",logo:"\ud83c\udfe0",companyName:"EntitledTo"},rehabilitation:{name:"Your logo here",primaryColor:"#1e40af",secondaryColor:"#1d4ed8",backgroundColor:"#f8fafc",textColor:"#1e293b",logo:"\ud83d\udd04",companyName:"Your logo here"},shawTrust:{name:"Shaw Trust",primaryColor:"#1e3a8a",secondaryColor:"#1e40af",backgroundColor:"#ffffff",textColor:"#1e293b",logo:"\ud83c\udfdb\ufe0f",companyName:"Shaw Trust"},momentic:{name:"Momentic",primaryColor:"#7c3aed",secondaryColor:"#6d28d9",backgroundColor:"#ffffff",textColor:"#374151",logo:"\u26a1",companyName:"Momentic"}};let Wt={"/":"entitledto","/rehabilitation-calculator":"rehabilitation"},Ht="entitledto";const zt=e=>Wt[e]||Ht,Ut=(e,t)=>!!Ot[t]&&(Wt[e]=t,localStorage.setItem("routeSkins",JSON.stringify(Wt)),!0),qt=()=>Object.keys(Ot).map(e=>(0,a.A)({key:e},Ot[e])),Gt=()=>(0,a.A)({},Wt),Vt=()=>{Wt={"/":"entitledto","/rehabilitation-calculator":"rehabilitation"},localStorage.setItem("routeSkins",JSON.stringify(Wt))},Yt=()=>Ht,Kt=e=>!!Ot[e]&&(Ht=e,localStorage.setItem("currentSkin",e),!0),Xt=e=>{const t=Ot[e];if(!t)return;const n=document.documentElement;n.style.setProperty("--primary-color",t.primaryColor),n.style.setProperty("--secondary-color",t.secondaryColor),n.style.setProperty("--background-color",t.backgroundColor),n.style.setProperty("--text-color",t.textColor)},Jt=e=>{const t=zt(e);Xt(t)};const Qt=function(){const[t,n]=(0,e.useState)("entitledto"),[i,a]=(0,e.useState)([]),[s,r]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=Yt();n(e),a(qt())},[]);const o=e=>{r(!0),Kt(e),n(e),setTimeout(()=>{var t;r(!1),alert("Skin changed to ".concat(null===(t=i.find(t=>t.key===e))||void 0===t?void 0:t.name))},500)},l=e=>({backgroundColor:e.backgroundColor,color:e.textColor,border:"2px solid ".concat(e.borderColor),borderRadius:"12px",padding:"0",margin:"10px 0",position:"relative",overflow:"hidden"}),c=t=>{let{skin:n}=t;const[i,a]=(0,e.useState)(!1),[s,r]=(0,e.useState)(!1);return(0,Ct.jsx)("div",{className:"logo-display",children:(0,Ct.jsx)("div",{className:"logo-container",style:{backgroundColor:"transparent",padding:"8px 0",borderRadius:"0",display:"flex",alignItems:"center",justifyContent:"flex-start",minHeight:"50px"},children:"entitledto"===n.key?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("img",{src:n.logo,alt:"".concat(n.name," Logo"),style:{maxHeight:"35px",maxWidth:"140px",objectFit:"contain",filter:"none",transition:"all 0.3s ease"},onLoad:()=>{a(!0),r(!1)},onError:()=>{r(!0),a(!1)}}),!i&&!s&&(0,Ct.jsx)("div",{className:"logo-text",style:{color:n.primaryColor,fontWeight:"700",fontSize:"20px",textAlign:"left",fontFamily:"Arial, sans-serif"},children:n.name})]}):(0,Ct.jsx)("div",{className:"logo-text",style:{color:"#ffffff",fontWeight:"700",fontSize:"20px",textAlign:"center",fontFamily:"Arial, sans-serif"},children:n.name})})})};return(0,Ct.jsx)("div",{className:"skin-management",children:(0,Ct.jsxs)("div",{className:"admin-section",children:[(0,Ct.jsx)("h3",{children:"Choose Skin"}),(0,Ct.jsx)("p",{children:"Select a skin to customize the appearance of the calculator. Each skin includes different colors and branding."}),(0,Ct.jsxs)("div",{className:"skin-selector",children:[(0,Ct.jsx)("label",{htmlFor:"skin-select",className:"form-label",children:"Current Skin:"}),(0,Ct.jsx)("select",{id:"skin-select",className:"form-control",value:t,onChange:e=>o(e.target.value),disabled:s,children:i.map(e=>(0,Ct.jsx)("option",{value:e.key,children:e.name},e.key))})]}),s&&(0,Ct.jsx)("div",{className:"loading-message",children:(0,Ct.jsx)("p",{children:"Applying skin..."})}),(0,Ct.jsxs)("div",{className:"skin-previews",children:[(0,Ct.jsx)("h4",{children:"Available Skins"}),(0,Ct.jsx)("div",{className:"preview-grid",children:i.map(e=>(0,Ct.jsxs)("div",{className:"skin-preview ".concat(t===e.key?"active":""),style:l(e),onClick:()=>o(e.key),children:[(0,Ct.jsx)("div",{className:"skin-header",style:{background:"linear-gradient(135deg, rgba(".concat(e.primaryColorRgb||"59, 130, 246",", 0.85) 0%, rgba(").concat(e.primaryHoverRgb||"37, 99, 235",", 0.85) 100%)"),padding:"20px",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"},children:(0,Ct.jsx)(c,{skin:e})}),(0,Ct.jsxs)("div",{className:"skin-content",style:{padding:"20px"},children:[(0,Ct.jsx)("h5",{style:{color:e.primaryColor,marginBottom:"10px"},children:"Universal Credit Calculator"}),(0,Ct.jsx)("p",{style:{color:e.textColor,marginBottom:"15px"},children:"Calculate your Universal Credit entitlement with our comprehensive calculator."}),(0,Ct.jsx)("button",{className:"preview-button",style:{backgroundColor:e.primaryColor,color:"#ffffff",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontWeight:"600",fontSize:"14px"},children:"Get Started"})]}),t===e.key&&(0,Ct.jsx)("div",{className:"active-indicator",style:{position:"absolute",top:"10px",right:"10px",backgroundColor:e.accentColor,color:"white",padding:"6px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:"600"},children:"\u2713 Active"})]},e.key))})]}),(0,Ct.jsxs)("div",{className:"skin-info",children:[(0,Ct.jsx)("h4",{children:"Skin Information"}),(0,Ct.jsxs)("div",{className:"info-grid",children:[(0,Ct.jsxs)("div",{className:"info-item",children:[(0,Ct.jsx)("strong",{children:"EntitledTo:"})," Default skin with professional blue color scheme"]}),(0,Ct.jsxs)("div",{className:"info-item",children:[(0,Ct.jsx)("strong",{children:"Shaw Trust:"})," Professional blue and green color scheme matching Shaw Trust branding"]}),(0,Ct.jsxs)("div",{className:"info-item",children:[(0,Ct.jsx)("strong",{children:"Momentic:"})," Modern purple and amber color scheme for contemporary appeal"]})]})]})]})})};const Zt=function(t){let{isVisible:n,onToggleVisibility:i,testFile:a,setTestFile:s,testResults:r,setTestResults:o,isProcessing:l,setIsProcessing:c}=t;const[d,h]=(0,e.useState)(null),[u,p]=(0,e.useState)(null),[m,f]=(0,e.useState)(!1),g=void 0!==a?a:d,v=s||h,b=void 0!==r?r:u,y=o||p,x=void 0!==l?l:m,w=c||f,N=e=>e.slice(1).filter(e=>e.trim()).map((e,t)=>{const n=e.split(",").map(e=>e.trim());return{testCaseId:t+1,input:{taxYear:n[0]||"2025_26",circumstances:n[1]||"single",age:parseInt(n[2])||25,partnerAge:parseInt(n[3])||25,children:parseInt(n[4])||0,childAges:n[5]?n[5].split("|").map(e=>parseInt(e)||0):[],childDisabilities:n[6]?JSON.parse(n[6]):[],childGenders:n[7]?n[7].split("|"):[],housingStatus:n[8]||"no_housing_costs",tenantType:n[9]||"private",rent:parseFloat(n[10])||0,serviceCharges:parseFloat(n[11])||0,bedrooms:parseInt(n[12])||1,area:n[13]||"default",nonDependants:parseInt(n[14])||0,employmentType:n[15]||"not_working",monthlyEarnings:parseFloat(n[16])||0,childcareCosts:parseFloat(n[17])||0,isDisabled:n[18]||"no",claimsDisabilityBenefits:n[19]||"no",disabilityBenefitType:n[20]||"",pipDailyLivingRate:n[21]||"none",pipMobilityRate:n[22]||"none",dlaCareRate:n[23]||"none",dlaMobilityRate:n[24]||"none",aaRate:n[25]||"none",hasLCWRA:n[26]||"no",partnerEmploymentType:n[27]||"not_working",partnerMonthlyEarnings:parseFloat(n[28])||0,partnerIsDisabled:n[29]||"no",partnerClaimsDisabilityBenefits:n[30]||"no",partnerDisabilityBenefitType:n[31]||"",partnerPipDailyLivingRate:n[32]||"none",partnerPipMobilityRate:n[33]||"none",partnerDlaCareRate:n[34]||"none",partnerDlaMobilityRate:n[35]||"none",partnerAaRate:n[36]||"none",partnerHasLCWRA:n[37]||"no",savings:parseFloat(n[38])||0,otherBenefits:parseFloat(n[39])||0,otherBenefitsPeriod:n[40]||"monthly"},expectedOutput:{standardAllowance:parseFloat(n[41])||0,housingElement:parseFloat(n[42])||0,childElement:parseFloat(n[43])||0,childcareElement:parseFloat(n[44])||0,carerElement:parseFloat(n[45])||0,totalElements:parseFloat(n[46])||0,earningsReduction:parseFloat(n[47])||0,capitalDeduction:parseFloat(n[48])||0,benefitDeduction:parseFloat(n[49])||0,finalAmount:parseFloat(n[50])||0}}}),A=async e=>{const t=new jt;await t.initialize();const n=[];for(const a of e)try{const e=await t.calculate(a.input),i=t.exportCalculationForTesting(a.input,e);console.log("Test Case ".concat(a.testCaseId," Results:"),{taxYear:a.input.taxYear,actualStandardAllowance:i.output.standardAllowance,expectedStandardAllowance:a.expectedOutput.standardAllowance,actualFinalAmount:i.output.finalAmount,expectedFinalAmount:a.expectedOutput.finalAmount});const s=k(i.output,a.expectedOutput);n.push({testCaseId:a.testCaseId,input:a.input,expectedOutput:a.expectedOutput,actualOutput:i.output,comparison:s,passed:s.allPassed,errors:s.errors})}catch(i){n.push({testCaseId:a.testCaseId,input:a.input,expectedOutput:a.expectedOutput,actualOutput:null,comparison:null,passed:!1,errors:[i.message]})}return n},k=(e,t)=>{const n=[];let i=!0;return["standardAllowance","housingElement","childElement","childcareElement","carerElement","totalElements","earningsReduction","capitalDeduction","benefitDeduction","finalAmount"].forEach(a=>{const s=e[a]||0,r=t[a]||0,o=Math.abs(s-r);o>.01&&(n.push({field:a,expected:r,actual:s,difference:o.toFixed(2)}),i=!1)}),{allPassed:i,errors:n}};return n?(0,Ct.jsx)("div",{className:"testing-module",children:(0,Ct.jsxs)("div",{className:"admin-section",children:[(0,Ct.jsx)("h3",{children:"Calculator Testing Module"}),(0,Ct.jsx)("div",{className:"module-description",children:(0,Ct.jsx)("p",{children:"Upload a CSV file with test cases to compare your calculator results with expected outputs."})}),(0,Ct.jsxs)("div",{className:"data-entry-section",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"testFile",children:"Upload Test File (CSV)"}),(0,Ct.jsx)("input",{type:"file",id:"testFile",accept:".csv,.xlsx,.xls",onChange:e=>{const t=e.target.files[0];v(t)},className:"form-control"}),(0,Ct.jsx)("small",{className:"help-text",children:"File should contain columns for input variables and expected output values. First row should be headers."})]}),(0,Ct.jsx)("div",{className:"button-group",children:(0,Ct.jsx)("button",{type:"button",className:"btn btn-primary",onClick:async()=>{if(g){w(!0);try{const e=(await g.text()).split("\n"),t=N(e),n=await A(t);y(n)}catch(e){console.error("Error processing test file:",e),alert("Error processing test file. Please check the file format.")}finally{w(!1)}}},disabled:!g||x,children:x?"Processing...":"Run Tests"})})]}),b&&(0,Ct.jsxs)("div",{className:"test-results",children:[(0,Ct.jsx)("h4",{children:"Test Results"}),(0,Ct.jsx)("div",{className:"results-summary",children:(0,Ct.jsxs)("div",{className:"summary-stats",children:[(0,Ct.jsxs)("div",{className:"stat",children:[(0,Ct.jsx)("span",{className:"label",children:"Total Tests:"}),(0,Ct.jsx)("span",{className:"value",children:b.length})]}),(0,Ct.jsxs)("div",{className:"stat",children:[(0,Ct.jsx)("span",{className:"label",children:"Passed:"}),(0,Ct.jsx)("span",{className:"value success",children:b.filter(e=>e.passed).length})]}),(0,Ct.jsxs)("div",{className:"stat",children:[(0,Ct.jsx)("span",{className:"label",children:"Failed:"}),(0,Ct.jsx)("span",{className:"value error",children:b.filter(e=>!e.passed).length})]}),(0,Ct.jsxs)("div",{className:"stat",children:[(0,Ct.jsx)("span",{className:"label",children:"Success Rate:"}),(0,Ct.jsxs)("span",{className:"value",children:[(b.filter(e=>e.passed).length/b.length*100).toFixed(2),"%"]})]})]})}),(0,Ct.jsxs)("div",{className:"test-details",children:[(0,Ct.jsx)("h5",{children:"Failed Tests"}),b.filter(e=>!e.passed).map(e=>(0,Ct.jsxs)("div",{className:"test-case failed",children:[(0,Ct.jsxs)("h6",{children:["Test Case ",e.testCaseId]}),(0,Ct.jsx)("div",{className:"test-errors",children:e.errors.map((e,t)=>(0,Ct.jsxs)("div",{className:"error-item",children:[(0,Ct.jsxs)("strong",{children:[e.field,":"]})," Expected \xa3",e.expected,", Got \xa3",e.actual," (Diff: \xa3",e.difference,")"]},t))})]},e.testCaseId))]}),(0,Ct.jsx)("div",{className:"action-buttons",children:(0,Ct.jsx)("button",{type:"button",className:"btn btn-outline",onClick:()=>{if(!b)return;const e={testRun:{timestamp:(new Date).toISOString(),totalTests:b.length,passedTests:b.filter(e=>e.passed).length,failedTests:b.filter(e=>!e.passed).length,successRate:(b.filter(e=>e.passed).length/b.length*100).toFixed(2)+"%"},results:b},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="uc-calculator-test-results-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},children:"Export Results"})})]})]})}):null};const $t=function(t){let{isVisible:n=!1,onToggleVisibility:i,currentRoute:s,formData:r,results:o}=t;const[l,c]=(0,e.useState)("text-management"),[d,h]=(0,e.useState)(""),[u,p]=(0,e.useState)(null),[m,f]=(0,e.useState)(null),[g,v]=(0,e.useState)(!1),[b,y]=(0,e.useState)([]),[x,w]=(0,e.useState)(""),[N,A]=(0,e.useState)({}),[k,j]=(0,e.useState)(s||"/"),[C,_]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=qt();y(e);const t=Yt();w(t);const n=Gt();A(n),n[s]&&_(n[s])},[s]);const S=[{path:"/",name:"Main Calculator"},{path:"/rehabilitation-calculator",name:"Rehabilitation Calculator"}];return n?(0,Ct.jsxs)("div",{className:"admin-panel",children:[(0,Ct.jsxs)("div",{className:"admin-header",children:[(0,Ct.jsx)("h2",{children:"Administration"}),(0,Ct.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:i,children:"Close Admin Panel"})]}),(0,Ct.jsx)("div",{className:"admin-description",children:(0,Ct.jsx)("p",{children:"Use the administration panel to manage calculator settings and content. You can view and edit text within the calculator, manage calculation parameters, and control how the calculator works."})}),(0,Ct.jsxs)("div",{className:"admin-tabs",children:[(0,Ct.jsx)("button",{className:"tab-button ".concat("text-management"===l?"active":""),onClick:()=>c("text-management"),children:"Text Management"}),(0,Ct.jsx)("button",{className:"tab-button ".concat("skin-management"===l?"active":""),onClick:()=>c("skin-management"),children:"Choose Skin"}),(0,Ct.jsx)("button",{className:"tab-button ".concat("route-skins"===l?"active":""),onClick:()=>c("route-skins"),children:"Route-Specific Skins"}),(0,Ct.jsx)("button",{className:"tab-button ".concat("calculator-settings"===l?"active":""),onClick:()=>c("calculator-settings"),children:"Calculator Settings"}),(0,Ct.jsx)("button",{className:"tab-button ".concat("rates-management"===l?"active":""),onClick:()=>c("rates-management"),children:"Rates Management"}),(0,Ct.jsx)("button",{className:"tab-button ".concat("inputs-and-export"===l?"active":""),onClick:()=>c("inputs-and-export"),children:"Inputs & Export JSON"}),(0,Ct.jsx)("button",{className:"tab-button ".concat("testing-module"===l?"active":""),onClick:()=>c("testing-module"),children:"Testing Module"})]}),(0,Ct.jsxs)("div",{className:"admin-content",children:["text-management"===l&&(0,Ct.jsx)(Bt,{editorName:d,setEditorName:h}),"skin-management"===l&&(0,Ct.jsx)(Qt,{}),"route-skins"===l&&(0,Ct.jsxs)("div",{className:"admin-section",children:[(0,Ct.jsx)("h3",{children:"Route-Specific Skin Selection"}),(0,Ct.jsx)("p",{children:"Set different skins for specific pages. These will override the global skin."}),(0,Ct.jsxs)("div",{className:"route-skin-controls",children:[(0,Ct.jsxs)("div",{className:"route-selector",children:[(0,Ct.jsx)("label",{htmlFor:"routeSelect",children:"Select Route:"}),(0,Ct.jsx)("select",{id:"routeSelect",value:k,onChange:e=>{j(e.target.value),_(N[e.target.value]||"")},children:S.map(e=>(0,Ct.jsx)("option",{value:e.path,children:e.name},e.path))})]}),(0,Ct.jsxs)("div",{className:"skin-selector",children:[(0,Ct.jsx)("label",{htmlFor:"skinSelect",children:"Select Skin:"}),(0,Ct.jsxs)("select",{id:"skinSelect",value:C,onChange:e=>{var t,n;_(e.target.value),t=k,n=e.target.value,Ut(t,n)&&(A(e=>(0,a.A)((0,a.A)({},e),{},{[t]:n})),t===s&&Jt(t))},children:[(0,Ct.jsx)("option",{value:"",children:"Use Global Skin"}),b.map(e=>(0,Ct.jsx)("option",{value:e.key,children:e.name},e.key))]})]})]}),(0,Ct.jsxs)("div",{className:"current-route-skins",children:[(0,Ct.jsx)("h4",{children:"Current Route Skin Settings:"}),(0,Ct.jsx)("div",{className:"route-skin-list",children:S.map(e=>{var t,n;return(0,Ct.jsxs)("div",{className:"route-skin-item",children:[(0,Ct.jsxs)("span",{className:"route-name",children:[e.name,":"]}),(0,Ct.jsx)("span",{className:"route-skin",children:N[e.path]?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsx)("span",{className:"skin-logo",children:null===(t=b.find(t=>t.key===N[e.path]))||void 0===t?void 0:t.logo}),(0,Ct.jsx)("span",{children:null===(n=b.find(t=>t.key===N[e.path]))||void 0===n?void 0:n.name})]}):(0,Ct.jsx)("span",{className:"global-skin",children:"Global Skin"})})]},e.path)})})]}),(0,Ct.jsx)("div",{className:"admin-actions",children:(0,Ct.jsx)("button",{className:"btn btn-secondary",onClick:()=>{Vt();const e=Gt();A(e),Jt(s)},children:"Reset to Defaults"})})]}),"calculator-settings"===l&&(0,Ct.jsxs)("div",{className:"admin-section",children:[(0,Ct.jsx)("h3",{children:"Calculator Settings"}),(0,Ct.jsx)("p",{children:"Calculator settings management will be implemented here."})]}),"rates-management"===l&&(0,Ct.jsxs)("div",{className:"admin-section",children:[(0,Ct.jsx)("h3",{children:"Rates Management"}),(0,Ct.jsx)("p",{children:"Rates management will be implemented here."})]}),"inputs-and-export"===l&&(0,Ct.jsxs)("div",{className:"admin-section",children:[(0,Ct.jsx)("h3",{children:"Inputs & Export JSON"}),(0,Ct.jsx)("p",{children:"View the current answers for all input variables and export inputs + results as JSON."}),(0,Ct.jsx)("div",{className:"admin-actions",style:{marginBottom:"12px"},children:(0,Ct.jsx)("button",{className:"btn btn-primary",onClick:()=>{const e={inputs:r||{},results:o||null,exportedAt:(new Date).toISOString(),route:s},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download="uc-admin-export-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(n)},children:"Export JSON"})}),(0,Ct.jsx)("div",{className:"inputs-grid",style:{maxHeight:"300px",overflowY:"auto",border:"1px solid #eee",padding:"10px",borderRadius:"6px"},children:r?Object.keys(r).map(e=>(0,Ct.jsxs)("div",{className:"input-row",style:{display:"flex",justifyContent:"space-between",padding:"4px 0",borderBottom:"1px dashed #f0f0f0"},children:[(0,Ct.jsx)("span",{style:{fontWeight:600},children:e}),(0,Ct.jsx)("span",{style:{color:"#555"},children:"object"===typeof r[e]?JSON.stringify(r[e]):String(r[e])})]},e)):(0,Ct.jsx)("div",{children:"No inputs available."})}),o&&(0,Ct.jsxs)("div",{style:{marginTop:"12px"},children:[(0,Ct.jsx)("h4",{children:"Results (summary)"}),(0,Ct.jsx)("pre",{style:{background:"#fafafa",padding:"10px",borderRadius:"6px",border:"1px solid #eee"},children:JSON.stringify(o,null,2)})]})]}),"testing-module"===l&&(0,Ct.jsx)(Zt,{isVisible:!0,onToggleVisibility:()=>c("text-management"),testFile:u,setTestFile:p,testResults:m,setTestResults:f,isProcessing:g,setIsProcessing:v})]})]}):null},en=[{id:"single-no-children",name:"Single Person, No Children",description:"Basic Universal Credit for a single person with no housing costs or children",isPredefined:!0,formData:{taxYear:"2025_26",circumstances:"single",age:25,housingStatus:"no_housing_costs",employmentType:"not_working",monthlyEarnings:0,hasChildren:!1,children:0,hasSavings:"no",area:"england"},expectedResult:"\xa3311.68 per month"},{id:"couple-with-children",name:"Couple with 2 Children",description:"Couple with 2 children, renting privately, one person working part-time",isPredefined:!0,formData:{taxYear:"2025_26",circumstances:"couple",age:28,partnerAge:30,housingStatus:"renting",tenantType:"private",rent:1200,rentPeriod:"per_month",bedrooms:3,employmentType:"employed",monthlyEarnings:800,monthlyEarningsPeriod:"per_month",partnerEmploymentType:"not_working",hasChildren:!0,children:2,childAges:[5,8],childGenders:["female","male"],childDisabilities:[!1,!1],hasSavings:"no",area:"england"},expectedResult:"Varies by location and LHA rates"},{id:"single-parent-disabled",name:"Single Parent with Disability Benefits",description:"Single parent with 1 child, receiving PIP, working part-time",isPredefined:!0,formData:{taxYear:"2025_26",circumstances:"single",age:32,housingStatus:"renting",tenantType:"social",rent:600,rentPeriod:"per_month",bedrooms:2,employmentType:"employed",monthlyEarnings:600,monthlyEarningsPeriod:"per_month",isDisabled:"yes",claimsDisabilityBenefits:"yes",disabilityBenefitType:"pip",pipDailyLivingRate:"standard",pipMobilityRate:"standard",hasChildren:!0,children:1,childAges:[7],childGenders:["male"],childDisabilities:[!1],hasSavings:"no",area:"england"},expectedResult:"Higher due to disability elements"},{id:"self-employed-couple",name:"Self-Employed Couple",description:"Couple where one is self-employed, no children, private rent",isPredefined:!0,formData:{taxYear:"2025_26",circumstances:"couple",age:35,partnerAge:33,housingStatus:"renting",tenantType:"private",rent:900,rentPeriod:"per_month",bedrooms:2,employmentType:"self-employed",monthlyEarnings:1200,monthlyEarningsPeriod:"per_month",partnerEmploymentType:"not_working",hasChildren:!1,children:0,hasSavings:"no",area:"england"},expectedResult:"Subject to MIF rules and work allowances"},{id:"homeowner-1-child-minimal-uc",name:"Homeowner Single Parent - \xa31 UC (1 Child)",description:"Single parent homeowner with 1 child earning just enough to qualify for \xa31/month UC",isPredefined:!0,formData:{taxYear:"2025_26",circumstances:"single",age:30,housingStatus:"no_housing_costs",employmentType:"employed",monthlyEarnings:2511.23,monthlyEarningsPeriod:"per_month",hasChildren:!0,children:1,childAges:[8],childGenders:["female"],childDisabilities:[!1],hasSavings:"no",area:"england"},expectedResult:"\xa31.00 per month (annual earnings: \xa330,135)"},{id:"homeowner-2-children-minimal-uc",name:"Homeowner Single Parent - \xa31 UC (2 Children)",description:"Single parent homeowner with 2 children earning just enough to qualify for \xa31/month UC",isPredefined:!0,formData:{taxYear:"2025_26",circumstances:"single",age:32,housingStatus:"no_housing_costs",employmentType:"employed",monthlyEarnings:3282.78,monthlyEarningsPeriod:"per_month",hasChildren:!0,children:2,childAges:[6,10],childGenders:["male","female"],childDisabilities:[!1,!1],hasSavings:"no",area:"england"},expectedResult:"\xa31.00 per month (annual earnings: \xa339,393)"},{id:"homeowner-3-children-minimal-uc",name:"Homeowner Single Parent - \xa31 UC (3 Children)",description:"Single parent homeowner with 3 children earning just enough to qualify for \xa31/month UC",isPredefined:!0,formData:{taxYear:"2025_26",circumstances:"single",age:35,housingStatus:"no_housing_costs",employmentType:"employed",monthlyEarnings:4054.32,monthlyEarningsPeriod:"per_month",hasChildren:!0,children:3,childAges:[5,9,12],childGenders:["female","male","female"],childDisabilities:[!1,!1,!1],hasSavings:"no",area:"england"},expectedResult:"\xa31.00 per month (annual earnings: \xa348,652)"}];const tn=function(t){let{isVisible:n=!1,onToggleVisibility:i,onLoadExample:s}=t;const[r,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(null),[d,h]=(0,e.useState)(""),[u,p]=(0,e.useState)(!1),[m,f]=(0,e.useState)(""),[g,v]=(0,e.useState)(""),[b,y]=(0,e.useState)(null),[x,w]=(0,e.useState)(null);(0,e.useEffect)(()=>{const e=localStorage.getItem("ucUserExamples");if(e)try{o(JSON.parse(e))}catch(t){console.error("Error loading user examples:",t),o([])}},[]),(0,e.useEffect)(()=>{window.currentCalculatorData&&(y(window.currentCalculatorData.formData),w(window.currentCalculatorData.results))},[n]);const N=e=>{localStorage.setItem("ucUserExamples",JSON.stringify(e)),o(e)},A=(e,t)=>{if(!t.trim())return;const n=r.map(n=>n.id===e?(0,a.A)((0,a.A)({},n),{},{name:t.trim()}):n);N(n),c(null)},k=e=>{const t="single"===e.circumstances?"Single":"Couple",n="no_housing_costs"===e.housingStatus?"No housing costs":"renting"===e.housingStatus?"Renting":"mortgage"===e.housingStatus?"Mortgage":e.housingStatus,i=e.hasChildren&&e.children>0?", ".concat(e.children," child").concat(e.children>1?"ren":""):"";return"".concat(t,", ").concat(n).concat(i)};if(!n)return null;const j=[...en,...r];return(0,Ct.jsxs)("div",{className:"admin-panel",children:[(0,Ct.jsxs)("div",{className:"admin-header",children:[(0,Ct.jsx)("h2",{children:"Calculation Examples"}),(0,Ct.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:i,children:"Close Examples"})]}),(0,Ct.jsx)("div",{className:"admin-description",children:(0,Ct.jsx)("p",{children:"Load pre-defined example calculations or create your own examples for future reference. Pre-loaded examples help you understand different situations."})}),(0,Ct.jsx)("div",{className:"admin-content",children:(0,Ct.jsxs)("div",{className:"admin-section",children:[b&&x&&(0,Ct.jsxs)("div",{className:"create-example-section",style:{marginBottom:"20px",padding:"15px",border:"1px solid #e0e0e0",borderRadius:"6px",backgroundColor:"#f9f9f9"},children:[(0,Ct.jsx)("h4",{children:"Create New Example"}),(0,Ct.jsx)("p",{children:"Save the current calculation as a reusable example."}),u?(0,Ct.jsxs)("div",{className:"create-form",children:[(0,Ct.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,Ct.jsx)("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px"},children:"Example Name:"}),(0,Ct.jsx)("input",{type:"text",value:m,onChange:e=>f(e.target.value),placeholder:"e.g., Working couple with childcare costs",className:"form-control",style:{width:"100%"}})]}),(0,Ct.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Ct.jsx)("label",{style:{display:"block",fontWeight:"bold",marginBottom:"5px"},children:"Description (optional):"}),(0,Ct.jsx)("textarea",{value:g,onChange:e=>v(e.target.value),placeholder:"Brief description of this example...",className:"form-control",rows:"2",style:{width:"100%"}})]}),(0,Ct.jsxs)("div",{children:[(0,Ct.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>{if(!m.trim()||!b||!x)return;const e={id:"user-".concat(Date.now()),name:m.trim(),description:g.trim()||"User-created example",isPredefined:!1,formData:(0,a.A)({},b),results:(0,a.A)({},x),timestamp:(new Date).toISOString(),expectedResult:x.calculation?"\xa3".concat(x.calculation.finalAmount.toFixed(2)," per month"):"Calculation available"},t=[...r,e];N(t),f(""),v(""),p(!1)},disabled:!m.trim(),style:{marginRight:"10px"},children:"Save Example"}),(0,Ct.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>{p(!1),f(""),v("")},children:"Cancel"})]})]}):(0,Ct.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>p(!0),children:"Create Example from Current Calculation"})]}),0===j.length?(0,Ct.jsxs)("div",{className:"no-examples",children:[(0,Ct.jsx)("p",{children:"No examples available."}),(0,Ct.jsx)("p",{children:"Run a calculation first, then create examples for future reference."})]}):(0,Ct.jsxs)("div",{className:"examples-list",children:[(0,Ct.jsx)("h4",{children:"Available Examples"}),j.map(e=>{return(0,Ct.jsxs)("div",{className:"example-item",style:{marginBottom:"15px",padding:"15px",border:"1px solid #e0e0e0",borderRadius:"6px"},children:[(0,Ct.jsxs)("div",{className:"example-header",style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[(0,Ct.jsx)("div",{className:"example-title",children:l===e.id?(0,Ct.jsx)("div",{className:"example-rename",children:(0,Ct.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),onKeyPress:t=>{"Enter"===t.key&&A(e.id,d)},onBlur:()=>A(e.id,d),autoFocus:!0,className:"form-control form-control-sm"})}):(0,Ct.jsxs)("h5",{onClick:()=>{e.isPredefined||(c(e.id),h(e.name))},style:{cursor:e.isPredefined?"default":"pointer",margin:"0 0 5px 0"},title:e.isPredefined?"Pre-defined example":"Click to rename",children:[e.name," ",e.isPredefined&&(0,Ct.jsx)("span",{style:{fontSize:"12px",color:"#666"},children:"(Built-in)"})]})}),(0,Ct.jsxs)("div",{className:"example-actions",children:[(0,Ct.jsx)("button",{className:"btn btn-primary btn-sm",onClick:()=>(e=>{s&&(e.isPredefined?s(e.formData,null):s(e.formData,e.results)),i&&i()})(e),title:"Load this example",style:{marginRight:"5px"},children:"Load"}),!e.isPredefined&&(0,Ct.jsx)("button",{className:"btn btn-danger btn-sm",onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this example?")){const t=r.filter(t=>t.id!==e);N(t)}})(e.id),title:"Delete this example",children:"Delete"})]})]}),(0,Ct.jsxs)("div",{className:"example-details",children:[(0,Ct.jsx)("p",{style:{margin:"0 0 5px 0",color:"#666",fontSize:"14px"},children:e.description}),(0,Ct.jsxs)("div",{className:"example-info",style:{fontSize:"13px",color:"#888"},children:[(0,Ct.jsx)("span",{className:"example-summary",children:k(e.formData)}),(0,Ct.jsx)("span",{style:{margin:"0 10px"},children:"\u2022"}),(0,Ct.jsx)("span",{className:"example-result",children:e.expectedResult})]}),!e.isPredefined&&e.timestamp&&(0,Ct.jsxs)("div",{className:"example-timestamp",style:{fontSize:"12px",color:"#aaa",marginTop:"5px"},children:["Created: ",(t=e.timestamp,new Date(t).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}))]})]})]},e.id);var t})]})]})})]})};const nn=function(e){let{type:t}=e;if(!t)return null;const n="over"===t?(0,Ct.jsx)(Ct.Fragment,{children:"We do not currently calculate benefits for people who are older than state pension age (Pension Credit, Housing Benefit and related benefits)."}):(0,Ct.jsx)(Ct.Fragment,{children:"You are in a couple where one is older than state pension age and the other younger. This means you count as a 'mixed age couple' and can use the calculator to calculate Universal Credit. To make the calculator you will need to make the older member of couple age 65."});return(0,Ct.jsx)("div",{className:"pension-age-warning",children:(0,Ct.jsxs)("div",{className:"warning-content",children:[(0,Ct.jsx)("div",{className:"warning-icon",children:"\u26a0\ufe0f"}),(0,Ct.jsxs)("div",{className:"warning-text",children:[(0,Ct.jsx)("h3",{children:"State Pension Age Notice"}),(0,Ct.jsx)("p",{children:n}),(0,Ct.jsx)("p",{className:"pension-age-note",children:"Note: State pension age is currently 66 but increasing gradually to 67 from April 2026."})]})]})})};function an(e){return parseInt(e,10)>=66}const sn=function(t){let{showRelatedTools:n=!0}=t;const i=re(),[a,s]=(0,e.useState)(!1),r={main:[{path:"/",label:"Universal Credit Calculator",icon:"\ud83c\udfe0"},{path:"/rehabilitation-services",label:"Rehabilitation Services",icon:"\ud83d\udd04"},{path:"/self-employment-accounts",label:"Self-Employment Tools",icon:"\ud83d\udcbc"},{path:"/budgeting-tool",label:"Budgeting Tool",icon:"\ud83d\udcb0"}],rehabilitation:[{path:"/",label:"Income Maximisation",icon:"\ud83d\udcb5",description:"Universal Credit Calculator"},{path:"/budgeting-tool",label:"Manage My Finances",icon:"\ud83d\udcb0",description:"Budgeting Tool"},{path:"/affordability-map",label:"Finding a Home",icon:"\ud83c\udfe0",description:"Affordability Map"},{path:"/help-guide",label:"Benefits, Housing & Health",icon:"\ud83d\udccb",description:"Guide for Prison Leavers"}],selfEmployment:[{path:"/monthly-profit",label:"Monthly Profit Tool",icon:"\ud83d\udcca",description:"Track monthly earnings"},{path:"/self-assessment-tax-form",label:"Self-Assessment Tax",icon:"\ud83d\udcdd",description:"Tax form assistance"},{path:"/mif-help-guide",label:"MIF Help Guide",icon:"\ud83d\udcc8",description:"MIF information"},{path:"/mif-calculator",label:"MIF Calculator",icon:"\ud83e\uddee",description:"Calculate your MIF"}]},o=i.pathname.startsWith("/rehabilitation")||"/budgeting-tool"===i.pathname||"/affordability-map"===i.pathname||i.pathname.startsWith("/help-guide")?"rehabilitation":i.pathname.startsWith("/self-employment")||"/monthly-profit"===i.pathname||"/self-assessment-tax-form"===i.pathname||i.pathname.startsWith("/mif-help-guide")||"/mif-calculator"===i.pathname?"selfEmployment":"main",l=(()=>{const e=i.pathname.split("/").filter(Boolean),t=[{label:"Home",path:"/"}];if(e.length>0){switch(e[0]){case"rehabilitation-services":t.push({label:"Rehabilitation Services",path:"/rehabilitation-services"});break;case"self-employment-accounts":t.push({label:"Self-Employment Tools",path:"/self-employment-accounts"});break;case"budgeting-tool":t.push({label:"Rehabilitation Services",path:"/rehabilitation-services"}),t.push({label:"Budgeting Tool",path:"/budgeting-tool"});break;case"monthly-profit":t.push({label:"Self-Employment Tools",path:"/self-employment-accounts"}),t.push({label:"Monthly Profit Tool",path:"/monthly-profit"});break;case"mif-help-guide":t.push({label:"Self-Employment Tools",path:"/self-employment-accounts"}),t.push({label:"MIF Help Guide",path:"/mif-help-guide"});break;case"mif-calculator":t.push({label:"Self-Employment Tools",path:"/self-employment-accounts"}),t.push({label:"MIF Calculator",path:"/mif-calculator"});break;case"help-guide":t.push({label:"Rehabilitation Services",path:"/rehabilitation-services"}),t.push({label:"Benefits, Housing & Health",path:"/help-guide"});break;case"affordability-map":t.push({label:"Rehabilitation Services",path:"/rehabilitation-services"}),t.push({label:"Affordability Map",path:"/affordability-map"})}}return t})(),c=(()=>{const e=i.pathname;return"/budgeting-tool"===e?[{path:"/",label:"Universal Credit Calculator",icon:"\ud83c\udfe0"},{path:"/rehabilitation-services",label:"Rehabilitation Services",icon:"\ud83d\udd04"},{path:"/self-employment-accounts",label:"Self-Employment Tools",icon:"\ud83d\udcbc"},{path:"/mif-help-guide",label:"MIF Help Guide",icon:"\ud83d\udcc8"}]:"/"===e?[{path:"/budgeting-tool",label:"Budgeting Tool",icon:"\ud83d\udcb0"},{path:"/rehabilitation-services",label:"Rehabilitation Services",icon:"\ud83d\udd04"},{path:"/self-employment-accounts",label:"Self-Employment Tools",icon:"\ud83d\udcbc"},{path:"/mif-help-guide",label:"MIF Help Guide",icon:"\ud83d\udcc8"}]:e.startsWith("/self-employment")||"/monthly-profit"===e||"/mif-help-guide"===e||"/mif-calculator"===e?[{path:"/",label:"Universal Credit Calculator",icon:"\ud83c\udfe0"},{path:"/budgeting-tool",label:"Budgeting Tool",icon:"\ud83d\udcb0"},{path:"/rehabilitation-services",label:"Rehabilitation Services",icon:"\ud83d\udd04"},{path:"/monthly-profit",label:"Monthly Profit Tool",icon:"\ud83d\udcca"}]:[]})();return(0,Ct.jsxs)("div",{className:"navigation-system",children:[(0,Ct.jsx)("div",{className:"mobile-menu-toggle",children:(0,Ct.jsxs)("button",{className:"hamburger-btn",onClick:()=>s(!a),"aria-label":"Toggle navigation menu",children:[(0,Ct.jsx)("span",{}),(0,Ct.jsx)("span",{}),(0,Ct.jsx)("span",{})]})}),(0,Ct.jsx)("nav",{className:"main-navigation ".concat(a?"mobile-open":""),children:(0,Ct.jsxs)("div",{className:"nav-container",children:[(0,Ct.jsxs)("div",{className:"nav-section",children:[(0,Ct.jsx)("h3",{children:"Main Tools"}),(0,Ct.jsx)("ul",{className:"nav-list",children:r.main.map(e=>(0,Ct.jsx)("li",{className:i.pathname===e.path?"active":"",children:(0,Ct.jsxs)(dt,{to:e.path,className:"nav-item",children:[(0,Ct.jsx)("span",{className:"nav-icon",children:e.icon}),(0,Ct.jsx)("span",{className:"nav-label",children:e.label})]})},e.path))})]}),"main"!==o&&(0,Ct.jsxs)("div",{className:"nav-section",children:[(0,Ct.jsx)("h3",{children:"rehabilitation"===o?"Rehabilitation Services":"Self-Employment Tools"}),(0,Ct.jsx)("ul",{className:"nav-list",children:r[o].map(e=>(0,Ct.jsx)("li",{className:i.pathname===e.path?"active":"",children:(0,Ct.jsxs)(dt,{to:e.path,className:"nav-item",children:[(0,Ct.jsx)("span",{className:"nav-icon",children:e.icon}),(0,Ct.jsxs)("div",{className:"nav-content",children:[(0,Ct.jsx)("span",{className:"nav-label",children:e.label}),e.description&&(0,Ct.jsx)("span",{className:"nav-description",children:e.description})]})]})},e.path))})]})]})}),l.length>1&&(0,Ct.jsx)("div",{className:"breadcrumbs",children:(0,Ct.jsx)("nav",{"aria-label":"Breadcrumb",children:(0,Ct.jsx)("ol",{className:"breadcrumb-list",children:l.map((e,t)=>(0,Ct.jsxs)("li",{className:"breadcrumb-item",children:[t===l.length-1?(0,Ct.jsx)("span",{className:"breadcrumb-current",children:e.label}):(0,Ct.jsx)(dt,{to:e.path,className:"breadcrumb-link",children:e.label}),t<l.length-1&&(0,Ct.jsx)("span",{className:"breadcrumb-separator",children:"\u203a"})]},e.path))})})}),n&&c.length>0&&(0,Ct.jsx)("div",{className:"related-tools-footer",children:(0,Ct.jsxs)("div",{className:"related-tools-container",children:[(0,Ct.jsx)("h4",{children:"Related Tools"}),(0,Ct.jsx)("div",{className:"related-tools-grid",children:c.map(e=>(0,Ct.jsxs)(dt,{to:e.path,className:"related-tool-link",children:[(0,Ct.jsx)("span",{className:"tool-icon",children:e.icon}),(0,Ct.jsx)("span",{className:"tool-label",children:e.label})]},e.path))})]})})]})};const rn=function(e){let{route:t="/"}=e;const n=(e=>{const t=zt(e);return Ot[t]})(t);return n?(0,Ct.jsxs)("div",{className:"logo",children:[(0,Ct.jsx)("span",{className:"logo-symbol",children:n.logo}),(0,Ct.jsx)("span",{className:"logo-text",children:n.companyName})]}):null};const on=function(t){let{isRehabilitation:i=!1}=t;const s=re(),[r,o]=(0,e.useState)({taxYear:"2025_26",circumstances:"single",age:25,partnerAge:25,housingStatus:"no_housing_costs",tenantType:"social",brma:"",rent:0,rentPeriod:"per_month",serviceCharges:0,serviceChargesPeriod:"per_month",bedrooms:1,nonDependants:0,employmentType:"not_working",monthlyEarnings:0,monthlyEarningsPeriod:"per_month",pensionAmount:0,pensionAmountPeriod:"per_month",pensionType:"amount",pensionPercentage:3,isDisabled:"no",claimsDisabilityBenefits:"no",disabilityBenefitType:"",pipDailyLivingRate:"none",pipMobilityRate:"none",dlaCareRate:"none",dlaMobilityRate:"none",aaRate:"none",hasLCWRA:"no",partnerEmploymentType:"not_working",partnerMonthlyEarnings:0,partnerMonthlyEarningsPeriod:"per_month",partnerPensionAmount:0,partnerPensionAmountPeriod:"per_month",partnerPensionType:"amount",partnerPensionPercentage:3,partnerIsDisabled:"no",partnerClaimsDisabilityBenefits:"no",partnerDisabilityBenefitType:"",partnerPipDailyLivingRate:"none",partnerPipMobilityRate:"none",partnerDlaCareRate:"none",partnerDlaMobilityRate:"none",partnerAaRate:"none",partnerHasLCWRA:"no",hasChildren:!1,children:0,childAges:[],childDisabilities:[],childGenders:[],childcareCosts:0,childcareCostsPeriod:"per_month",isCarer:"no",isPartnerCarer:"no",hasOtherBenefits:"no",otherBenefitsList:[],hasSavings:"no",hasSavingsOver6000:"no",savingsAmount:0,savings:0,savingsPeriod:"per_month",area:"england"}),[l,c]=(0,e.useState)(null),[d,h]=(0,e.useState)(!1),[u,p]=(0,e.useState)(!1),[m,f]=(0,e.useState)([]),[g,v]=(0,e.useState)(!1),[b,y]=(0,e.useState)(!1),[x,w]=(0,e.useState)(!1),[N,A]=(0,e.useState)(null),[k,j]=(0,e.useState)({}),[C]=(0,e.useState)(()=>new jt);(0,e.useEffect)(()=>{Jt(s.pathname)},[s.pathname]),(0,e.useEffect)(()=>{const e=localStorage.getItem("ucSavedScenarios");if(e)try{f(JSON.parse(e))}catch(t){console.error("Error loading saved scenarios:",t),f([])}},[]),(0,e.useEffect)(()=>{window.currentCalculatorData={formData:r,results:l}},[r,l]);const _=(e,t)=>{if(!e||0===e)return 0;switch(t){case"per_week":return 4.33*e;case"per_month":default:return e;case"per_year":return e/12}};return(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsx)("header",{className:"header",children:(0,Ct.jsxs)("div",{className:"header-content",children:[(0,Ct.jsx)(rn,{route:s.pathname}),(0,Ct.jsxs)("div",{className:"header-text",children:[(0,Ct.jsx)("h1",{children:i?"Benefits Calculator":"Better Off In Work Calculator"}),(0,Ct.jsx)("p",{className:"subtitle",children:i?"Use this calculator to maximise your income and see how changes in circumstance might affect you":"Use this calculator to check your finances if you move into work, claim all your entitlements and get help with self employment"})]}),(0,Ct.jsxs)("div",{className:"header-buttons",children:[(0,Ct.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>p(!u),children:u?"Hide Examples":"Examples"}),(0,Ct.jsx)("button",{type:"button",className:"btn btn-outline btn-sm admin-toggle",onClick:()=>h(!d),children:d?"Hide Admin":"Admin Panel"})]})]})}),(0,Ct.jsxs)("main",{className:"main-content",children:[(0,Ct.jsx)("div",{className:"calculator-grid",children:(0,Ct.jsx)(Tt,{formData:r,onFormChange:(e,t)=>{o(n=>(0,a.A)((0,a.A)({},n),{},{[e]:t})),k[e]&&j(t=>{const n=(0,a.A)({},t);return delete n[e],n})},onCalculate:async()=>{const e={};if("renting"!==r.housingStatus||"private"!==r.tenantType||r.brma||(e.brma="Please select your Broad Rental Market Area"),j(e),Object.keys(e).length>0)return y(!1),void w(!1);y(!0),w(!0);const t=function(e){const t=null===e||void 0===e?void 0:e.age,n=null===e||void 0===e?void 0:e.partnerAge,i="couple"===(null===e||void 0===e?void 0:e.circumstances),a=an(t),s=!!i&&an(n);return i?a&&s?"over":a&&!s||!a&&s?"mixed":null:a?"over":null}(r);if(A(t),t)return v(!1),void y(!1);try{const e=(0,a.A)((0,a.A)({},r),{},{rent:_(r.rent,r.rentPeriod),serviceCharges:_(r.serviceCharges,r.serviceChargesPeriod),monthlyEarnings:_(r.monthlyEarnings,r.monthlyEarningsPeriod),pensionAmount:_(r.pensionAmount,r.pensionAmountPeriod),partnerMonthlyEarnings:_(r.partnerMonthlyEarnings,r.partnerMonthlyEarningsPeriod),partnerPensionAmount:_(r.partnerPensionAmount,r.partnerPensionAmountPeriod),childcareCosts:_(r.childcareCosts,r.childcareCostsPeriod),savings:_(r.savings,r.savingsPeriod),age:r.age||25,partnerAge:r.partnerAge||25,otherBenefits:"yes"===r.hasOtherBenefits?r.otherBenefitsList.reduce((e,t)=>e+(t.amount||0),0):0,otherBenefitsPeriod:"per_month"});console.log("Calculation input:",e),console.log("Net earnings in form data:",{netMonthlyEarningsCalculated:r.netMonthlyEarningsCalculated,netMonthlyEarningsOverride:r.netMonthlyEarningsOverride,monthlyEarnings:r.monthlyEarnings}),console.log("LCWRA Debug - formData:",{hasLCWRA:r.hasLCWRA,partnerHasLCWRA:r.partnerHasLCWRA,circumstances:r.circumstances}),console.log("LCWRA Debug - calculationInput:",{hasLCWRA:e.hasLCWRA,partnerHasLCWRA:e.partnerHasLCWRA,circumstances:e.circumstances}),console.log("LCWRA Values - hasLCWRA:",r.hasLCWRA,"partnerHasLCWRA:",r.partnerHasLCWRA,"circumstances:",r.circumstances),C.initialized||await C.initialize();const t=await C.calculate(e);console.log("Calculation result:",t),t.success?(c(t),v(!0)):(console.error("Calculation failed:",t.errors),c({success:!1,errors:t.errors,calculation:{standardAllowance:0,housingElement:0,childElement:0,childcareElement:0,carerElement:0,totalElements:0,earningsReduction:0,capitalDeduction:0,benefitDeduction:0,capitalDeductionDetails:{tariffIncome:0,explanation:"Calculation failed"},finalAmount:0}}),v(!0))}catch(n){console.error("Calculation failed:",n),c({success:!1,errors:[n.message],calculation:{standardAllowance:0,childElement:0,childcareElement:0,carerElement:0,totalElements:0,earningsReduction:0,capitalDeduction:0,benefitDeduction:0,capitalDeductionDetails:{tariffIncome:0,explanation:"Calculation error occurred"},finalAmount:0}}),v(!0)}finally{y(!1)}},onReset:()=>{o({taxYear:"2025_26",circumstances:"single",age:25,partnerAge:25,housingStatus:"no_housing_costs",tenantType:"social",brma:"",rent:0,rentPeriod:"per_month",serviceCharges:0,serviceChargesPeriod:"per_month",bedrooms:1,nonDependants:0,employmentType:"not_working",monthlyEarnings:0,monthlyEarningsPeriod:"per_month",pensionAmount:0,pensionAmountPeriod:"per_month",pensionType:"amount",pensionPercentage:3,isDisabled:"no",claimsDisabilityBenefits:"no",disabilityBenefitType:"",pipDailyLivingRate:"none",pipMobilityRate:"none",dlaCareRate:"none",dlaMobilityRate:"none",aaRate:"none",hasLCWRA:"no",partnerEmploymentType:"not_working",partnerMonthlyEarnings:0,partnerMonthlyEarningsPeriod:"per_month",partnerPensionAmount:0,partnerPensionAmountPeriod:"per_month",partnerPensionType:"amount",partnerPensionPercentage:3,partnerIsDisabled:"no",partnerClaimsDisabilityBenefits:"no",partnerDisabilityBenefitType:"",partnerPipDailyLivingRate:"none",partnerPipMobilityRate:"none",partnerDlaCareRate:"none",partnerDlaMobilityRate:"none",partnerAaRate:"none",partnerHasLCWRA:"no",hasChildren:!1,children:0,childAges:[],childDisabilities:[],childGenders:[],childcareCosts:0,childcareCostsPeriod:"per_month",isCarer:"no",isPartnerCarer:"no",hasOtherBenefits:"no",otherBenefitsList:[],hasSavings:"no",hasSavingsOver6000:"no",savingsAmount:0,savings:0,savingsPeriod:"per_month",area:"england"}),c(null),v(!1),w(!1),A(null)},isRehabilitation:i,validationErrors:k})}),x&&N&&(0,Ct.jsx)(nn,{type:N}),!N&&m.length>0&&(0,Ct.jsxs)("div",{className:"saved-scenarios",children:[(0,Ct.jsx)("h3",{children:"Saved Scenarios"}),(0,Ct.jsx)("div",{className:"scenarios-list",children:m.map(e=>(0,Ct.jsxs)("div",{className:"scenario-item",children:[(0,Ct.jsx)("span",{children:e.name}),(0,Ct.jsxs)("div",{className:"scenario-actions",children:[(0,Ct.jsx)("button",{onClick:()=>{o(e.input),c(e.calculation),v(!0)},children:"Load"}),(0,Ct.jsx)("button",{onClick:()=>{const t=m.filter(t=>t.id!==e.id);f(t),localStorage.setItem("ucSavedScenarios",JSON.stringify(t))},children:"Delete"})]})]},e.id))})]}),!N&&g&&l&&(0,Ct.jsx)(Dt,{results:l,formData:r,onPrint:()=>{window.print()},onExport:()=>{l&&Promise.resolve().then(n.bind(n,1389)).then(e=>{let{default:t}=e;const n=new t,i=n.internal.pageSize.width,a=20,s=i-40;let o=a;n.setFontSize(20),n.setFont("helvetica","bold"),n.text("Universal Credit Calculation Report",i/2,o,{align:"center"}),o+=15,n.setFontSize(12),n.setFont("helvetica","normal"),n.text("Generated on: ".concat((new Date).toLocaleDateString("en-GB")),a,o),o+=10,n.text("Tax Year: ".concat(r.taxYear.replace("_","/")),a,o),o+=15,n.setFontSize(16),n.setFont("helvetica","bold"),n.text("Your Universal Credit Entitlement",a,o),o+=10,n.setFontSize(20),n.text("\xa3".concat(l.calculation.finalAmount.toFixed(2)," per month"),a,o),o+=20,n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Calculation Breakdown",a,o),o+=10,n.setFontSize(10),n.setFont("helvetica","normal");const c=[{label:"Standard Allowance",value:l.calculation.standardAllowance},{label:"Housing Element",value:l.calculation.housingElement},{label:"Child Element",value:l.calculation.childElement},{label:"Childcare Element",value:l.calculation.childcareElement}];if(l.calculation.carerElement>0&&c.push({label:"Carer Element",value:l.calculation.carerElement}),l.calculation.lcwraElement>0&&c.push({label:"LCWRA Element",value:l.calculation.lcwraElement}),c.push({label:"Total Elements",value:l.calculation.totalElements}),c.forEach(e=>{const t="Total Elements"===e.label;t&&(n.setFont("helvetica","bold"),o+=5),n.text(e.label,a,o),n.text("\xa3".concat(e.value.toFixed(2)),a+s-30,o,{align:"right"}),o+=6,t&&(n.setFont("helvetica","normal"),o+=5)}),o+=5,n.setFont("helvetica","bold"),n.text("Deductions",a,o),o+=8,n.setFont("helvetica","normal"),l.calculation.earningsReduction>0){const e=l.calculation.workAllowance>0?"Earnings Reduction after work allowance of \xa3".concat(l.calculation.workAllowance.toFixed(2)):"Earnings Reduction";n.text(e,a,o),n.text("-\xa3".concat(l.calculation.earningsReduction.toFixed(2)),a+s-30,o,{align:"right"}),o+=6}const d=l.calculation.capitalDeduction+l.calculation.benefitDeduction;d>0&&(n.text("Other Deductions",a,o),n.text("-\xa3".concat(d.toFixed(2)),a+s-30,o,{align:"right"}),o+=6),o+=5,n.setFont("helvetica","bold"),n.text("Final Universal Credit",a,o),n.text("\xa3".concat(l.calculation.finalAmount.toFixed(2)),a+s-30,o,{align:"right"}),o+=15,o>250&&(n.addPage(),o=a),n.setFontSize(14),n.setFont("helvetica","bold"),n.text("Your Details",a,o),o+=10,n.setFontSize(10),n.setFont("helvetica","normal");const h=[{label:"Circumstances",value:"single"===r.circumstances?"Single":"Couple"},{label:"Age",value:r.age||"Not specified"},{label:"Housing Status",value:"no_housing_costs"===r.housingStatus?"No Housing Costs":"renting"===r.housingStatus?"Renting":"mortgage"===r.housingStatus?"Mortgage":"in_prison"===r.housingStatus?"In Prison":r.housingStatus}];if("couple"===r.circumstances&&h.push({label:"Partner Age",value:r.partnerAge||"Not specified"}),h.forEach(e=>{n.text(e.label,a,o),n.text(e.value.toString(),100,o),o+=6}),o+=5,n.setFont("helvetica","bold"),n.text("Employment & Income",a,o),o+=8,n.setFont("helvetica","normal"),"not_working"!==r.employmentType){[{label:"Employment Type",value:"employed"===r.employmentType?"Employed":"Self-employed"},{label:"Monthly Earnings",value:"\xa3".concat(r.monthlyEarnings.toFixed(2)," (").concat(r.monthlyEarningsPeriod.replace("_"," "),")")}].forEach(e=>{n.text(e.label,a,o),n.text(e.value.toString(),100,o),o+=6})}if("couple"===r.circumstances&&"not_working"!==r.partnerEmploymentType){o+=2,n.text("Partner Employment:",a,o),o+=6;[{label:"Employment Type",value:"employed"===r.partnerEmploymentType?"Employed":"Self-employed"},{label:"Monthly Earnings",value:"\xa3".concat(r.partnerMonthlyEarnings.toFixed(2)," (").concat(r.partnerMonthlyEarningsPeriod.replace("_"," "),")")}].forEach(e=>{n.text(e.label,30,o),n.text(e.value.toString(),110,o),o+=6})}if("renting"===r.housingStatus){o+=5,n.setFont("helvetica","bold"),n.text("Housing Costs",a,o),o+=8,n.setFont("helvetica","normal");[{label:"Rent",value:"\xa3".concat(r.rent.toFixed(2)," (").concat(r.rentPeriod.replace("_"," "),")")},{label:"Service Charges",value:"\xa3".concat(r.serviceCharges.toFixed(2)," (").concat(r.serviceChargesPeriod.replace("_"," "),")")}].forEach(e=>{n.text(e.label,a,o),n.text(e.value.toString(),100,o),o+=6})}r.hasChildren&&r.children>0&&(o+=5,n.setFont("helvetica","bold"),n.text("Children",a,o),o+=8,n.setFont("helvetica","normal"),n.text("Number of children: ".concat(r.children),a,o),o+=6,r.childcareCosts>0&&(n.text("Childcare Costs",a,o),n.text("\xa3".concat(r.childcareCosts.toFixed(2)," (").concat(r.childcareCostsPeriod.replace("_"," "),")"),100,o),o+=6)),"yes"===r.hasSavings&&(o+=5,n.setFont("helvetica","bold"),n.text("Savings",a,o),o+=8,n.setFont("helvetica","normal"),n.text("Savings Amount",a,o),n.text("\xa3".concat(r.savings.toFixed(2)," (").concat(r.savingsPeriod.replace("_"," "),")"),100,o),o+=6);const u="uc-calculation-".concat((new Date).toISOString().split("T")[0],".pdf");n.save(u)}).catch(e=>{console.error("Error generating PDF:",e);const t={formData:r,results:l,exportedAt:(new Date).toISOString()},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),a=document.createElement("a");a.href=i,a.download="uc-calculation-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)})},onSave:()=>{if(!l||!l.calculation)return void console.warn("Cannot save scenario: no calculation results");const e={id:Date.now(),name:"Scenario ".concat(m.length+1),input:(0,a.A)({},r),calculation:l,timestamp:(new Date).toISOString()},t=[...m,e];f(t),localStorage.setItem("ucSavedScenarios",JSON.stringify(t))}})]}),(0,Ct.jsx)(tn,{isVisible:u,onToggleVisibility:()=>p(!1),onLoadExample:(e,t)=>{o((0,a.A)({},e)),t?(c(t),v(!0)):(c(null),v(!1)),w(!1),A(null)}}),(0,Ct.jsx)($t,{isVisible:d,onToggleVisibility:()=>h(!1),currentRoute:s.pathname,formData:r,results:l}),b&&(0,Ct.jsx)("div",{className:"loading-overlay",children:(0,Ct.jsx)("div",{className:"loading-spinner",children:"Calculating..."})}),(0,Ct.jsx)(sn,{showRelatedTools:!1})]})};const ln=function(){const{getTextValue:t}=Mt(),[n,i]=(0,e.useState)(!1),[a,s]=(0,e.useState)(""),[r,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1);return(0,Ct.jsxs)("div",{className:"self-employment-accounts-page",children:[(0,Ct.jsx)("div",{className:"container",children:(0,Ct.jsxs)("div",{className:"card",children:[(0,Ct.jsx)("h1",{children:t("SelfEmploymentAccounts.Page.Title","Self-Employment Accounts")}),(0,Ct.jsx)("p",{className:"description",children:t("SelfEmploymentAccounts.Page.Description","Our comprehensive self-employment accounts service helps you manage your Universal Credit reporting and tax obligations.")}),(0,Ct.jsxs)("div",{className:"features-section",children:[(0,Ct.jsx)("h2",{children:t("SelfEmploymentAccounts.Features.Title","Features")}),(0,Ct.jsx)("div",{className:"features-grid",children:[{key:"income-maximisation",icon:"\ud83d\udcb0",title:"Income Maximisation",description:"Calculate all the benefits and financial support you're entitled to as a self-employed person.",available:!0},{key:"SelfEmploymentAccounts.Features.TaxSelfAssessment",icon:"\ud83d\udcca",title:"Self-Assessment Tax Form",description:"Complete your annual tax return with our step-by-step form. Calculate your tax liability and submit directly to HMRC.",available:!0},{key:"making-tax-digital",icon:"\ud83c\udfdb\ufe0f",title:"Making Tax Digital",description:"Submit quarterly updates to HMRC directly from your records. Guidance and tooling to comply with MTD for Income Tax Self Assessment.",available:!1},{key:"mif",icon:"\u2696\ufe0f",title:"Minimum Income Floor",description:"Automatically calculate and track your Minimum Income Floor requirements for Universal Credit, ensuring compliance.",available:!0},{key:"monthly-profit",icon:"\ud83d\udcb0",title:"Manage Monthly Profit",description:"Every month you have to provide Universal Credit with your business income and outgoings. Gather your data, fill in your monthly reporting form and maximise your income using our monthly profit tool",available:!0},{key:"receipts-invoices",icon:"\ud83e\uddfe",title:"Receipts and Invoices",description:"Digitally store and organize all your receipts and invoices, with automatic categorization for tax purposes.",available:!0},{key:"learning",icon:"\ud83d\udcda",title:"Learning Resources",description:"Access guides, tutorials, and best practices for self-employed business management and tax compliance.",available:!1},{key:"business-mentor",icon:"\ud83d\udc65",title:"Your Business Mentor",description:"Find a mentor and communicate with them to get personalized guidance for your business growth and development.",available:!1},{key:"business-admin-guide",icon:"\ud83d\udee0\ufe0f",title:"Business Administration Guide",description:"Online tools to learn about marketing, accounting, and other essential business tools for self-employed success.",available:!1},{key:"access-to-work",icon:"\u267f",title:"Access to Work Grants",description:"Apply for and manage Access to Work grants for self-employed individuals with disabilities or health conditions. Get help with workplace support, equipment, and accessibility tools.",available:!1,functionalityIdeas:["Eligibility checker for self-employed Access to Work grants","Grant application form builder with UTR integration","Equipment and support cost calculator","Workplace assessment request system","Grant tracking and renewal management (3-year cycles)","Support worker/interpreter booking system","Equipment approval and procurement tracker","Travel support claims calculator","Communication aids request forms","Annual grant usage reporting","Integration with business accounting systems","Reasonable adjustment recommendation engine"]}].map((e,t)=>(0,Ct.jsxs)("div",{className:"feature-card",children:[(0,Ct.jsx)("div",{className:"feature-icon",children:e.icon}),(0,Ct.jsx)("h3",{children:e.title}),(0,Ct.jsx)("p",{children:e.description}),!e.available&&(0,Ct.jsx)("span",{className:"coming-soon",children:"Coming Soon"}),e.available&&"income-maximisation"===e.key&&(0,Ct.jsx)("div",{className:"feature-action",children:(0,Ct.jsx)(dt,{to:"/self-employment-accounts/income-maximisation",className:"btn btn-primary btn-sm",children:"Calculate Benefits"})}),e.available&&"SelfEmploymentAccounts.Features.TaxSelfAssessment"===e.key&&(0,Ct.jsx)("div",{className:"feature-action",children:(0,Ct.jsx)(dt,{to:"/self-assessment-tax-form",className:"btn btn-primary btn-sm",children:"Try Tax Form Now"})}),e.available&&"mif"===e.key&&(0,Ct.jsx)("div",{className:"feature-action",children:(0,Ct.jsx)(dt,{to:"/mif-help-guide",className:"btn btn-primary btn-sm",children:"Learn About MIF"})}),e.available&&"monthly-profit"===e.key&&(0,Ct.jsx)("div",{className:"feature-action",children:(0,Ct.jsx)(dt,{to:"/monthly-profit",className:"btn btn-primary btn-sm",children:"Try Monthly Profit Tool"})}),e.available&&"receipts-invoices"===e.key&&(0,Ct.jsx)("div",{className:"feature-action",children:(0,Ct.jsx)(dt,{to:"/self-employment-accounts/invoices-receipts",className:"btn btn-primary btn-sm",children:"Manage Invoices & Receipts"})})]},t))})]}),(0,Ct.jsxs)("div",{className:"cta-section",children:[(0,Ct.jsx)("button",{className:"btn btn-primary btn-lg",onClick:()=>window.open("".concat(window.location.origin).concat(window.location.pathname,"#/self-assessment-tax-form"),"_blank"),style:{marginRight:"1rem"},children:"Try Self-Assessment Tax Form"}),!n&&!l&&(0,Ct.jsx)("button",{className:"btn btn-secondary btn-lg",onClick:()=>i(!0),children:"Sign Up Now"}),n&&!l&&(0,Ct.jsx)("div",{className:"sign-up-form",children:(0,Ct.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0),setTimeout(()=>{o(!1),c(!0),s(""),console.log("Email submitted:",a)},1e3)},children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"email",children:"Email Address"}),(0,Ct.jsx)("input",{type:"email",id:"email",value:a,onChange:e=>s(e.target.value),placeholder:"Enter your email address",required:!0,className:"form-control"})]}),(0,Ct.jsxs)("div",{className:"form-actions",children:[(0,Ct.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:r,children:r?"Submitting...":"Submit"}),(0,Ct.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>i(!1),style:{marginLeft:"1rem"},children:"Cancel"})]})]})}),l&&(0,Ct.jsxs)("div",{className:"success-message",children:[(0,Ct.jsx)("p",{children:"Thanks for getting in contact. This functionality is not working right now. To find out more please email phil@entitledto.co.uk"}),(0,Ct.jsx)("button",{className:"btn btn-secondary",onClick:()=>{c(!1),i(!1)},children:"Sign Up Another Email"})]}),(0,Ct.jsx)("p",{className:"cta-note",children:"Get started with our self-employment accounts service today"})]})]})}),(0,Ct.jsx)(sn,{showRelatedTools:!1})]})};const cn=function(){const[t,n]=(0,e.useState)(1),[i,s]=(0,e.useState)({personalDetails:{title:"",firstName:"",lastName:"",dateOfBirth:"",nino:"",utr:"",address:{line1:"",postcode:"",country:"UK"},isScottishResident:!1,maritalStatus:"single"},selfEmploymentIncome:{businessName:"",businessDescription:"",accountingPeriodStart:"",accountingPeriodEnd:"",turnover:0,otherBusinessIncome:0,expenses:{costOfGoodsSold:0,constructionIndustrySubcontractors:0,wagesAndStaff:0,carVanAndTravel:0,rentRatesAndInsurance:0,repairsAndRenewals:0,phonesFaxStationeryAndOther:0,advertisingAndBusiness:0,interestOnBankAndOther:0,bankCharges:0,irrecoverableDebts:0,professionalFees:0,depreciation:0,other:0},capitalAllowances:{annualInvestmentAllowance:0,writingDownAllowanceMainRate:0,writingDownAllowanceSpecialRate:0,balancingCharges:0},accountingMethod:"cash",useTradingAllowance:!1}}),[r,o]=(0,e.useState)(null),[l,c]=(0,e.useState)(!1),d=(e,t,n)=>{s(i=>(0,a.A)((0,a.A)({},i),{},{[e]:(0,a.A)((0,a.A)({},i[e]),{},{[t]:n})}))},h=(e,t,n,i)=>{s(s=>(0,a.A)((0,a.A)({},s),{},{[e]:(0,a.A)((0,a.A)({},s[e]),{},{[t]:(0,a.A)((0,a.A)({},s[e][t]),{},{[n]:i})})}))};return(0,Ct.jsx)("div",{className:"self-assessment-tax-form",children:(0,Ct.jsx)("div",{className:"container",children:(0,Ct.jsxs)("div",{className:"card",children:[(0,Ct.jsx)("h1",{children:"Self-Assessment Tax Form"}),(0,Ct.jsx)("p",{className:"description",children:"Complete your self-assessment tax return for the 2024-25 tax year. This form will help you calculate your tax liability and prepare for submission to HMRC."}),(0,Ct.jsxs)("div",{className:"help-panel",children:[(0,Ct.jsx)("h4",{children:"Before you start"}),(0,Ct.jsx)("p",{children:"You'll need the following information to complete this form:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Your National Insurance number"}),(0,Ct.jsx)("li",{children:"Your Unique Taxpayer Reference (UTR)"}),(0,Ct.jsx)("li",{children:"Your business income and expenses for the tax year"}),(0,Ct.jsx)("li",{children:"Details of any capital allowances you're claiming"}),(0,Ct.jsx)("li",{children:"Your personal details including address and marital status"})]}),(0,Ct.jsx)("p",{children:"This form is for self-employed individuals only. If you have other sources of income (employment, pensions, etc.), you'll need to include those separately."})]}),(0,Ct.jsxs)("div",{className:"progress-bar",children:[(0,Ct.jsxs)("div",{className:"progress-step ".concat(t>1?"completed":1===t?"active":""),children:[(0,Ct.jsx)("span",{className:"step-number",children:"1"}),(0,Ct.jsx)("span",{className:"step-label",children:"Personal Details"})]}),(0,Ct.jsxs)("div",{className:"progress-step ".concat(t>2?"completed":2===t?"active":""),children:[(0,Ct.jsx)("span",{className:"step-number",children:"2"}),(0,Ct.jsx)("span",{className:"step-label",children:"Business Income"})]}),(0,Ct.jsxs)("div",{className:"progress-step ".concat(t>3?"completed":3===t?"active":""),children:[(0,Ct.jsx)("span",{className:"step-number",children:"3"}),(0,Ct.jsx)("span",{className:"step-label",children:"Expenses"})]}),(0,Ct.jsxs)("div",{className:"progress-step ".concat(t>4?"completed":4===t?"active":""),children:[(0,Ct.jsx)("span",{className:"step-number",children:"4"}),(0,Ct.jsx)("span",{className:"step-label",children:"Capital Allowances"})]}),(0,Ct.jsxs)("div",{className:"progress-step ".concat(5===t?"active":""),children:[(0,Ct.jsx)("span",{className:"step-number",children:"5"}),(0,Ct.jsx)("span",{className:"step-label",children:"Calculation"})]})]}),(0,Ct.jsx)("div",{className:"form-content",children:(()=>{switch(t){case 1:return(0,Ct.jsxs)("div",{className:"form-section",children:[(0,Ct.jsx)("h3",{children:"Personal Details"}),(0,Ct.jsxs)("div",{className:"form-grid",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Title"}),(0,Ct.jsx)("input",{type:"text",value:i.personalDetails.title,onChange:e=>d("personalDetails","title",e.target.value),placeholder:"Mr, Mrs, Ms, etc."})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"First Name"}),(0,Ct.jsx)("input",{type:"text",value:i.personalDetails.firstName,onChange:e=>d("personalDetails","firstName",e.target.value),required:!0})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Last Name"}),(0,Ct.jsx)("input",{type:"text",value:i.personalDetails.lastName,onChange:e=>d("personalDetails","lastName",e.target.value),required:!0})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Date of Birth"}),(0,Ct.jsx)("input",{type:"date",value:i.personalDetails.dateOfBirth,onChange:e=>d("personalDetails","dateOfBirth",e.target.value),required:!0})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"National Insurance Number"}),(0,Ct.jsx)("input",{type:"text",value:i.personalDetails.nino,onChange:e=>d("personalDetails","nino",e.target.value),placeholder:"AB123456C",required:!0}),(0,Ct.jsx)("div",{className:"help-text",children:"Your National Insurance number is 9 characters long and includes 2 letters, 6 numbers, and 1 letter (e.g., AB123456C). You can find this on your payslip, P60, or any letter from HMRC."})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"UTR (Unique Taxpayer Reference)"}),(0,Ct.jsx)("input",{type:"text",value:i.personalDetails.utr,onChange:e=>d("personalDetails","utr",e.target.value),placeholder:"1234567890",required:!0}),(0,Ct.jsx)("div",{className:"help-text",children:"Your UTR is a 10-digit number that identifies you for tax purposes. You can find this on your tax return, statement of account, or any letter from HMRC. If you don't have one, you'll need to register for self-assessment first."})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Address Line 1"}),(0,Ct.jsx)("input",{type:"text",value:i.personalDetails.address.line1,onChange:e=>h("personalDetails","address","line1",e.target.value),required:!0})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Postcode"}),(0,Ct.jsx)("input",{type:"text",value:i.personalDetails.address.postcode,onChange:e=>h("personalDetails","address","postcode",e.target.value),required:!0})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"checkbox-group",children:[(0,Ct.jsx)("input",{type:"checkbox",checked:i.personalDetails.isScottishResident,onChange:e=>d("personalDetails","isScottishResident",e.target.checked)}),(0,Ct.jsx)("label",{children:"Scottish Resident"})]}),(0,Ct.jsx)("div",{className:"help-text",children:"Check this box if you were a Scottish resident for tax purposes during the tax year. This affects your income tax rates and bands."})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Marital Status"}),(0,Ct.jsxs)("select",{value:i.personalDetails.maritalStatus,onChange:e=>d("personalDetails","maritalStatus",e.target.value),children:[(0,Ct.jsx)("option",{value:"single",children:"Single"}),(0,Ct.jsx)("option",{value:"married",children:"Married"}),(0,Ct.jsx)("option",{value:"civil_partnership",children:"Civil Partnership"}),(0,Ct.jsx)("option",{value:"divorced",children:"Divorced"}),(0,Ct.jsx)("option",{value:"widowed",children:"Widowed"})]})]})]})]});case 2:return(0,Ct.jsxs)("div",{className:"form-section",children:[(0,Ct.jsx)("h3",{children:"Self-Employment Income"}),(0,Ct.jsxs)("div",{className:"form-grid",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Business Name"}),(0,Ct.jsx)("input",{type:"text",value:i.selfEmploymentIncome.businessName,onChange:e=>d("selfEmploymentIncome","businessName",e.target.value),required:!0})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Business Description"}),(0,Ct.jsx)("textarea",{value:i.selfEmploymentIncome.businessDescription,onChange:e=>d("selfEmploymentIncome","businessDescription",e.target.value),required:!0})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Accounting Period Start"}),(0,Ct.jsx)("input",{type:"date",value:i.selfEmploymentIncome.accountingPeriodStart,onChange:e=>d("selfEmploymentIncome","accountingPeriodStart",e.target.value),required:!0}),(0,Ct.jsx)("div",{className:"help-text",children:"The date your business accounting period begins. This is usually the first day of your business year."})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Accounting Period End"}),(0,Ct.jsx)("input",{type:"date",value:i.selfEmploymentIncome.accountingPeriodEnd,onChange:e=>d("selfEmploymentIncome","accountingPeriodEnd",e.target.value),required:!0}),(0,Ct.jsx)("div",{className:"help-text",children:"The date your business accounting period ends. This is usually the last day of your business year."})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Turnover"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.turnover,onChange:e=>d("selfEmploymentIncome","turnover",parseFloat(e.target.value)||0),min:"0",step:"0.01",required:!0}),(0,Ct.jsx)("div",{className:"help-text",children:"Your total business income before deducting any expenses. This includes all money received from your business activities."})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Other Business Income"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.otherBusinessIncome,onChange:e=>d("selfEmploymentIncome","otherBusinessIncome",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Accounting Method"}),(0,Ct.jsxs)("select",{value:i.selfEmploymentIncome.accountingMethod,onChange:e=>d("selfEmploymentIncome","accountingMethod",e.target.value),children:[(0,Ct.jsx)("option",{value:"cash",children:"Cash Basis"}),(0,Ct.jsx)("option",{value:"accruals",children:"Accruals Basis"})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"checkbox-group",children:[(0,Ct.jsx)("input",{type:"checkbox",checked:i.selfEmploymentIncome.useTradingAllowance,onChange:e=>d("selfEmploymentIncome","useTradingAllowance",e.target.checked)}),(0,Ct.jsx)("label",{children:"Use Trading Allowance (\xa31,000)"})]}),(0,Ct.jsx)("div",{className:"help-text",children:"The trading allowance lets you claim up to \xa31,000 of tax-free trading income. You can choose to use this instead of claiming actual expenses, but you cannot use both."})]})]})]});case 3:return(0,Ct.jsxs)("div",{className:"form-section",children:[(0,Ct.jsx)("h3",{children:"Business Expenses"}),(0,Ct.jsxs)("div",{className:"form-grid",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Cost of Goods Sold"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.costOfGoodsSold,onChange:e=>h("selfEmploymentIncome","expenses","costOfGoodsSold",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Construction Industry Subcontractors"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.constructionIndustrySubcontractors,onChange:e=>h("selfEmploymentIncome","expenses","constructionIndustrySubcontractors",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Wages and Staff"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.wagesAndStaff,onChange:e=>h("selfEmploymentIncome","expenses","wagesAndStaff",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Car, Van and Travel"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.carVanAndTravel,onChange:e=>h("selfEmploymentIncome","expenses","carVanAndTravel",parseFloat(e.target.value)||0),min:"0",step:"0.01"}),(0,Ct.jsx)("div",{className:"help-text",children:"Include fuel, insurance, repairs, and other running costs for vehicles used for business. You can claim a proportion if the vehicle is also used for personal journeys."})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Rent, Rates and Insurance"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.rentRatesAndInsurance,onChange:e=>h("selfEmploymentIncome","expenses","rentRatesAndInsurance",parseFloat(e.target.value)||0),min:"0",step:"0.01"}),(0,Ct.jsx)("div",{className:"help-text",children:"Include rent for business premises, business rates, and insurance for your business. You can claim a proportion if you work from home."})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Repairs and Renewals"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.repairsAndRenewals,onChange:e=>h("selfEmploymentIncome","expenses","repairsAndRenewals",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Phones, Fax, Stationery and Other"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.phonesFaxStationeryAndOther,onChange:e=>h("selfEmploymentIncome","expenses","phonesFaxStationeryAndOther",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Advertising and Business"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.advertisingAndBusiness,onChange:e=>h("selfEmploymentIncome","expenses","advertisingAndBusiness",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Interest on Bank and Other"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.interestOnBankAndOther,onChange:e=>h("selfEmploymentIncome","expenses","interestOnBankAndOther",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Bank Charges"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.bankCharges,onChange:e=>h("selfEmploymentIncome","expenses","bankCharges",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Irrecoverable Debts"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.irrecoverableDebts,onChange:e=>h("selfEmploymentIncome","expenses","irrecoverableDebts",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Professional Fees"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.professionalFees,onChange:e=>h("selfEmploymentIncome","expenses","professionalFees",parseFloat(e.target.value)||0),min:"0",step:"0.01"}),(0,Ct.jsx)("div",{className:"help-text",children:"Include fees for accountants, solicitors, and other professional services used for your business. This does not include fees for preparing your tax return."})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Depreciation"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.depreciation,onChange:e=>h("selfEmploymentIncome","expenses","depreciation",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Other Expenses"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.expenses.other,onChange:e=>h("selfEmploymentIncome","expenses","other",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]})]})]});case 4:return(0,Ct.jsxs)("div",{className:"form-section",children:[(0,Ct.jsx)("h3",{children:"Capital Allowances"}),(0,Ct.jsxs)("div",{className:"form-grid",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Annual Investment Allowance"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.capitalAllowances.annualInvestmentAllowance,onChange:e=>h("selfEmploymentIncome","capitalAllowances","annualInvestmentAllowance",parseFloat(e.target.value)||0),min:"0",step:"0.01"}),(0,Ct.jsx)("div",{className:"help-text",children:"You can claim up to \xa31,000,000 of Annual Investment Allowance (AIA) on most plant and machinery (excluding cars). This gives you 100% relief in the year of purchase."})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Writing Down Allowance (Main Rate)"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.capitalAllowances.writingDownAllowanceMainRate,onChange:e=>h("selfEmploymentIncome","capitalAllowances","writingDownAllowanceMainRate",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Writing Down Allowance (Special Rate)"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.capitalAllowances.writingDownAllowanceSpecialRate,onChange:e=>h("selfEmploymentIncome","capitalAllowances","writingDownAllowanceSpecialRate",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Balancing Charges"}),(0,Ct.jsx)("input",{type:"number",value:i.selfEmploymentIncome.capitalAllowances.balancingCharges,onChange:e=>h("selfEmploymentIncome","capitalAllowances","balancingCharges",parseFloat(e.target.value)||0),min:"0",step:"0.01"})]})]})]});case 5:return(0,Ct.jsxs)("div",{className:"form-section",children:[(0,Ct.jsx)("h3",{children:"Tax Calculation Results"}),l?(0,Ct.jsx)("div",{className:"loading",children:"Calculating tax..."}):r?(0,Ct.jsxs)("div",{className:"calculation-results",children:[(0,Ct.jsxs)("div",{className:"result-grid",children:[(0,Ct.jsxs)("div",{className:"result-item",children:[(0,Ct.jsx)("label",{children:"Total Income:"}),(0,Ct.jsxs)("span",{children:["\xa3",r.totalIncome.toLocaleString()]})]}),(0,Ct.jsxs)("div",{className:"result-item",children:[(0,Ct.jsx)("label",{children:"Total Expenses:"}),(0,Ct.jsxs)("span",{children:["\xa3",r.totalExpenses.toLocaleString()]})]}),(0,Ct.jsxs)("div",{className:"result-item",children:[(0,Ct.jsx)("label",{children:"Profit:"}),(0,Ct.jsxs)("span",{children:["\xa3",r.profit.toLocaleString()]})]}),(0,Ct.jsxs)("div",{className:"result-item",children:[(0,Ct.jsx)("label",{children:"Trading Allowance:"}),(0,Ct.jsxs)("span",{children:["\xa3",r.tradingAllowance.toLocaleString()]})]}),(0,Ct.jsxs)("div",{className:"result-item",children:[(0,Ct.jsx)("label",{children:"Taxable Profit:"}),(0,Ct.jsxs)("span",{children:["\xa3",r.taxableProfit.toLocaleString()]})]}),(0,Ct.jsxs)("div",{className:"result-item",children:[(0,Ct.jsx)("label",{children:"Personal Allowance:"}),(0,Ct.jsxs)("span",{children:["\xa3",r.personalAllowance.toLocaleString()]})]}),(0,Ct.jsxs)("div",{className:"result-item",children:[(0,Ct.jsx)("label",{children:"Taxable Income:"}),(0,Ct.jsxs)("span",{children:["\xa3",r.taxableIncome.toLocaleString()]})]}),(0,Ct.jsxs)("div",{className:"result-item",children:[(0,Ct.jsx)("label",{children:"Income Tax:"}),(0,Ct.jsxs)("span",{children:["\xa3",r.incomeTax.toLocaleString()]})]}),(0,Ct.jsxs)("div",{className:"result-item",children:[(0,Ct.jsx)("label",{children:"Class 2 National Insurance:"}),(0,Ct.jsxs)("span",{children:["\xa3",r.nationalInsuranceClass2.toLocaleString()]})]}),(0,Ct.jsxs)("div",{className:"result-item",children:[(0,Ct.jsx)("label",{children:"Class 4 National Insurance:"}),(0,Ct.jsxs)("span",{children:["\xa3",r.nationalInsuranceClass4.toLocaleString()]})]}),(0,Ct.jsxs)("div",{className:"result-item total",children:[(0,Ct.jsx)("label",{children:"Total Tax Liability:"}),(0,Ct.jsxs)("span",{children:["\xa3",r.totalTaxLiability.toLocaleString()]})]})]}),(0,Ct.jsxs)("div",{className:"payments-on-account",children:[(0,Ct.jsx)("h4",{children:"Payments on Account"}),(0,Ct.jsxs)("div",{className:"result-grid",children:[(0,Ct.jsxs)("div",{className:"result-item",children:[(0,Ct.jsx)("label",{children:"First Payment (31 January):"}),(0,Ct.jsxs)("span",{children:["\xa3",r.paymentsOnAccount.firstPayment.toLocaleString()]})]}),(0,Ct.jsxs)("div",{className:"result-item",children:[(0,Ct.jsx)("label",{children:"Second Payment (31 July):"}),(0,Ct.jsxs)("span",{children:["\xa3",r.paymentsOnAccount.secondPayment.toLocaleString()]})]})]})]})]}):null]});default:return null}})()}),(0,Ct.jsxs)("div",{className:"form-actions",children:[t>1&&(0,Ct.jsx)("button",{type:"button",onClick:()=>{t>1&&n(t-1)},className:"btn btn-secondary",children:"Previous"}),t<5?(0,Ct.jsx)("button",{type:"button",onClick:()=>{t<5&&n(t+1)},className:"btn btn-primary",children:"Next"}):(0,Ct.jsx)("button",{type:"button",onClick:()=>{c(!0),setTimeout(()=>{const{selfEmploymentIncome:e}=i,t=Object.values(e.expenses).reduce((e,t)=>e+t,0),n=e.turnover+e.otherBusinessIncome-t,a=e.useTradingAllowance?Math.min(1e3,n):0,s=Math.max(0,n-a),r=Math.max(0,s-12570);let l=0;r>0&&(l=r<=37700?.2*r:7540+.4*(r-37700));let d=0,h=0;if(s>=12570&&(d=179.4),s>12570){const e=s-12570;h=e<=37700?.09*e:3393+.02*(e-37700)}const u=l+d+h;o({totalIncome:e.turnover+e.otherBusinessIncome,totalExpenses:t,profit:n,tradingAllowance:a,taxableProfit:s,personalAllowance:12570,taxableIncome:r,incomeTax:l,nationalInsuranceClass2:d,nationalInsuranceClass4:h,totalTaxLiability:u,paymentsOnAccount:{firstPayment:u>1e3?u/2:0,secondPayment:u>1e3?u/2:0,finalPayment:0}}),c(!1)},1e3)},className:"btn btn-primary",disabled:l,children:l?"Calculating...":"Calculate Tax"})]})]})})})},dn=(Math.pow(10,8),6048e5),hn=Symbol.for("constructDateFrom");function un(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&hn in e?e[hn](t):e instanceof Date?new e.constructor(t):new Date(t)}function pn(e,t){return un(t||e,e)}function mn(e,t,n){const i=+pn(e,null===n||void 0===n?void 0:n.in),[a,s]=[+pn(t.start,null===n||void 0===n?void 0:n.in),+pn(t.end,null===n||void 0===n?void 0:n.in)].sort((e,t)=>e-t);return i>=a&&i<=s}const fn={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function gn(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const vn={date:gn({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:gn({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:gn({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},bn={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function yn(e){return(t,n)=>{let i;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):t;i=e.formattingValues[a]||e.formattingValues[t]}else{const t=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[t]}return i[e.argumentCallback?e.argumentCallback(t):t]}}function xn(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=n.width,a=i&&e.matchPatterns[i]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const r=s[0],o=i&&e.parsePatterns[i]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(r)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(r));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(r.length)}}}var wn;const Nn={code:"en-US",formatDistance:(e,t,n)=>{let i;const a=fn[e];return i="string"===typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+i:i+" ago":i},formatLong:vn,formatRelative:(e,t,n,i)=>bn[e],localize:{ordinalNumber:(e,t)=>{const n=Number(e),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:yn({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:yn({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:yn({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:yn({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:yn({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(wn={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(wn.matchPattern);if(!n)return null;const i=n[0],a=e.match(wn.parsePattern);if(!a)return null;let s=wn.valueCallback?wn.valueCallback(a[0]):a[0];return s=t.valueCallback?t.valueCallback(s):s,{value:s,rest:e.slice(i.length)}}),era:xn({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:xn({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:xn({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:xn({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:xn({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let An={};function kn(){return An}function jn(e){const t=pn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const a=un.bind(null,e||n.find(e=>"object"===typeof e));return n.map(a)}function _n(e,t){const n=pn(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function Sn(e,t,n){const[i,a]=Cn(null===n||void 0===n?void 0:n.in,e,t),s=_n(i),r=_n(a),o=+s-jn(s),l=+r-jn(r);return Math.round((o-l)/864e5)}function En(e,t){const n=pn(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Mn(e,t){const n=pn(e,null===t||void 0===t?void 0:t.in);return Sn(n,En(n))+1}function Pn(e,t){var n,i,a,s,r,o;const l=kn(),c=null!==(n=null!==(i=null!==(a=null!==(s=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==s?s:null===t||void 0===t||null===(r=t.locale)||void 0===r||null===(r=r.options)||void 0===r?void 0:r.weekStartsOn)&&void 0!==a?a:l.weekStartsOn)&&void 0!==i?i:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==n?n:0,d=pn(e,null===t||void 0===t?void 0:t.in),h=d.getDay(),u=(h<c?7:0)+h-c;return d.setDate(d.getDate()-u),d.setHours(0,0,0,0),d}function Ln(e,t){return Pn(e,(0,a.A)((0,a.A)({},t),{},{weekStartsOn:1}))}function Tn(e,t){const n=pn(e,null===t||void 0===t?void 0:t.in),i=n.getFullYear(),a=un(n,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const s=Ln(a),r=un(n,0);r.setFullYear(i,0,4),r.setHours(0,0,0,0);const o=Ln(r);return n.getTime()>=s.getTime()?i+1:n.getTime()>=o.getTime()?i:i-1}function In(e,t){const n=Tn(e,t),i=un((null===t||void 0===t?void 0:t.in)||e,0);return i.setFullYear(n,0,4),i.setHours(0,0,0,0),Ln(i)}function Fn(e,t){const n=pn(e,null===t||void 0===t?void 0:t.in),i=+Ln(n)-+In(n);return Math.round(i/dn)+1}function Rn(e,t){var n,i,a,s,r,o;const l=pn(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),d=kn(),h=null!==(n=null!==(i=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(r=t.locale)||void 0===r||null===(r=r.options)||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==a?a:d.firstWeekContainsDate)&&void 0!==i?i:null===(o=d.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,u=un((null===t||void 0===t?void 0:t.in)||e,0);u.setFullYear(c+1,0,h),u.setHours(0,0,0,0);const p=Pn(u,t),m=un((null===t||void 0===t?void 0:t.in)||e,0);m.setFullYear(c,0,h),m.setHours(0,0,0,0);const f=Pn(m,t);return+l>=+p?c+1:+l>=+f?c:c-1}function Dn(e,t){var n,i,a,s,r,o;const l=kn(),c=null!==(n=null!==(i=null!==(a=null!==(s=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==s?s:null===t||void 0===t||null===(r=t.locale)||void 0===r||null===(r=r.options)||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==a?a:l.firstWeekContainsDate)&&void 0!==i?i:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,d=Rn(e,t),h=un((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(d,0,c),h.setHours(0,0,0,0);return Pn(h,t)}function Bn(e,t){const n=pn(e,null===t||void 0===t?void 0:t.in),i=+Pn(n,t)-+Dn(n,t);return Math.round(i/dn)+1}function On(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const Wn={y(e,t){const n=e.getFullYear(),i=n>0?n:1-n;return On("yy"===t?i%100:i,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):On(n+1,2)},d:(e,t)=>On(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>On(e.getHours()%12||12,t.length),H:(e,t)=>On(e.getHours(),t.length),m:(e,t)=>On(e.getMinutes(),t.length),s:(e,t)=>On(e.getSeconds(),t.length),S(e,t){const n=t.length,i=e.getMilliseconds();return On(Math.trunc(i*Math.pow(10,n-3)),t.length)}},Hn="midnight",zn="noon",Un="morning",qn="afternoon",Gn="evening",Vn="night",Yn={G:function(e,t,n){const i=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});default:return n.era(i,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),i=t>0?t:1-t;return n.ordinalNumber(i,{unit:"year"})}return Wn.y(e,t)},Y:function(e,t,n,i){const a=Rn(e,i),s=a>0?a:1-a;if("YY"===t){return On(s%100,2)}return"Yo"===t?n.ordinalNumber(s,{unit:"year"}):On(s,t.length)},R:function(e,t){return On(Tn(e),t.length)},u:function(e,t){return On(e.getFullYear(),t.length)},Q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return On(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n){const i=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return On(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n){const i=e.getMonth();switch(t){case"M":case"MM":return Wn.M(e,t);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n){const i=e.getMonth();switch(t){case"L":return String(i+1);case"LL":return On(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,i){const a=Bn(e,i);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):On(a,t.length)},I:function(e,t,n){const i=Fn(e);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):On(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):Wn.d(e,t)},D:function(e,t,n){const i=Mn(e);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):On(i,t.length)},E:function(e,t,n){const i=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,i){const a=e.getDay(),s=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return On(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,i){const a=e.getDay(),s=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return On(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const i=e.getDay(),a=0===i?7:i;switch(t){case"i":return String(a);case"ii":return On(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const i=e.getHours();let a;switch(a=12===i?zn:0===i?Hn:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const i=e.getHours();let a;switch(a=i>=17?Gn:i>=12?qn:i>=4?Un:Vn,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return Wn.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):Wn.H(e,t)},K:function(e,t,n){const i=e.getHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):On(i,t.length)},k:function(e,t,n){let i=e.getHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):On(i,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Wn.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Wn.s(e,t)},S:function(e,t){return Wn.S(e,t)},X:function(e,t,n){const i=e.getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return Xn(i);case"XXXX":case"XX":return Jn(i);default:return Jn(i,":")}},x:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"x":return Xn(i);case"xxxx":case"xx":return Jn(i);default:return Jn(i,":")}},O:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Kn(i,":");default:return"GMT"+Jn(i,":")}},z:function(e,t,n){const i=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Kn(i,":");default:return"GMT"+Jn(i,":")}},t:function(e,t,n){return On(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return On(+e,t.length)}};function Kn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",i=Math.abs(e),a=Math.trunc(i/60),s=i%60;return 0===s?n+String(a):n+String(a)+t+On(s,2)}function Xn(e,t){if(e%60===0){return(e>0?"-":"+")+On(Math.abs(e)/60,2)}return Jn(e,t)}function Jn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",i=Math.abs(e);return n+On(Math.trunc(i/60),2)+t+On(i%60,2)}const Qn=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Zn=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},$n={p:Zn,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],i=n[1],a=n[2];if(!a)return Qn(e,t);let s;switch(i){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"})}return s.replace("{{date}}",Qn(i,t)).replace("{{time}}",Zn(a,t))}},ei=/^D+$/,ti=/^Y+$/,ni=["D","DD","YY","YYYY"];function ii(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function ai(e){return!(!ii(e)&&"number"!==typeof e||isNaN(+pn(e)))}const si=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ri=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oi=/^'([^]*?)'?$/,li=/''/g,ci=/[a-zA-Z]/;function di(e,t,n){var i,a,s,r,o,l,c,d,h,u,p,m,f,g;const v=kn(),b=null!==(i=null!==(a=null===n||void 0===n?void 0:n.locale)&&void 0!==a?a:v.locale)&&void 0!==i?i:Nn,y=null!==(s=null!==(r=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:v.firstWeekContainsDate)&&void 0!==r?r:null===(d=v.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==s?s:1,x=null!==(h=null!==(u=null!==(p=null!==(m=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==m?m:null===n||void 0===n||null===(f=n.locale)||void 0===f||null===(f=f.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==p?p:v.weekStartsOn)&&void 0!==u?u:null===(g=v.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==h?h:0,w=pn(e,null===n||void 0===n?void 0:n.in);if(!ai(w))throw new RangeError("Invalid time value");let N=t.match(ri).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,$n[t])(e,b.formatLong)}return e}).join("").match(si).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:hi(e)};if(Yn[t])return{isToken:!0,value:e};if(t.match(ci))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});b.localize.preprocessor&&(N=b.localize.preprocessor(w,N));const A={firstWeekContainsDate:y,weekStartsOn:x,locale:b};return N.map(i=>{if(!i.isToken)return i.value;const a=i.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return ti.test(e)}(a))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return ei.test(e)}(a))||function(e,t,n){const i=function(e,t,n){const i="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(i," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(i),ni.includes(e))throw new RangeError(i)}(a,t,String(e));return(0,Yn[a[0]])(w,a,b.localize,A)}).join("")}function hi(e){const t=e.match(oi);return t?t[1].replace(li,"'"):e}function ui(e,t,n){const[i,a]=Cn(null===n||void 0===n?void 0:n.in,e,t);return+_n(i)===+_n(a)}const pi=function(t){let{assessmentPeriodStart:n,onPeriodSelect:i,selectedPeriod:a}=t;const[s,r]=(0,e.useState)(null),[o,l]=(0,e.useState)(0),c=(0,e.useCallback)(()=>{if(!n)return;const e=new Date(n),t=new Date;let i=new Date(e),a=new Date(e);a.setDate(e.getDate()-1),a.setMonth(e.getMonth()+1);for(let n=0;n<o;n++)i.setMonth(i.getMonth()+1),a.setMonth(a.getMonth()+1);r({id:o,start:new Date(i),end:new Date(a),month:i.toLocaleDateString("en-GB",{month:"long",year:"numeric"}),isCurrent:mn(t,{start:i,end:a}),isPast:a<t,isFuture:i>t})},[n,o]);(0,e.useEffect)(()=>{n&&c()},[n,o,c]);const d=()=>{s&&i(s)},h=e=>di(e,"dd/MM/yyyy"),u=(e,t)=>{const n=new Date(e,t,1),i=new Date(n);i.setDate(i.getDate()-n.getDay()+1);const a=[],s=new Date(i);for(let r=0;r<35;r++)a.push(new Date(s)),s.setDate(s.getDate()+1);return a},p=e=>{if(!s)return"calendar-day";const t=["calendar-day"],n=s.start.getMonth();return e.getMonth()!==n&&e.getMonth()!==(n+1)%12&&t.push("other-month"),mn(e,{start:s.start,end:s.end})&&t.push("assessment-period"),ui(e,s.start)&&t.push("period-start"),ui(e,s.end)&&t.push("period-end"),ui(e,new Date)&&t.push("today"),t.join(" ")},m=e=>e.toLocaleDateString("en-GB",{month:"long",year:"numeric"});if(!s)return null;const f=u(s.start.getFullYear(),s.start.getMonth()),g=u(s.end.getFullYear(),s.end.getMonth());return(0,Ct.jsxs)("div",{className:"assessment-period-calendar",children:[(0,Ct.jsxs)("div",{className:"calendar-header",children:[(0,Ct.jsx)("h2",{children:"Universal Credit assessment period"}),(0,Ct.jsxs)("div",{className:"calendar-navigation",children:[(0,Ct.jsx)("button",{className:"nav-btn prev-btn",onClick:()=>{l(e=>Math.max(0,e-1))},disabled:0===o,children:"\u2190 Previous period"}),(0,Ct.jsx)("button",{className:"nav-btn next-btn",onClick:()=>{l(e=>e+1)},children:"Next period \u2192"})]}),(0,Ct.jsxs)("div",{className:"current-period",children:[h(s.start)," - ",h(s.end)]}),(0,Ct.jsx)("div",{className:"progress-indicator",children:[...Array(12)].map((e,t)=>(0,Ct.jsx)("div",{className:"progress-segment ".concat(t===o?"current":t<o?"completed":"")},t))})]}),(0,Ct.jsxs)("div",{className:"two-month-calendar",children:[(0,Ct.jsxs)("div",{className:"month-calendar",children:[(0,Ct.jsx)("h3",{children:m(s.start)}),(0,Ct.jsxs)("div",{className:"calendar-grid",children:[(0,Ct.jsx)("div",{className:"day-header",children:"MON"}),(0,Ct.jsx)("div",{className:"day-header",children:"TUE"}),(0,Ct.jsx)("div",{className:"day-header",children:"WED"}),(0,Ct.jsx)("div",{className:"day-header",children:"THU"}),(0,Ct.jsx)("div",{className:"day-header",children:"FRI"}),(0,Ct.jsx)("div",{className:"day-header",children:"SAT"}),(0,Ct.jsx)("div",{className:"day-header",children:"SUN"}),f.map((e,t)=>(0,Ct.jsx)("div",{className:p(e),onClick:()=>d(),children:e.getDate()},t))]})]}),(0,Ct.jsxs)("div",{className:"month-calendar",children:[(0,Ct.jsx)("h3",{children:m(s.end)}),(0,Ct.jsxs)("div",{className:"calendar-grid",children:[(0,Ct.jsx)("div",{className:"day-header",children:"MON"}),(0,Ct.jsx)("div",{className:"day-header",children:"TUE"}),(0,Ct.jsx)("div",{className:"day-header",children:"WED"}),(0,Ct.jsx)("div",{className:"day-header",children:"THU"}),(0,Ct.jsx)("div",{className:"day-header",children:"FRI"}),(0,Ct.jsx)("div",{className:"day-header",children:"SAT"}),(0,Ct.jsx)("div",{className:"day-header",children:"SUN"}),g.map((e,t)=>(0,Ct.jsx)("div",{className:p(e),onClick:()=>d(),children:e.getDate()},t))]})]})]})]})};const mi=function(t){let{period:n,onClose:i,exampleData:s}=t;const r=ce(),[o,l]=(0,e.useState)({income:{bankReceipts:0,cashReceipts:0,onlineSales:0,commission:0,otherIncome:0},expenses:{materials:0,travel:0,office:0,marketing:0,insurance:0,utilities:0,rent:0,phone:0,internet:0,vehicle:0,meals:0,training:0,professionalFees:0,bankCharges:0,other:0},taxAndPensions:{incomeTax:0,nationalInsurance:0,pensionContributions:0},homeAndCar:{businessMiles:0,homeWorkingHours:0},adjustments:{lossCarriedOver:0,surplusEarningsCarriedOver:0}}),[c,d]=(0,e.useState)(0),[h,u]=(0,e.useState)(!1);(0,e.useEffect)(()=>{if(s&&n){const e=["January","February","March","April","May","June","July","August","September","October","November","December"][n.start.getMonth()],t=s.months.find(t=>t.month===e);if(t){let n={bankReceipts:0,cashReceipts:0,onlineSales:0,commission:0,otherIncome:0},i={materials:0,travel:0,office:0,marketing:0,insurance:0,utilities:0,rent:0,phone:0,internet:0,vehicle:0,meals:0,training:0,professionalFees:0,bankCharges:0,other:0};s.title.includes("Actor")?(n.bankReceipts=.8*t.income,n.cashReceipts=.2*t.income):s.title.includes("Market Trader")?(n.cashReceipts=.7*t.income,n.bankReceipts=.3*t.income):s.title.includes("Taxi Driver")&&(n.cashReceipts=.6*t.income,n.bankReceipts=.4*t.income),s.title.includes("Actor")?(i.travel=.4*t.expenses,i.marketing=.2*t.expenses,i.training=.2*t.expenses,i.other=.2*t.expenses):s.title.includes("Market Trader")?(i.materials=.5*t.expenses,i.travel=.2*t.expenses,i.vehicle=.2*t.expenses,i.other=.1*t.expenses):s.title.includes("Taxi Driver")&&(i.vehicle=.6*t.expenses,i.travel=.2*t.expenses,i.phone=.1*t.expenses,i.other=.1*t.expenses),l({income:n,expenses:i,taxAndPensions:{incomeTax:Math.round(.15*t.income),nationalInsurance:Math.round(.09*t.income),pensionContributions:Math.round(.03*t.income)},homeAndCar:{businessMiles:s.title.includes("Taxi Driver")?2e3:s.title.includes("Market Trader")?500:100,homeWorkingHours:s.title.includes("Actor")?40:0},adjustments:{lossCarriedOver:0,surplusEarningsCarriedOver:0}}),u(!0);const a=s.months.findIndex(t=>t.month===e);d(a>=0?a:0)}}},[s,n]);const p=e=>{let t={bankReceipts:0,cashReceipts:0,onlineSales:0,commission:0,otherIncome:0},n={materials:0,travel:0,office:0,marketing:0,insurance:0,utilities:0,rent:0,phone:0,internet:0,vehicle:0,meals:0,training:0,professionalFees:0,bankCharges:0,other:0};s.title.includes("Actor")?(t.bankReceipts=.8*e.income,t.cashReceipts=.2*e.income):s.title.includes("Market Trader")?(t.cashReceipts=.7*e.income,t.bankReceipts=.3*e.income):s.title.includes("Taxi Driver")&&(t.cashReceipts=.6*e.income,t.bankReceipts=.4*e.income),s.title.includes("Actor")?(n.travel=.4*e.expenses,n.marketing=.2*e.expenses,n.training=.2*e.expenses,n.other=.2*e.expenses):s.title.includes("Market Trader")?(n.materials=.5*e.expenses,n.travel=.2*e.expenses,n.vehicle=.2*e.expenses,n.other=.1*e.expenses):s.title.includes("Taxi Driver")&&(n.vehicle=.6*e.expenses,n.travel=.2*e.expenses,n.phone=.1*e.expenses,n.other=.1*e.expenses),l({income:t,expenses:n,taxAndPensions:{incomeTax:Math.round(.15*e.income),nationalInsurance:Math.round(.09*e.income),pensionContributions:Math.round(.03*e.income)},homeAndCar:{businessMiles:s.title.includes("Taxi Driver")?2e3:s.title.includes("Market Trader")?500:100,homeWorkingHours:s.title.includes("Actor")?40:0},adjustments:{lossCarriedOver:0,surplusEarningsCarriedOver:0}})},m=(e,t,n)=>{l(i=>(0,a.A)((0,a.A)({},i),{},{[e]:(0,a.A)((0,a.A)({},i[e]),{},{[t]:parseFloat(n)||0})}))},f=()=>Object.values(o.income).reduce((e,t)=>e+t,0),g=()=>Object.values(o.expenses).reduce((e,t)=>e+t,0),v=()=>Object.values(o.taxAndPensions).reduce((e,t)=>e+t,0),b=()=>(o.homeAndCar.businessMiles<=833?.45*o.homeAndCar.businessMiles:374.85+.25*(o.homeAndCar.businessMiles-833))+(o.homeAndCar.homeWorkingHours>=25?.26*o.homeAndCar.homeWorkingHours:0),y=()=>f()-g()-v()+b()+(o.adjustments.lossCarriedOver-o.adjustments.surplusEarningsCarriedOver),x=e=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(e);return(0,Ct.jsxs)("div",{className:"monthly-reporting-form",children:[(0,Ct.jsxs)("div",{className:"form-header",children:[(0,Ct.jsx)("h2",{children:"Monthly Reporting Form"}),(0,Ct.jsxs)("p",{children:["Assessment Period: ",n.month]}),(0,Ct.jsxs)("p",{children:["Period: ",n.start.toLocaleDateString("en-GB")," - ",n.end.toLocaleDateString("en-GB")]}),h&&s&&(0,Ct.jsxs)("div",{className:"step-by-step-navigation",children:[(0,Ct.jsxs)("div",{className:"step-info",children:[(0,Ct.jsxs)("h3",{children:["Step ",c+1," of ",s.months.length]}),(0,Ct.jsx)("p",{className:"step-description",children:s.months[c].notes}),(0,Ct.jsxs)("div",{className:"step-period",children:[(0,Ct.jsx)("strong",{children:"Assessment Period:"})," ",s.months[c].periodStart," - ",s.months[c].periodEnd]})]}),(0,Ct.jsxs)("div",{className:"step-navigation",children:[(0,Ct.jsx)("button",{type:"button",className:"btn btn-outline",onClick:()=>{if(c>0){d(c-1);const e=s.months[c-1];p(e)}},disabled:0===c,children:"\u2190 Previous Month"}),(0,Ct.jsxs)("span",{className:"step-counter",children:[c+1," / ",s.months.length]}),(0,Ct.jsx)("button",{type:"button",className:"btn btn-outline",onClick:()=>{if(c<s.months.length-1){d(c+1);const e=s.months[c+1];p(e)}},disabled:c===s.months.length-1,children:"Next Month \u2192"})]})]}),(0,Ct.jsx)("button",{className:"btn btn-secondary",onClick:i,children:"Close"})]}),(0,Ct.jsxs)("form",{onSubmit:e=>{e.preventDefault(),console.log("Monthly report submitted:",{period:n,data:o,summary:{totalIncome:f(),totalExpenses:g(),netProfit:y()}}),alert("Monthly report saved successfully!")},children:[(0,Ct.jsxs)("div",{className:"form-section income-section",children:[(0,Ct.jsxs)("div",{className:"section-header",children:[(0,Ct.jsx)("div",{className:"section-indicator"}),(0,Ct.jsx)("h3",{children:"Money in - Business income"})]}),(0,Ct.jsxs)("div",{className:"action-buttons",children:[(0,Ct.jsx)("button",{type:"button",className:"action-btn import-btn",children:"Import data"}),(0,Ct.jsx)("button",{type:"button",className:"action-btn add-invoice-btn",onClick:()=>{const e={start:n.start.toISOString().split("T")[0],end:n.end.toISOString().split("T")[0],month:n.month};localStorage.setItem("currentAssessmentPeriod",JSON.stringify(e)),r("/self-employment-accounts/invoices-receipts")},children:"Add invoice"})]}),(0,Ct.jsxs)("div",{className:"income-inputs",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"bankReceipts",className:"form-control",min:"0",step:"0.01",value:o.income.bankReceipts||"",onChange:e=>m("income","bankReceipts",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"bankReceipts",className:"input-label",children:"Bank receipts"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"cashReceipts",className:"form-control",min:"0",step:"0.01",value:o.income.cashReceipts||"",onChange:e=>m("income","cashReceipts",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"cashReceipts",className:"input-label",children:"Cash receipts"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"onlineSales",className:"form-control",min:"0",step:"0.01",value:o.income.onlineSales||"",onChange:e=>m("income","onlineSales",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"onlineSales",className:"input-label",children:"Online sales"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"commission",className:"form-control",min:"0",step:"0.01",value:o.income.commission||"",onChange:e=>m("income","commission",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"commission",className:"input-label",children:"Commission"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"otherIncome",className:"form-control",min:"0",step:"0.01",value:o.income.otherIncome||"",onChange:e=>m("income","otherIncome",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"otherIncome",className:"input-label",children:"Other income"})]})]})]}),(0,Ct.jsxs)("div",{className:"form-section expenses-section",children:[(0,Ct.jsxs)("div",{className:"section-header",children:[(0,Ct.jsx)("div",{className:"section-indicator"}),(0,Ct.jsx)("h3",{children:"Money out - Business expenses"})]}),(0,Ct.jsxs)("div",{className:"action-buttons",children:[(0,Ct.jsx)("button",{type:"button",className:"action-btn import-btn",children:"Import data"}),(0,Ct.jsx)("button",{type:"button",className:"action-btn add-receipt-btn",onClick:()=>{const e={start:n.start.toISOString().split("T")[0],end:n.end.toISOString().split("T")[0],month:n.month};localStorage.setItem("currentAssessmentPeriod",JSON.stringify(e)),localStorage.setItem("openExpensesTab","true"),r("/self-employment-accounts/invoices-receipts")},children:"Add receipt"})]}),(0,Ct.jsxs)("div",{className:"expenses-inputs",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"materials",className:"form-control",min:"0",step:"0.01",value:o.expenses.materials||"",onChange:e=>m("expenses","materials",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"materials",className:"input-label",children:"Materials & Supplies"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"travel",className:"form-control",min:"0",step:"0.01",value:o.expenses.travel||"",onChange:e=>m("expenses","travel",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"travel",className:"input-label",children:"Travel & Mileage"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"office",className:"form-control",min:"0",step:"0.01",value:o.expenses.office||"",onChange:e=>m("expenses","office",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"office",className:"input-label",children:"Office & Equipment"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"marketing",className:"form-control",min:"0",step:"0.01",value:o.expenses.marketing||"",onChange:e=>m("expenses","marketing",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"marketing",className:"input-label",children:"Marketing & Advertising"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"insurance",className:"form-control",min:"0",step:"0.01",value:o.expenses.insurance||"",onChange:e=>m("expenses","insurance",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"insurance",className:"input-label",children:"Insurance"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"utilities",className:"form-control",min:"0",step:"0.01",value:o.expenses.utilities||"",onChange:e=>m("expenses","utilities",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"utilities",className:"input-label",children:"Utilities"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"rent",className:"form-control",min:"0",step:"0.01",value:o.expenses.rent||"",onChange:e=>m("expenses","rent",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"rent",className:"input-label",children:"Rent"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"phone",className:"form-control",min:"0",step:"0.01",value:o.expenses.phone||"",onChange:e=>m("expenses","phone",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"phone",className:"input-label",children:"Phone"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"internet",className:"form-control",min:"0",step:"0.01",value:o.expenses.internet||"",onChange:e=>m("expenses","internet",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"internet",className:"input-label",children:"Internet"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"vehicle",className:"form-control",min:"0",step:"0.01",value:o.expenses.vehicle||"",onChange:e=>m("expenses","vehicle",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"vehicle",className:"input-label",children:"Vehicle costs"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"meals",className:"form-control",min:"0",step:"0.01",value:o.expenses.meals||"",onChange:e=>m("expenses","meals",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"meals",className:"input-label",children:"Meals & subsistence"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"training",className:"form-control",min:"0",step:"0.01",value:o.expenses.training||"",onChange:e=>m("expenses","training",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"training",className:"input-label",children:"Training & courses"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"professionalFees",className:"form-control",min:"0",step:"0.01",value:o.expenses.professionalFees||"",onChange:e=>m("expenses","professionalFees",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"professionalFees",className:"input-label",children:"Professional fees"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"bankCharges",className:"form-control",min:"0",step:"0.01",value:o.expenses.bankCharges||"",onChange:e=>m("expenses","bankCharges",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"bankCharges",className:"input-label",children:"Bank charges"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"other",className:"form-control",min:"0",step:"0.01",value:o.expenses.other||"",onChange:e=>m("expenses","other",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"other",className:"input-label",children:"Other expenses"})]})]})]}),(0,Ct.jsxs)("div",{className:"form-section tax-section",children:[(0,Ct.jsxs)("div",{className:"section-header",children:[(0,Ct.jsx)("div",{className:"section-indicator"}),(0,Ct.jsx)("h3",{children:"Money out \u2013 tax, NICs and pensions"})]}),(0,Ct.jsxs)("div",{className:"tax-inputs",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"incomeTax",className:"form-control",min:"0",step:"0.01",value:o.taxAndPensions.incomeTax||"",onChange:e=>m("taxAndPensions","incomeTax",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"incomeTax",className:"input-label",children:"Income tax"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"nationalInsurance",className:"form-control",min:"0",step:"0.01",value:o.taxAndPensions.nationalInsurance||"",onChange:e=>m("taxAndPensions","nationalInsurance",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"nationalInsurance",className:"input-label",children:"National Insurance Contributions"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"pensionContributions",className:"form-control",min:"0",step:"0.01",value:o.taxAndPensions.pensionContributions||"",onChange:e=>m("taxAndPensions","pensionContributions",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"pensionContributions",className:"input-label",children:"Pension Contributions"})]})]})]}),(0,Ct.jsxs)("div",{className:"form-section home-car-section",children:[(0,Ct.jsxs)("div",{className:"section-header",children:[(0,Ct.jsx)("div",{className:"section-indicator"}),(0,Ct.jsx)("h3",{children:"Home and car"})]}),(0,Ct.jsxs)("div",{className:"home-car-inputs",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-suffix",children:[(0,Ct.jsx)("input",{type:"number",id:"businessMiles",className:"form-control",min:"0",step:"1",value:o.homeAndCar.businessMiles||"",onChange:e=>m("homeAndCar","businessMiles",e.target.value)}),(0,Ct.jsx)("span",{className:"suffix",children:"miles"})]}),(0,Ct.jsx)("label",{htmlFor:"businessMiles",className:"input-label",children:"Number of miles this assessment period"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-suffix",children:[(0,Ct.jsx)("input",{type:"number",id:"homeWorkingHours",className:"form-control",min:"0",step:"1",value:o.homeAndCar.homeWorkingHours||"",onChange:e=>m("homeAndCar","homeWorkingHours",e.target.value)}),(0,Ct.jsx)("span",{className:"suffix",children:"hours"})]}),(0,Ct.jsx)("label",{htmlFor:"homeWorkingHours",className:"input-label",children:"Number of hours spent working at home this assessment period"})]})]})]}),(0,Ct.jsxs)("div",{className:"form-section adjustments-section",children:[(0,Ct.jsxs)("div",{className:"section-header",children:[(0,Ct.jsx)("div",{className:"section-indicator"}),(0,Ct.jsx)("h3",{children:"Adjustments from last period"})]}),(0,Ct.jsxs)("div",{className:"adjustments-inputs",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"lossCarriedOver",className:"form-control",min:"0",step:"0.01",value:o.adjustments.lossCarriedOver||"",onChange:e=>m("adjustments","lossCarriedOver",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"lossCarriedOver",className:"input-label",children:"Loss carried over from last assessment period"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsxs)("div",{className:"input-with-prefix",children:[(0,Ct.jsx)("span",{className:"prefix",children:"\xa3"}),(0,Ct.jsx)("input",{type:"number",id:"surplusEarningsCarriedOver",className:"form-control",min:"0",step:"0.01",value:o.adjustments.surplusEarningsCarriedOver||"",onChange:e=>m("adjustments","surplusEarningsCarriedOver",e.target.value)})]}),(0,Ct.jsx)("label",{htmlFor:"surplusEarningsCarriedOver",className:"input-label",children:"Surplus earnings carried over from last assessment period"})]})]})]}),(0,Ct.jsxs)("div",{className:"summary-section",children:[(0,Ct.jsx)("h3",{children:"Summary"}),(0,Ct.jsxs)("div",{className:"summary-grid",children:[(0,Ct.jsxs)("div",{className:"summary-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Money in - Business income:"}),(0,Ct.jsx)("span",{className:"value income",children:x(f())})]}),(0,Ct.jsxs)("div",{className:"summary-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Money out \u2013 Business expenses:"}),(0,Ct.jsx)("span",{className:"value expense",children:x(g())})]}),(0,Ct.jsxs)("div",{className:"summary-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Money out \u2013 tax, NICs and pensions:"}),(0,Ct.jsx)("span",{className:"value expense",children:x(v())})]}),(0,Ct.jsxs)("div",{className:"summary-item",children:[(0,Ct.jsx)("span",{className:"label",children:"Home and car deduction:"}),(0,Ct.jsx)("span",{className:"value income",children:x(b())})]}),(0,Ct.jsxs)("div",{className:"summary-item total",children:[(0,Ct.jsx)("span",{className:"label",children:"Net loss this assessment period:"}),(0,Ct.jsx)("span",{className:"value ".concat(y()>=0?"profit":"loss"),children:x(y())})]})]})]}),(0,Ct.jsxs)("div",{className:"form-actions",children:[(0,Ct.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Monthly Report"}),(0,Ct.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:i,children:"Cancel"})]})]})]})};const fi=function(){const{getTextValue:t}=Mt(),[n,i]=(0,e.useState)(""),[a]=(0,e.useState)((new Date).toISOString().split("T")[0]),[s,r]=(0,e.useState)(null),[o,l]=(0,e.useState)(!1),[c,d]=(0,e.useState)(!1),[h,u]=(0,e.useState)(null),p={actor:{title:"Actor with Intermittent Work",description:"Shows how income varies dramatically between months with work and months without",assessmentPeriodStart:"2024-01-15",months:[{month:"January",income:0,expenses:150,notes:"No acting work this month, only basic expenses",periodStart:"2024-01-15",periodEnd:"2024-02-14"},{month:"February",income:2500,expenses:800,notes:"Small theatre role for 2 weeks",periodStart:"2024-02-15",periodEnd:"2024-03-14"},{month:"March",income:0,expenses:150,notes:"Between jobs, minimal expenses",periodStart:"2024-03-15",periodEnd:"2024-04-14"},{month:"April",income:4500,expenses:1200,notes:"TV commercial and voiceover work",periodStart:"2024-04-15",periodEnd:"2024-05-14"}]},marketTrader:{title:"Market Trader",description:"Shows seasonal variation with increased earnings before Christmas",assessmentPeriodStart:"2024-10-03",months:[{month:"October",income:1800,expenses:600,notes:"Regular market trading, steady income",periodStart:"2024-10-03",periodEnd:"2024-11-02"},{month:"November",income:2200,expenses:700,notes:"Starting to see Christmas demand increase",periodStart:"2024-11-03",periodEnd:"2024-12-02"},{month:"December",income:3800,expenses:900,notes:"Peak Christmas trading period",periodStart:"2024-12-03",periodEnd:"2025-01-02"},{month:"January",income:1200,expenses:500,notes:"Post-Christmas slump, reduced trading",periodStart:"2025-01-03",periodEnd:"2025-02-02"}]},taxiDriver:{title:"Taxi Driver",description:"Shows consistent but variable income with regular expenses",assessmentPeriodStart:"2024-01-22",months:[{month:"January",income:2800,expenses:1200,notes:"Regular fares, fuel and maintenance costs",periodStart:"2024-01-22",periodEnd:"2024-02-21"},{month:"February",income:2600,expenses:1100,notes:"Slightly quieter month, reduced fuel costs",periodStart:"2024-02-22",periodEnd:"2024-03-21"},{month:"March",income:3e3,expenses:1250,notes:"Busy month with events and good weather",periodStart:"2024-03-22",periodEnd:"2024-04-21"},{month:"April",income:2750,expenses:1200,notes:"Steady month, regular maintenance due",periodStart:"2024-04-22",periodEnd:"2024-05-21"}]}};return(0,e.useEffect)(()=>{n||i(a),n&&!o&&l(!0)},[n,a,o]),(0,Ct.jsxs)("div",{className:"monthly-profit-tool",children:[(0,Ct.jsx)("div",{className:"container",children:(0,Ct.jsxs)("div",{className:"card",children:[(0,Ct.jsx)("h1",{children:"Manage Monthly Profit"}),(0,Ct.jsx)("div",{className:"info-section",children:(0,Ct.jsx)("p",{children:"Universal Credit is worked out according to your income and outgoings every 'assessment period'. The start date for the assessment period is the day of the month you first made a claim for UC. You can also find it on your UC journal."})}),(0,Ct.jsxs)("div",{className:"example-section",children:[(0,Ct.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>d(!0),children:"See an example"}),(0,Ct.jsx)("p",{className:"help-text",children:"See how different types of self-employed workers' income and expenses change from month to month"})]}),(0,Ct.jsx)("div",{className:"form-section",children:(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"assessmentPeriodStart",children:"What does your assessment period start?"}),(0,Ct.jsx)("input",{type:"date",id:"assessmentPeriodStart",className:"form-control",value:n,onChange:e=>{return t=e.target.value,i(t),void r(null);var t}})]})}),n&&(0,Ct.jsxs)("div",{className:"calendar-section",children:[(0,Ct.jsx)("h2",{children:"Your Assessment Periods"}),(0,Ct.jsx)(pi,{assessmentPeriodStart:n,onPeriodSelect:e=>{r(e)},selectedPeriod:s})]}),o&&(0,Ct.jsx)("div",{className:"reporting-form-section",children:(0,Ct.jsx)(mi,{period:s||{start:new Date(n),end:new Date(new Date(n).setMonth(new Date(n).getMonth()+1)-1),month:new Date(n).toLocaleDateString("en-GB",{month:"long",year:"numeric"})},onClose:()=>l(!1),exampleData:h?p[h]:null})}),c&&(0,Ct.jsx)("div",{className:"modal-overlay",children:(0,Ct.jsxs)("div",{className:"modal-content",children:[(0,Ct.jsxs)("div",{className:"modal-header",children:[(0,Ct.jsx)("h2",{children:"Choose an Example"}),(0,Ct.jsx)("button",{type:"button",className:"modal-close",onClick:()=>d(!1),children:"\xd7"})]}),(0,Ct.jsxs)("div",{className:"modal-body",children:[(0,Ct.jsx)("p",{children:"Select an example to see how different types of self-employed workers' data changes from month to month:"}),(0,Ct.jsx)("div",{className:"example-options",children:Object.entries(p).map(e=>{let[t,n]=e;return(0,Ct.jsxs)("div",{className:"example-option",children:[(0,Ct.jsx)("h3",{children:n.title}),(0,Ct.jsx)("p",{children:n.description}),(0,Ct.jsxs)("div",{className:"example-preview",children:[(0,Ct.jsx)("h4",{children:"UC Assessment Period:"}),(0,Ct.jsxs)("p",{className:"assessment-period-info",children:[(0,Ct.jsx)("strong",{children:"Start Date:"})," ",new Date(n.assessmentPeriodStart).toLocaleDateString("en-GB")]}),(0,Ct.jsx)("h4",{children:"Monthly Overview:"}),(0,Ct.jsx)("div",{className:"monthly-preview",children:n.months.map((e,t)=>(0,Ct.jsxs)("div",{className:"month-preview",children:[(0,Ct.jsxs)("strong",{children:[e.month,":"]})," \xa3",e.income," income, \xa3",e.expenses," expenses",(0,Ct.jsx)("div",{className:"month-note",children:e.notes}),(0,Ct.jsx)("div",{className:"period-dates",children:(0,Ct.jsxs)("small",{children:["Period: ",e.periodStart," - ",e.periodEnd]})})]},t))})]}),(0,Ct.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{return u(e=t),d(!1),void i(p[e].assessmentPeriodStart);var e},children:"Use this example"})]},t)})})]})]})}),h&&(0,Ct.jsx)("div",{className:"example-banner",children:(0,Ct.jsxs)("div",{className:"example-banner-content",children:[(0,Ct.jsxs)("h3",{children:["Example: ",p[h].title]}),(0,Ct.jsxs)("p",{children:["You're viewing example data. This shows how ",p[h].title.toLowerCase()," income and expenses change from month to month."]}),(0,Ct.jsx)("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>{u(null),r(null)},children:"Use my own data instead"})]})})]})}),(0,Ct.jsx)(sn,{showRelatedTools:!1})]})};const gi=function(){return(0,e.useEffect)(()=>(Kt("rehabilitation"),()=>{Kt("entitledto")}),[]),(0,Ct.jsxs)("div",{className:"rehabilitation-services",children:[(0,Ct.jsx)("header",{className:"header",children:(0,Ct.jsxs)("div",{className:"header-content",children:[(0,Ct.jsx)("div",{className:"logo-section",children:(0,Ct.jsx)(rn,{})}),(0,Ct.jsxs)("div",{className:"header-text",children:[(0,Ct.jsx)("h1",{children:"Supporting Your Journey"}),(0,Ct.jsx)("p",{className:"subtitle",children:"Practical tools and guidance for life after prison"})]})]})}),(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsxs)("div",{className:"hero-section",children:[(0,Ct.jsx)("h2",{children:"Welcome to Our Services"}),(0,Ct.jsx)("p",{className:"hero-description",children:"Welcome to our rehabilitation support services. We're here to help you prepare for life after prison with practical tools and guidance for managing your finances, finding work, and accessing support."})]}),(0,Ct.jsx)("div",{className:"adviser-section",children:(0,Ct.jsxs)("div",{className:"adviser-card",children:[(0,Ct.jsxs)("div",{className:"coming-soon-graphic",children:[(0,Ct.jsx)("span",{className:"coming-soon-icon",children:"\ud83d\udea7"}),(0,Ct.jsx)("span",{className:"coming-soon-text",children:"Coming Soon"})]}),(0,Ct.jsx)("h3",{children:"For Advisers"}),(0,Ct.jsx)("p",{children:"Supporting someone through rehabilitation? We have special tools and resources to help you provide the best support possible."}),(0,Ct.jsxs)("div",{className:"adviser-actions",children:[(0,Ct.jsx)("button",{className:"btn btn-secondary",children:"Adviser Dashboard"}),(0,Ct.jsx)("button",{className:"btn btn-outline",children:"Training Resources"})]})]})}),(0,Ct.jsx)("div",{className:"services-grid",children:[{id:"income-maximisation",title:"Income Maximisation",description:"Get help to claim all the benefits and financial support you're entitled to.",icon:"\ud83d\udcb0",link:"/rehabilitation-calculator",comingSoon:!1},{id:"manage-finances",title:"Manage My Finances",description:"Create a budget and learn how to manage your money effectively.",icon:"\ud83d\udcca",link:"/budgeting-tool",comingSoon:!1},{id:"finding-home",title:"Finding a Home",description:"Find out about rent levels and benefits using our affordability map",icon:"\ud83c\udfe0",link:"/affordability-map",comingSoon:!1}].map(e=>(0,Ct.jsxs)("div",{className:"service-card",children:[(0,Ct.jsx)("div",{className:"service-icon",children:e.icon}),(0,Ct.jsx)("h3",{children:e.title}),(0,Ct.jsx)("p",{children:e.description}),e.comingSoon?(0,Ct.jsx)("div",{className:"service-actions",children:(0,Ct.jsx)("span",{className:"coming-soon-badge",children:"Coming Soon"})}):(0,Ct.jsx)("div",{className:"service-actions",children:(0,Ct.jsx)(dt,{to:e.link,className:"btn btn-primary",children:"Get Started"})})]},e.id))})]}),(0,Ct.jsx)(sn,{showRelatedTools:!1})]})};const vi=function(){return(0,e.useEffect)(()=>(Kt("rehabilitation"),()=>{Kt("entitledto")}),[]),(0,Ct.jsxs)("div",{className:"affordability-map",children:[(0,Ct.jsx)("header",{className:"header",children:(0,Ct.jsxs)("div",{className:"header-content",children:[(0,Ct.jsx)("div",{className:"logo-section",children:(0,Ct.jsx)(rn,{})}),(0,Ct.jsxs)("div",{className:"header-text",children:[(0,Ct.jsx)("h1",{children:"Housing Affordability Map"}),(0,Ct.jsx)("p",{className:"subtitle",children:"Explore rent levels and Local Housing Allowance rates across Great Britain"})]})]})}),(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsxs)("div",{className:"map-section",children:[(0,Ct.jsxs)("div",{className:"map-container",children:[(0,Ct.jsx)("img",{src:"".concat("/calculator-Andrei","/affordability-map.png.png"),alt:"Housing Affordability Map of Great Britain showing rent levels and LHA rates by region",className:"affordability-map-image",onLoad:()=>console.log("Affordability map image loaded successfully"),onError:e=>{console.error("Failed to load affordability map image:",e.target.src),console.error("Error details:",e),e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,Ct.jsx)("div",{className:"map-placeholder",style:{display:"none"},children:(0,Ct.jsxs)("div",{className:"placeholder-content",children:[(0,Ct.jsx)("h3",{children:"Map Image Required"}),(0,Ct.jsx)("p",{children:'Please add the affordability map image as "affordability-map.png" to the public folder.'}),(0,Ct.jsx)("p",{children:"The map should show Great Britain with color-coded regions indicating rent levels and LHA rates."})]})})]}),(0,Ct.jsxs)("div",{className:"map-legend",children:[(0,Ct.jsx)("h3",{children:"Understanding the Map"}),(0,Ct.jsxs)("div",{className:"legend-items",children:[(0,Ct.jsxs)("div",{className:"legend-item",children:[(0,Ct.jsx)("div",{className:"legend-color green"}),(0,Ct.jsx)("span",{children:"Lower rent areas / Higher affordability"})]}),(0,Ct.jsxs)("div",{className:"legend-item",children:[(0,Ct.jsx)("div",{className:"legend-color orange"}),(0,Ct.jsx)("span",{children:"Medium rent areas / Moderate affordability"})]}),(0,Ct.jsxs)("div",{className:"legend-item",children:[(0,Ct.jsx)("div",{className:"legend-color red"}),(0,Ct.jsx)("span",{children:"Higher rent areas / Lower affordability"})]})]})]})]}),(0,Ct.jsxs)("div",{className:"map-info",children:[(0,Ct.jsx)("h2",{children:"How to Use This Map"}),(0,Ct.jsxs)("div",{className:"info-grid",children:[(0,Ct.jsxs)("div",{className:"info-card",children:[(0,Ct.jsx)("h3",{children:"\ud83c\udfe0 Finding Affordable Areas"}),(0,Ct.jsx)("p",{children:"Green areas typically have lower rent costs and higher Local Housing Allowance rates, making them more affordable for Universal Credit claimants."})]}),(0,Ct.jsxs)("div",{className:"info-card",children:[(0,Ct.jsx)("h3",{children:"\ud83d\udcb0 Understanding LHA Rates"}),(0,Ct.jsx)("p",{children:"Each Broad Rental Market Area (BRMA) has different LHA rates. This map helps you compare affordability across different regions."})]}),(0,Ct.jsxs)("div",{className:"info-card",children:[(0,Ct.jsx)("h3",{children:"\ud83d\udccd Planning Your Move"}),(0,Ct.jsx)("p",{children:"Use this map to identify areas where your Universal Credit housing element will go further, helping you make informed decisions about where to live."})]})]})]}),(0,Ct.jsxs)("div",{className:"guide-section",children:[(0,Ct.jsxs)("div",{className:"guide-header",children:[(0,Ct.jsx)("div",{className:"guide-header-graphic",children:(0,Ct.jsxs)("div",{className:"guide-icon-container",children:[(0,Ct.jsx)("div",{className:"guide-main-icon",children:"\ud83d\udcda"}),(0,Ct.jsxs)("div",{className:"guide-accent-icons",children:[(0,Ct.jsx)("span",{className:"accent-icon",children:"\ud83c\udfe0"}),(0,Ct.jsx)("span",{className:"accent-icon",children:"\ud83c\udfe5"})]})]})}),(0,Ct.jsxs)("div",{className:"guide-header-text",children:[(0,Ct.jsx)("h2",{children:"Your Guide to Housing and Health"}),(0,Ct.jsx)("p",{className:"guide-intro",children:"Essential information about housing support from your council and how to register with a GP (even if you don't have a fixed address)."})]})]}),(0,Ct.jsxs)("div",{className:"help-areas",children:[(0,Ct.jsx)("div",{className:"help-area",children:(0,Ct.jsxs)("div",{className:"help-area-visual",children:[(0,Ct.jsx)("div",{className:"help-area-image housing-image",children:(0,Ct.jsxs)("div",{className:"image-placeholder",children:[(0,Ct.jsx)("div",{className:"placeholder-icon",children:"\ud83c\udfe0"}),(0,Ct.jsx)("div",{className:"placeholder-pattern"})]})}),(0,Ct.jsxs)("div",{className:"help-area-content",children:[(0,Ct.jsxs)("div",{className:"help-area-header",children:[(0,Ct.jsx)("h3",{children:"Housing Support"}),(0,Ct.jsx)("div",{className:"help-area-badge",children:"Accommodation"})]}),(0,Ct.jsx)("p",{children:"Housing support from your council and accommodation options"}),(0,Ct.jsx)("div",{className:"help-topics",children:(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Council housing applications"}),(0,Ct.jsx)("li",{children:"Private rented accommodation"}),(0,Ct.jsx)("li",{children:"Supported housing options"}),(0,Ct.jsx)("li",{children:"Homelessness prevention"}),(0,Ct.jsx)("li",{children:"Deposit schemes and rent guarantees"}),(0,Ct.jsx)("li",{children:"Housing benefit and Universal Credit housing element"})]})}),(0,Ct.jsx)("div",{className:"help-area-actions",children:(0,Ct.jsx)(dt,{to:"/help-guide/housing",className:"btn btn-primary",children:"Learn More"})})]})]})}),(0,Ct.jsx)("div",{className:"help-area",children:(0,Ct.jsxs)("div",{className:"help-area-visual",children:[(0,Ct.jsx)("div",{className:"help-area-image health-image",children:(0,Ct.jsxs)("div",{className:"image-placeholder",children:[(0,Ct.jsx)("div",{className:"placeholder-icon",children:"\ud83c\udfe5"}),(0,Ct.jsx)("div",{className:"placeholder-pattern"})]})}),(0,Ct.jsxs)("div",{className:"help-area-content",children:[(0,Ct.jsxs)("div",{className:"help-area-header",children:[(0,Ct.jsx)("h3",{children:"Health Services"}),(0,Ct.jsx)("div",{className:"help-area-badge",children:"Healthcare"})]}),(0,Ct.jsx)("p",{children:"How to register with a GP and access healthcare services"}),(0,Ct.jsx)("div",{className:"help-topics",children:(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"GP registration without a fixed address"}),(0,Ct.jsx)("li",{children:"Mental health support services"}),(0,Ct.jsx)("li",{children:"Substance misuse support"}),(0,Ct.jsx)("li",{children:"Dental care and prescriptions"}),(0,Ct.jsx)("li",{children:"Hospital treatment and referrals"}),(0,Ct.jsx)("li",{children:"Health insurance and NHS services"})]})}),(0,Ct.jsx)("div",{className:"help-area-actions",children:(0,Ct.jsx)(dt,{to:"/help-guide/health",className:"btn btn-primary",children:"Learn More"})})]})]})})]})]}),(0,Ct.jsx)("div",{className:"back-to-services",children:(0,Ct.jsx)(dt,{to:"/rehabilitation-services",className:"btn btn-primary",children:"\u2190 Back to Services"})})]})]})};const bi=function(){return(0,e.useEffect)(()=>(Kt("rehabilitation"),()=>{Kt("entitledto")}),[]),(0,Ct.jsxs)("div",{className:"help-guide",children:[(0,Ct.jsx)("header",{className:"header",children:(0,Ct.jsxs)("div",{className:"header-content",children:[(0,Ct.jsx)("div",{className:"logo-section",children:(0,Ct.jsx)(rn,{})}),(0,Ct.jsxs)("div",{className:"header-text",children:[(0,Ct.jsx)("h1",{children:"Your Guide to Benefits, Housing and Health"}),(0,Ct.jsx)("p",{className:"subtitle",children:"Essential information and support for life after prison"})]})]})}),(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsxs)("div",{className:"hero-section",children:[(0,Ct.jsx)("h2",{children:"Getting the Support You Need"}),(0,Ct.jsx)("p",{className:"hero-description",children:"Leaving prison can be challenging, but you don't have to face it alone. This guide provides essential information about the benefits, housing support, and health services available to help you rebuild your life and move forward with confidence."})]}),(0,Ct.jsx)("div",{className:"help-areas-grid",children:[{id:"benefits",title:"Benefits",description:"Essential information about benefits you can claim when leaving prison",icon:"\ud83d\udcb0",link:"/help-guide/benefits",topics:["Universal Credit application process","Housing Benefit and Local Housing Allowance","Employment and Support Allowance (ESA)","Personal Independence Payment (PIP)","Disability Living Allowance (DLA)","Jobseeker's Allowance (JSA)"]},{id:"housing",title:"Housing Support",description:"Housing support from your council and accommodation options",icon:"\ud83c\udfe0",link:"/help-guide/housing",topics:["Council housing applications","Private rented accommodation","Supported housing options","Homelessness prevention","Deposit schemes and rent guarantees","Housing benefit and Universal Credit housing element"]},{id:"health",title:"Health Services",description:"How to register with a GP and access healthcare services",icon:"\ud83c\udfe5",link:"/help-guide/health",topics:["GP registration without a fixed address","Mental health support services","Substance misuse support","Dental care and prescriptions","Hospital treatment and referrals","Health insurance and NHS services"]}].map(e=>(0,Ct.jsxs)("div",{className:"help-area-card",children:[(0,Ct.jsx)("div",{className:"help-area-icon",children:e.icon}),(0,Ct.jsx)("h3",{children:e.title}),(0,Ct.jsx)("p",{className:"help-area-description",children:e.description}),(0,Ct.jsxs)("div",{className:"help-topics",children:[(0,Ct.jsx)("h4",{children:"Key Topics Covered:"}),(0,Ct.jsx)("ul",{children:e.topics.map((e,t)=>(0,Ct.jsx)("li",{children:e},t))})]}),(0,Ct.jsx)("div",{className:"help-area-actions",children:(0,Ct.jsx)(dt,{to:e.link,className:"btn btn-primary",children:"Learn More"})})]},e.id))}),(0,Ct.jsxs)("div",{className:"quick-links",children:[(0,Ct.jsx)("h2",{children:"Quick Links"}),(0,Ct.jsxs)("div",{className:"quick-links-grid",children:[(0,Ct.jsxs)(dt,{to:"/rehabilitation-calculator",className:"quick-link-card",children:[(0,Ct.jsx)("div",{className:"quick-link-icon",children:"\ud83e\uddee"}),(0,Ct.jsx)("h3",{children:"Benefits Calculator"}),(0,Ct.jsx)("p",{children:"Calculate your Universal Credit and other benefits"})]}),(0,Ct.jsxs)(dt,{to:"/budgeting-tool",className:"quick-link-card",children:[(0,Ct.jsx)("div",{className:"quick-link-icon",children:"\ud83d\udcca"}),(0,Ct.jsx)("h3",{children:"Budgeting Tool"}),(0,Ct.jsx)("p",{children:"Create a budget and manage your finances"})]}),(0,Ct.jsxs)(dt,{to:"/affordability-map",className:"quick-link-card",children:[(0,Ct.jsx)("div",{className:"quick-link-icon",children:"\ud83d\uddfa\ufe0f"}),(0,Ct.jsx)("h3",{children:"Affordability Map"}),(0,Ct.jsx)("p",{children:"Find affordable areas to live"})]})]})]}),(0,Ct.jsx)("div",{className:"back-to-services",children:(0,Ct.jsx)(dt,{to:"/rehabilitation-services",className:"btn btn-secondary",children:"\u2190 Back to Services"})})]})]})};const yi=function(){return(0,e.useEffect)(()=>(Kt("rehabilitation"),()=>{Kt("entitledto")}),[]),(0,Ct.jsxs)("div",{className:"help-guide-page",children:[(0,Ct.jsx)("header",{className:"header",children:(0,Ct.jsxs)("div",{className:"header-content",children:[(0,Ct.jsx)("div",{className:"logo-section",children:(0,Ct.jsx)(rn,{})}),(0,Ct.jsxs)("div",{className:"header-text",children:[(0,Ct.jsx)("h1",{children:"Benefits Guide"}),(0,Ct.jsx)("p",{className:"subtitle",children:"Essential information about benefits you can claim when leaving prison"})]})]})}),(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsxs)("div",{className:"help-content",children:[(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Universal Credit"}),(0,Ct.jsx)("p",{children:"Universal Credit is the main benefit for people of working age. It replaces several older benefits including Jobseeker's Allowance, Employment and Support Allowance, and Housing Benefit."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Key Points for Prison Leavers:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"You can apply for Universal Credit up to 35 days before your release date"}),(0,Ct.jsx)("li",{children:"You'll need a bank account and email address to apply online"}),(0,Ct.jsx)("li",{children:"Your first payment usually takes 5 weeks to arrive"}),(0,Ct.jsx)("li",{children:"You may be able to get an advance payment if you're in financial hardship"}),(0,Ct.jsx)("li",{children:"You'll need to attend regular appointments at your local Jobcentre Plus"})]})]}),(0,Ct.jsxs)("div",{className:"action-box",children:[(0,Ct.jsx)("h3",{children:"What You Need to Apply:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"National Insurance number"}),(0,Ct.jsx)("li",{children:"Bank account details"}),(0,Ct.jsx)("li",{children:"Email address and phone number"}),(0,Ct.jsx)("li",{children:"Proof of identity (passport, driving licence, or birth certificate)"}),(0,Ct.jsx)("li",{children:"Details of any savings or other income"})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Housing Benefit and Local Housing Allowance"}),(0,Ct.jsx)("p",{children:"If you're renting privately, your housing costs are covered through the housing element of Universal Credit. This is based on Local Housing Allowance (LHA) rates in your area."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Important Information:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"LHA rates vary by area and bedroom entitlement"}),(0,Ct.jsx)("li",{children:"You can check LHA rates for different areas using our affordability map"}),(0,Ct.jsx)("li",{children:"If your rent is higher than the LHA rate, you'll need to pay the difference"}),(0,Ct.jsx)("li",{children:"Some people may be entitled to Discretionary Housing Payments for extra help"})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Employment and Support Allowance (ESA)"}),(0,Ct.jsx)("p",{children:"ESA is for people who can't work due to illness or disability. It's being replaced by Universal Credit, but some people may still be able to claim it."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"For Prison Leavers:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"You may be able to claim ESA if you have a health condition that affects your ability to work"}),(0,Ct.jsx)("li",{children:"You'll need a medical assessment to determine your eligibility"}),(0,Ct.jsx)("li",{children:"ESA can provide extra financial support on top of Universal Credit"})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Personal Independence Payment (PIP)"}),(0,Ct.jsx)("p",{children:"PIP helps with extra costs if you have a long-term physical or mental health condition or disability."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Key Information:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"PIP is not means-tested, so it's not affected by your income or savings"}),(0,Ct.jsx)("li",{children:"It's paid in addition to other benefits"}),(0,Ct.jsx)("li",{children:"You'll need to complete a detailed application form"}),(0,Ct.jsx)("li",{children:"You may be asked to attend a face-to-face assessment"})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Getting Help and Support"}),(0,Ct.jsx)("p",{children:"Applying for benefits can be complex, especially when you're dealing with other challenges after leaving prison."}),(0,Ct.jsxs)("div",{className:"action-box",children:[(0,Ct.jsx)("h3",{children:"Where to Get Help:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Citizens Advice:"})," Free, independent advice on benefits and other issues"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Jobcentre Plus:"})," Help with Universal Credit applications and job searching"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Local charities:"})," Many areas have charities that help ex-offenders with benefits"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Probation services:"})," Your probation officer can help with benefit applications"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Our calculator:"})," Use our benefits calculator to see what you might be entitled to"]})]})]})]})]}),(0,Ct.jsxs)("div",{className:"navigation-links",children:[(0,Ct.jsx)(dt,{to:"/help-guide",className:"btn btn-secondary",children:"\u2190 Back to Help Guide"}),(0,Ct.jsx)(dt,{to:"/rehabilitation-calculator",className:"btn btn-primary",children:"Calculate My Benefits"})]})]})]})};const xi=function(){return(0,e.useEffect)(()=>(Kt("rehabilitation"),()=>{Kt("entitledto")}),[]),(0,Ct.jsxs)("div",{className:"help-guide-page",children:[(0,Ct.jsx)("header",{className:"header",children:(0,Ct.jsxs)("div",{className:"header-content",children:[(0,Ct.jsx)("div",{className:"logo-section",children:(0,Ct.jsx)(rn,{})}),(0,Ct.jsxs)("div",{className:"header-text",children:[(0,Ct.jsx)("h1",{children:"Housing Support Guide"}),(0,Ct.jsx)("p",{className:"subtitle",children:"Housing support from your council and accommodation options"})]})]})}),(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsxs)("div",{className:"help-content",children:[(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Council Housing Applications"}),(0,Ct.jsx)("p",{children:"Your local council can help you find suitable accommodation. Most councils have housing waiting lists, but some people may be given priority."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Priority for Prison Leavers:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"You may be considered a priority if you're homeless or at risk of homelessness"}),(0,Ct.jsx)("li",{children:"Some councils give priority to people leaving prison"}),(0,Ct.jsx)("li",{children:"You'll need to complete a housing application form"}),(0,Ct.jsx)("li",{children:"Be prepared to provide references and proof of your circumstances"}),(0,Ct.jsx)("li",{children:"Waiting times vary significantly between areas"})]})]}),(0,Ct.jsxs)("div",{className:"action-box",children:[(0,Ct.jsx)("h3",{children:"How to Apply:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Contact your local council's housing department"}),(0,Ct.jsx)("li",{children:"Ask about their housing allocation policy for ex-offenders"}),(0,Ct.jsx)("li",{children:"Complete the application form with as much detail as possible"}),(0,Ct.jsx)("li",{children:"Keep copies of all documents and correspondence"}),(0,Ct.jsx)("li",{children:"Follow up regularly on your application"})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Private Rented Accommodation"}),(0,Ct.jsx)("p",{children:"Private renting can be more flexible than council housing, but you may face challenges as an ex-offender."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Challenges and Solutions:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"References:"})," Some landlords may be reluctant to rent to ex-offenders"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Deposits:"})," You may need help with deposit schemes"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Rent guarantees:"})," Some councils offer rent guarantee schemes"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Supporting landlords:"})," Some charities help match ex-offenders with understanding landlords"]})]})]}),(0,Ct.jsxs)("div",{className:"action-box",children:[(0,Ct.jsx)("h3",{children:"Tips for Private Renting:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Be honest about your background when asked"}),(0,Ct.jsx)("li",{children:"Look for landlords who are part of ex-offender support schemes"}),(0,Ct.jsx)("li",{children:"Consider shared accommodation as a stepping stone"}),(0,Ct.jsx)("li",{children:"Use our affordability map to find areas with lower rents"}),(0,Ct.jsx)("li",{children:"Get help from housing support services"})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Supported Housing Options"}),(0,Ct.jsx)("p",{children:"Supported housing provides accommodation with additional support services, which can be particularly helpful when leaving prison."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Types of Supported Housing:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Hostels:"})," Short-term accommodation with basic support"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Supported lodgings:"})," Living with a family who provides support"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Specialist accommodation:"})," For people with specific needs (mental health, substance misuse)"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Move-on accommodation:"})," Stepping stone between supported housing and independent living"]})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Homelessness Prevention"}),(0,Ct.jsx)("p",{children:"If you're at risk of becoming homeless, your council has a duty to help prevent this."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Council Duties:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Assess your housing needs and circumstances"}),(0,Ct.jsx)("li",{children:"Provide advice and assistance to prevent homelessness"}),(0,Ct.jsx)("li",{children:"Help you find alternative accommodation"}),(0,Ct.jsx)("li",{children:"Provide temporary accommodation if you become homeless"}),(0,Ct.jsx)("li",{children:"Help with deposits, rent in advance, or other financial assistance"})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Deposit Schemes and Rent Guarantees"}),(0,Ct.jsx)("p",{children:"Many councils and charities offer schemes to help with the upfront costs of renting."}),(0,Ct.jsxs)("div",{className:"action-box",children:[(0,Ct.jsx)("h3",{children:"Available Schemes:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Deposit guarantee schemes:"})," Council guarantees your deposit to the landlord"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Rent in advance schemes:"})," Help with first month's rent"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Rent guarantee schemes:"})," Council guarantees rent payments if you fall behind"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Bond schemes:"})," Charities provide deposit bonds"]})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Getting Help and Support"}),(0,Ct.jsx)("p",{children:"Don't try to navigate housing issues alone. There are many organisations that can help."}),(0,Ct.jsxs)("div",{className:"action-box",children:[(0,Ct.jsx)("h3",{children:"Where to Get Help:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Your local council:"})," Housing department and homelessness prevention team"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Probation services:"})," Your probation officer can help with housing applications"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Shelter:"})," Free housing advice and support"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Citizens Advice:"})," Help with housing problems and applications"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Local charities:"})," Many areas have charities that help ex-offenders with housing"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Our affordability map:"})," Find areas with affordable housing"]})]})]})]})]}),(0,Ct.jsxs)("div",{className:"navigation-links",children:[(0,Ct.jsx)(dt,{to:"/help-guide",className:"btn btn-secondary",children:"\u2190 Back to Help Guide"}),(0,Ct.jsx)(dt,{to:"/affordability-map",className:"btn btn-primary",children:"View Affordability Map"})]})]})]})};const wi=function(){return(0,e.useEffect)(()=>(Kt("rehabilitation"),()=>{Kt("entitledto")}),[]),(0,Ct.jsxs)("div",{className:"help-guide-page",children:[(0,Ct.jsx)("header",{className:"header",children:(0,Ct.jsxs)("div",{className:"header-content",children:[(0,Ct.jsx)("div",{className:"logo-section",children:(0,Ct.jsx)(rn,{})}),(0,Ct.jsxs)("div",{className:"header-text",children:[(0,Ct.jsx)("h1",{children:"Health Services Guide"}),(0,Ct.jsx)("p",{className:"subtitle",children:"How to register with a GP and access healthcare services"})]})]})}),(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsxs)("div",{className:"help-content",children:[(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"GP Registration Without a Fixed Address"}),(0,Ct.jsx)("p",{children:"You can register with a GP even if you don't have a permanent address. This is important for accessing healthcare services and prescriptions."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"How to Register:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"You can use a temporary address, hostel address, or even a friend's address"}),(0,Ct.jsx)("li",{children:'Some GPs accept "no fixed address" as an address'}),(0,Ct.jsx)("li",{children:"You don't need proof of address to register with a GP"}),(0,Ct.jsx)("li",{children:"You can register with any GP practice in your area"}),(0,Ct.jsx)("li",{children:"If you're refused registration, you can complain to NHS England"})]})]}),(0,Ct.jsxs)("div",{className:"action-box",children:[(0,Ct.jsx)("h3",{children:"What You Need:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Your name and date of birth"}),(0,Ct.jsx)("li",{children:"An address (can be temporary or a friend's address)"}),(0,Ct.jsx)("li",{children:"Your NHS number if you have it (but it's not essential)"}),(0,Ct.jsx)("li",{children:"Details of any ongoing medical conditions or medications"})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Mental Health Support Services"}),(0,Ct.jsx)("p",{children:"Mental health support is crucial when leaving prison. There are many services available to help you cope with the challenges of reintegration."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Available Services:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"GP services:"})," Your GP can refer you to mental health services"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Community Mental Health Teams:"})," Specialist support for mental health conditions"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Crisis teams:"})," 24/7 support if you're in mental health crisis"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Counseling services:"})," Talking therapies and psychological support"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Peer support groups:"})," Support from others who have similar experiences"]})]})]}),(0,Ct.jsxs)("div",{className:"action-box",children:[(0,Ct.jsx)("h3",{children:"Getting Help:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Speak to your GP about your mental health concerns"}),(0,Ct.jsx)("li",{children:"Contact your local mental health services directly"}),(0,Ct.jsx)("li",{children:"Use the NHS 111 service for urgent mental health support"}),(0,Ct.jsx)("li",{children:"Contact charities like Mind or Samaritans for support"}),(0,Ct.jsx)("li",{children:"Ask your probation officer about local mental health services"})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Substance Misuse Support"}),(0,Ct.jsx)("p",{children:"If you have issues with drugs or alcohol, there are specialist services that can help you maintain your recovery."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Support Services:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Drug and alcohol services:"})," Specialist support for substance misuse"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Methadone and other treatments:"})," Medical support for addiction"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Counseling and therapy:"})," Psychological support for recovery"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Support groups:"})," AA, NA, and other peer support groups"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Residential treatment:"})," Inpatient support if needed"]})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Dental Care and Prescriptions"}),(0,Ct.jsx)("p",{children:"Accessing dental care and getting prescriptions can be challenging without a fixed address, but there are ways to get the help you need."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Dental Care:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"You can register with any NHS dentist"}),(0,Ct.jsx)("li",{children:"Emergency dental care is available through NHS 111"}),(0,Ct.jsx)("li",{children:"Some areas have mobile dental services"}),(0,Ct.jsx)("li",{children:"Dental treatment is free if you're on certain benefits"})]})]}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Prescriptions:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Prescriptions are free if you're on certain benefits"}),(0,Ct.jsx)("li",{children:"You can get a prescription prepayment certificate to save money"}),(0,Ct.jsx)("li",{children:"Some pharmacies offer delivery services"}),(0,Ct.jsx)("li",{children:"You can collect prescriptions from any pharmacy"})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Hospital Treatment and Referrals"}),(0,Ct.jsx)("p",{children:"If you need hospital treatment, you have the same rights as anyone else to access NHS services."}),(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Your Rights:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"You're entitled to the same NHS treatment as anyone else"}),(0,Ct.jsx)("li",{children:"You can't be refused treatment because of your criminal record"}),(0,Ct.jsx)("li",{children:"Your medical information is confidential"}),(0,Ct.jsx)("li",{children:"You can choose which hospital to be treated at"}),(0,Ct.jsx)("li",{children:"You can get a second opinion if you're not happy with your treatment"})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Health Insurance and NHS Services"}),(0,Ct.jsx)("p",{children:"Understanding your rights to NHS services and any additional support available."}),(0,Ct.jsxs)("div",{className:"action-box",children:[(0,Ct.jsx)("h3",{children:"Important Information:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"All NHS services are free at the point of use"}),(0,Ct.jsx)("li",{children:"You don't need health insurance to access NHS services"}),(0,Ct.jsx)("li",{children:"Some services may have waiting lists"}),(0,Ct.jsx)("li",{children:"You can access NHS services anywhere in the UK"}),(0,Ct.jsx)("li",{children:"If you're not eligible for free NHS treatment, you may still be able to get help"})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Getting Help and Support"}),(0,Ct.jsx)("p",{children:"Don't be afraid to ask for help with your health. There are many people and services that want to support you."}),(0,Ct.jsxs)("div",{className:"action-box",children:[(0,Ct.jsx)("h3",{children:"Where to Get Help:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Your GP:"})," First point of contact for most health issues"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"NHS 111:"})," For urgent health advice and support"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Your probation officer:"})," Can help you access health services"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Local charities:"})," Many provide health advocacy and support"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Citizens Advice:"})," Help with health service problems"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Patient Advice and Liaison Service (PALS):"})," Help with NHS service issues"]})]})]})]})]}),(0,Ct.jsxs)("div",{className:"navigation-links",children:[(0,Ct.jsx)(dt,{to:"/help-guide",className:"btn btn-secondary",children:"\u2190 Back to Help Guide"}),(0,Ct.jsx)(dt,{to:"/rehabilitation-calculator",className:"btn btn-primary",children:"Calculate My Benefits"})]})]})]})};const Ni=function(){return(0,Ct.jsx)("div",{className:"help-page",children:(0,Ct.jsxs)("div",{className:"help-content",children:[(0,Ct.jsxs)("div",{className:"help-header",children:[(0,Ct.jsx)(dt,{to:"/",className:"back-link",children:"\u2190 Back to Calculator"}),(0,Ct.jsx)("h1",{children:"Child Benefit High Income Tax Charge"})]}),(0,Ct.jsxs)("div",{className:"help-body",children:[(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"What is the High Income Child Benefit Charge?"}),(0,Ct.jsx)("p",{children:"The High Income Child Benefit Charge (HICBC) is a tax charge that applies when you or your partner have an income over \xa360,000 per year and you're receiving Child Benefit."}),(0,Ct.jsx)("p",{children:"This charge was introduced to reduce the amount of Child Benefit paid to higher earners, while still allowing families to claim Child Benefit to protect their National Insurance record."})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"How the Charge Works"}),(0,Ct.jsxs)("div",{className:"charge-brackets",children:[(0,Ct.jsxs)("div",{className:"bracket",children:[(0,Ct.jsx)("h3",{children:"Income under \xa360,000"}),(0,Ct.jsx)("p",{children:"No charge applies. You keep all your Child Benefit."})]}),(0,Ct.jsxs)("div",{className:"bracket",children:[(0,Ct.jsx)("h3",{children:"Income between \xa360,000 - \xa380,000"}),(0,Ct.jsx)("p",{children:"The charge is 1% of your Child Benefit for every \xa3100 of income above \xa360,000. This means the charge gradually increases as your income rises."}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Example:"})," If you earn \xa370,000, the charge would be 10% of your Child Benefit."]})]}),(0,Ct.jsxs)("div",{className:"bracket",children:[(0,Ct.jsx)("h3",{children:"Income \xa380,000 or over"}),(0,Ct.jsx)("p",{children:"The charge equals 100% of your Child Benefit. This means you effectively receive no net benefit from Child Benefit, but you can still claim it to protect your National Insurance record."})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Your Options"}),(0,Ct.jsxs)("div",{className:"options",children:[(0,Ct.jsxs)("div",{className:"option",children:[(0,Ct.jsx)("h3",{children:"Option 1: Continue claiming Child Benefit"}),(0,Ct.jsx)("p",{children:"You can continue to claim Child Benefit and pay the tax charge. This ensures you maintain your National Insurance record, which is important for your State Pension entitlement."}),(0,Ct.jsx)("p",{children:(0,Ct.jsx)("strong",{children:"Benefits:"})}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Protects your National Insurance record"}),(0,Ct.jsx)("li",{children:"Ensures you get State Pension credits"}),(0,Ct.jsx)("li",{children:"If your income drops below \xa360,000, you'll automatically receive the full benefit"})]})]}),(0,Ct.jsxs)("div",{className:"option",children:[(0,Ct.jsx)("h3",{children:"Option 2: Stop claiming Child Benefit"}),(0,Ct.jsx)("p",{children:"You can choose to stop claiming Child Benefit to avoid the tax charge. However, this means you won't get National Insurance credits."}),(0,Ct.jsx)("p",{children:(0,Ct.jsx)("strong",{children:"Considerations:"})}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"You won't pay the tax charge"}),(0,Ct.jsx)("li",{children:"You won't get National Insurance credits"}),(0,Ct.jsx)("li",{children:"You'll need to manually restart your claim if your income drops"})]})]}),(0,Ct.jsxs)("div",{className:"option",children:[(0,Ct.jsx)("h3",{children:"Option 3: Claim but opt out of payments"}),(0,Ct.jsx)("p",{children:"You can claim Child Benefit but choose not to receive the payments. This protects your National Insurance record without creating a tax liability."}),(0,Ct.jsx)("p",{children:(0,Ct.jsx)("strong",{children:"Benefits:"})}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"No tax charge to pay"}),(0,Ct.jsx)("li",{children:"National Insurance record is protected"}),(0,Ct.jsx)("li",{children:"You can opt back into payments if your income drops"})]})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Important Considerations"}),(0,Ct.jsxs)("div",{className:"considerations",children:[(0,Ct.jsxs)("div",{className:"consideration",children:[(0,Ct.jsx)("h3",{children:"National Insurance Credits"}),(0,Ct.jsx)("p",{children:"Child Benefit provides National Insurance credits that count towards your State Pension. If you stop claiming entirely, you may miss out on these valuable credits."})]}),(0,Ct.jsxs)("div",{className:"consideration",children:[(0,Ct.jsx)("h3",{children:"Income Fluctuations"}),(0,Ct.jsx)("p",{children:"If your income varies from year to year, continuing to claim Child Benefit means you'll automatically receive the full benefit in years when your income is below \xa360,000."})]}),(0,Ct.jsxs)("div",{className:"consideration",children:[(0,Ct.jsx)("h3",{children:"Partner's Income"}),(0,Ct.jsx)("p",{children:"The charge applies to the higher earner in a couple. If you're in a couple, it's the partner with the higher income who will be subject to the charge."})]})]})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"How to Pay the Charge"}),(0,Ct.jsx)("p",{children:"If you choose to continue claiming Child Benefit and pay the charge, you'll need to:"}),(0,Ct.jsxs)("ol",{children:[(0,Ct.jsx)("li",{children:"Complete a Self Assessment tax return"}),(0,Ct.jsx)("li",{children:"Declare your Child Benefit payments"}),(0,Ct.jsx)("li",{children:"Pay the charge by 31 January following the tax year"})]}),(0,Ct.jsx)("p",{children:"HMRC will send you a letter if they think you need to pay the charge, but it's your responsibility to declare it on your tax return."})]}),(0,Ct.jsxs)("div",{className:"help-section",children:[(0,Ct.jsx)("h2",{children:"Getting Help"}),(0,Ct.jsx)("p",{children:"For more information about the High Income Child Benefit Charge, visit:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:(0,Ct.jsx)("a",{href:"https://www.gov.uk/child-benefit-tax-charge",target:"_blank",rel:"noopener noreferrer",children:"GOV.UK - Child Benefit tax charge"})}),(0,Ct.jsx)("li",{children:(0,Ct.jsx)("a",{href:"https://www.gov.uk/child-benefit",target:"_blank",rel:"noopener noreferrer",children:"GOV.UK - Child Benefit"})})]}),(0,Ct.jsx)("p",{children:"You can also contact HMRC directly for advice on your specific circumstances."})]}),(0,Ct.jsx)("div",{className:"help-footer",children:(0,Ct.jsxs)("p",{className:"disclaimer",children:[(0,Ct.jsx)("strong",{children:"Disclaimer:"})," This information is for guidance only and should not be considered as official tax advice. Tax rules can change, and individual circumstances vary. For official advice, please consult HMRC or a qualified tax advisor."]})})]})]})})},Ai={standardAmounts:{enabled:!0,source:"ons",selectedHouseholdType:"middle-income-decile-5"},housingReviews:{enabled:!1,selectedHouseholdType:"single-person"},compulsoryFields:{wages:!1,universalCredit:!1,otherBenefits:!1,familySupport:!1,savings:!1,otherIncome:!1,rent:!1,councilTax:!1,gasAndElectricity:!1,water:!1,broadband:!1,food:!1,transport:!1,phone:!1,clothing:!1,childcare:!1,debtPayments:!1,otherExpenses:!1}},ki=()=>{try{const e=localStorage.getItem("budgetingToolAdminConfig");if(e){const t=JSON.parse(e);return(0,a.A)((0,a.A)((0,a.A)({},Ai),t),{},{compulsoryFields:(0,a.A)((0,a.A)({},Ai.compulsoryFields),t.compulsoryFields)})}}catch(e){console.error("Error loading admin config:",e)}return Ai},ji=e=>{try{return localStorage.setItem("budgetingToolAdminConfig",JSON.stringify(e)),!0}catch(t){return console.error("Error saving admin config:",t),!1}},Ci=e=>ki().compulsoryFields[e]||!1,_i={wages:{label:"Wages",category:"income"},universalCredit:{label:"Universal Credit",category:"income"},otherBenefits:{label:"Other Benefits",category:"income"},familySupport:{label:"Family Support",category:"income"},savings:{label:"Savings",category:"income"},otherIncome:{label:"Other Income",category:"income"},rent:{label:"Rent",category:"outgoing"},councilTax:{label:"Council Tax",category:"outgoing"},gasAndElectricity:{label:"Gas and Electricity",category:"outgoing"},water:{label:"Water",category:"outgoing"},broadband:{label:"Broadband",category:"outgoing"},food:{label:"Food",category:"outgoing"},transport:{label:"Transport",category:"outgoing"},phone:{label:"Phone",category:"outgoing"},clothing:{label:"Clothing",category:"outgoing"},childcare:{label:"Childcare",category:"outgoing"},debtPayments:{label:"Debt Payments",category:"outgoing"},otherExpenses:{label:"Other Expenses",category:"outgoing"}},Si={"private-renter":"Private Renter","social-renter":"Social and Other Renter",mortgagor:"Mortgagor and Other Owner Occupier","outright-owner":"Outright Owner Occupier","low-income-decile-2":"Low Income (Decile 2)","low-income-decile-3":"Low Income (Decile 3)","middle-income-decile-5":"Middle Income (Decile 5)","high-income-decile-8":"High Income (Decile 8)","high-income-decile-9":"High Income (Decile 9)","with-children":"Household with Children","without-children":"Household without Children",retired:"Retired Household","non-retired":"Non-Retired Household"},Ei={anglian:"Anglian Water","dwr-cymru":"D\u0175r Cymru Welsh Water",northumbrian:"Northumbrian Water","severn-trent":"Severn Trent Water","south-west":"South West Water",southern:"Southern Water",thames:"Thames Water","united-utilities":"United Utilities",wessex:"Wessex Water",yorkshire:"Yorkshire Water",affinity:"Affinity Water",bristol:"Bristol Water",portsmouth:"Portsmouth Water","south-east":"South East Water","sutton-east":"Sutton and East Surrey Water",tendring:"Tendring Hundred Water","three-valleys":"Three Valleys Water"},Mi={anglian:45,"dwr-cymru":42,northumbrian:38,"severn-trent":40,"south-west":48,southern:43,thames:44,"united-utilities":41,wessex:46,yorkshire:39,affinity:42,bristol:44,portsmouth:43,"south-east":45,"sutton-east":44,tendring:41,"three-valleys":43},Pi={"private-renter":{rent:850,councilTax:95,gasAndElectricity:80,water:42,broadband:25,food:200,transport:80,phone:25,clothing:40,childcare:0,debtPayments:50,otherExpenses:60},"social-renter":{rent:450,councilTax:85,gasAndElectricity:70,water:38,broadband:22,food:180,transport:60,phone:20,clothing:35,childcare:0,debtPayments:40,otherExpenses:50},mortgagor:{rent:0,councilTax:110,gasAndElectricity:85,water:45,broadband:28,food:220,transport:90,phone:28,clothing:45,childcare:0,debtPayments:60,otherExpenses:70},"outright-owner":{rent:0,councilTax:120,gasAndElectricity:90,water:48,broadband:30,food:240,transport:100,phone:30,clothing:50,childcare:0,debtPayments:70,otherExpenses:80},"low-income-decile-2":{rent:400,councilTax:70,gasAndElectricity:60,water:35,broadband:20,food:150,transport:45,phone:18,clothing:30,childcare:0,debtPayments:30,otherExpenses:40},"low-income-decile-3":{rent:500,councilTax:80,gasAndElectricity:65,water:37,broadband:22,food:165,transport:55,phone:20,clothing:32,childcare:0,debtPayments:35,otherExpenses:45},"middle-income-decile-5":{rent:650,councilTax:95,gasAndElectricity:75,water:40,broadband:25,food:190,transport:75,phone:25,clothing:38,childcare:0,debtPayments:45,otherExpenses:55},"high-income-decile-8":{rent:900,councilTax:130,gasAndElectricity:95,water:50,broadband:32,food:260,transport:110,phone:35,clothing:55,childcare:0,debtPayments:80,otherExpenses:90},"high-income-decile-9":{rent:1200,councilTax:150,gasAndElectricity:110,water:55,broadband:35,food:300,transport:130,phone:40,clothing:65,childcare:0,debtPayments:100,otherExpenses:110},"with-children":{rent:700,councilTax:100,gasAndElectricity:80,water:42,broadband:26,food:250,transport:85,phone:28,clothing:60,childcare:200,debtPayments:55,otherExpenses:65},"without-children":{rent:650,councilTax:95,gasAndElectricity:75,water:40,broadband:25,food:180,transport:70,phone:25,clothing:35,childcare:0,debtPayments:45,otherExpenses:55},retired:{rent:500,councilTax:85,gasAndElectricity:70,water:38,broadband:22,food:160,transport:50,phone:20,clothing:30,childcare:0,debtPayments:35,otherExpenses:45},"non-retired":{rent:700,councilTax:100,gasAndElectricity:80,water:42,broadband:26,food:200,transport:80,phone:28,clothing:40,childcare:50,debtPayments:55,otherExpenses:60}},Li={"private-renter":4.5,"social-renter":4.2,mortgagor:4.8,"outright-owner":4.9,"low-income-decile-2":4.1,"low-income-decile-3":4.2,"middle-income-decile-5":4.4,"high-income-decile-8":4.7,"high-income-decile-9":4.8,"with-children":4.6,"without-children":4.3,retired:4,"non-retired":4.5},Ti=e=>Pi[e]||null,Ii={"single-person":"Single Person",couple:"Couple","family-1-child":"Family with 1 Child","family-2-children":"Family with 2 Children","family-3-children":"Family with 3+ Children","pensioner-single":"Single Pensioner","pensioner-couple":"Pensioner Couple"},Fi={"single-person":{rent:0,councilTax:120,gasAndElectricity:80,water:35,broadband:25,food:200,transport:100,phone:30,clothing:50,childcare:0,debtPayments:0,otherExpenses:100},couple:{rent:0,councilTax:150,gasAndElectricity:120,water:45,broadband:30,food:350,transport:150,phone:50,clothing:80,childcare:0,debtPayments:0,otherExpenses:150},"family-1-child":{rent:0,councilTax:180,gasAndElectricity:140,water:50,broadband:35,food:450,transport:200,phone:60,clothing:120,childcare:300,debtPayments:0,otherExpenses:200},"family-2-children":{rent:0,councilTax:200,gasAndElectricity:160,water:60,broadband:40,food:600,transport:250,phone:70,clothing:180,childcare:500,debtPayments:0,otherExpenses:250},"family-3-children":{rent:0,councilTax:220,gasAndElectricity:180,water:70,broadband:45,food:750,transport:300,phone:80,clothing:240,childcare:700,debtPayments:0,otherExpenses:300},"pensioner-single":{rent:0,councilTax:100,gasAndElectricity:70,water:30,broadband:20,food:180,transport:60,phone:25,clothing:40,childcare:0,debtPayments:0,otherExpenses:80},"pensioner-couple":{rent:0,councilTax:130,gasAndElectricity:100,water:40,broadband:25,food:300,transport:100,phone:40,clothing:70,childcare:0,debtPayments:0,otherExpenses:120}},Ri=e=>Fi[e]||Fi["single-person"],Di=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=Ri(t),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.3;return Math.round(e*t)}(n);return(0,a.A)((0,a.A)({},e),{},{outgoings:(0,a.A)((0,a.A)({},e.outgoings),{},{rent:s,councilTax:i.councilTax,gasAndElectricity:i.gasAndElectricity,water:i.water,broadband:i.broadband,food:i.food,transport:i.transport,phone:i.phone,clothing:i.clothing,childcare:i.childcare,debtPayments:i.debtPayments,otherExpenses:i.otherExpenses})})};const Bi=function(){const[t,n]=(0,e.useState)({income:{wages:"",universalCredit:"",otherBenefits:"",familySupport:"",savings:"",otherIncome:""},outgoings:{rent:"",councilTax:"",gasAndElectricity:"",water:"",broadband:"",food:"",transport:"",phone:"",clothing:"",childcare:"",debtPayments:"",otherExpenses:""}}),[i,s]=(0,e.useState)({standardAmounts:ki().standardAmounts,housingReviews:ki().housingReviews,compulsoryFields:ki().compulsoryFields}),[r,o]=(0,e.useState)(!1),[l,c]=(0,e.useState)(!1),[d,h]=(0,e.useState)(i.standardAmounts.selectedHouseholdType),[u,p]=(0,e.useState)({}),[m,f]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=localStorage.getItem("benefitCalculatorData");if(e)try{const t=JSON.parse(e);n(e=>{var n,i,s;return(0,a.A)((0,a.A)({},e),{},{income:(0,a.A)((0,a.A)({},e.income),{},{universalCredit:(null===(n=t.results)||void 0===n?void 0:n.ucAmount)||0,otherBenefits:(null===(i=t.results)||void 0===i?void 0:i.otherBenefits)||0}),outgoings:(0,a.A)((0,a.A)({},e.outgoings),{},{childcare:(null===(s=t.formData)||void 0===s?void 0:s.childcareCosts)||0})})})}catch(t){console.error("Error loading benefit calculator data:",t)}},[]);const g=Object.values(t.income).reduce((e,t)=>e+(parseFloat(t)||0),0),v=Object.values(t.outgoings).reduce((e,t)=>e+(parseFloat(t)||0),0),b=g-v,y=(e,t,i)=>{n(n=>(0,a.A)((0,a.A)({},n),{},{[e]:(0,a.A)((0,a.A)({},n[e]),{},{[t]:i})})),u[t]&&p(e=>(0,a.A)((0,a.A)({},e),{},{[t]:null}))},x=e=>{if(f(e),e){const t=(e=>Mi[e]||42)(e);y("outgoings","water",t.toString())}},w=e=>new Intl.NumberFormat("en-GB",{style:"currency",currency:"GBP"}).format(e),N={source:"Office for National Statistics",publication:"Household Costs Indices for UK household groups: April to June 2025",url:"https://www.ons.gov.uk/economy/inflationandpriceindices/bulletins/householdcostsindicesforukhouseholdgroups/apriltojune2025",lastUpdated:"June 2025",disclaimer:"These are estimated averages based on ONS data. Individual circumstances may vary significantly."};return(0,Ct.jsxs)("div",{className:"enhanced-budgeting-tool",children:[(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsxs)("div",{className:"tool-header",children:[(0,Ct.jsx)("h1",{children:"Budgeting Tool"}),(0,Ct.jsx)("p",{className:"tool-description",children:"Create a realistic budget to help you manage your money when you leave prison."}),(0,Ct.jsxs)("div",{className:"tool-actions",children:[i.standardAmounts.enabled&&(0,Ct.jsx)("button",{className:"btn btn-primary",onClick:()=>c(!0),children:"Pre-fill with Standard Amounts"}),(0,Ct.jsxs)("button",{className:"btn btn-outline",onClick:()=>o(!r),children:[r?"Hide":"Show"," Adviser Mode"]}),(0,Ct.jsx)("button",{className:"btn btn-secondary",onClick:()=>{n({income:{wages:"",universalCredit:"",otherBenefits:"",familySupport:"",savings:"",otherIncome:""},outgoings:{rent:"",councilTax:"",gasAndElectricity:"",water:"",broadband:"",food:"",transport:"",phone:"",clothing:"",childcare:"",debtPayments:"",otherExpenses:""}}),p({}),f("")},children:"Reset Budget"}),(0,Ct.jsx)(dt,{to:"/budgeting-tool-admin",className:"btn btn-outline",children:"Admin Panel"})]})]}),r&&(0,Ct.jsxs)("div",{className:"adviser-mode-banner",children:[(0,Ct.jsx)("h3",{children:"Adviser Mode"}),(0,Ct.jsx)("p",{children:"You are viewing this tool in adviser mode. This allows you to see additional information and guidance."})]}),(0,Ct.jsxs)("div",{className:"budget-sections",children:[(0,Ct.jsxs)("div",{className:"budget-section income-section",children:[(0,Ct.jsx)("h2",{children:"Income"}),(0,Ct.jsxs)("div",{className:"budget-grid",children:[(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"wages",children:["Wages ",Ci("wages")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"wages",value:t.income.wages,onChange:e=>y("income","wages",e.target.value),className:"form-control ".concat(u.wages?"error":""),placeholder:"0"}),u.wages&&(0,Ct.jsx)("div",{className:"error-message",children:u.wages})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"universalCredit",children:["Universal Credit ",Ci("universalCredit")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"universalCredit",value:t.income.universalCredit,onChange:e=>y("income","universalCredit",e.target.value),className:"form-control ".concat(u.universalCredit?"error":""),placeholder:"0"}),u.universalCredit&&(0,Ct.jsx)("div",{className:"error-message",children:u.universalCredit})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"otherBenefits",children:["Other Benefits ",Ci("otherBenefits")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"otherBenefits",value:t.income.otherBenefits,onChange:e=>y("income","otherBenefits",e.target.value),className:"form-control ".concat(u.otherBenefits?"error":""),placeholder:"0"}),u.otherBenefits&&(0,Ct.jsx)("div",{className:"error-message",children:u.otherBenefits})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"familySupport",children:["Family Support ",Ci("familySupport")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"familySupport",value:t.income.familySupport,onChange:e=>y("income","familySupport",e.target.value),className:"form-control ".concat(u.familySupport?"error":""),placeholder:"0"}),u.familySupport&&(0,Ct.jsx)("div",{className:"error-message",children:u.familySupport})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"savings",children:["Savings ",Ci("savings")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"savings",value:t.income.savings,onChange:e=>y("income","savings",e.target.value),className:"form-control ".concat(u.savings?"error":""),placeholder:"0"}),u.savings&&(0,Ct.jsx)("div",{className:"error-message",children:u.savings})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"otherIncome",children:["Other Income ",Ci("otherIncome")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"otherIncome",value:t.income.otherIncome,onChange:e=>y("income","otherIncome",e.target.value),className:"form-control ".concat(u.otherIncome?"error":""),placeholder:"0"}),u.otherIncome&&(0,Ct.jsx)("div",{className:"error-message",children:u.otherIncome})]})]}),(0,Ct.jsxs)("h3",{children:["Total Income: ",w(g)]})]}),(0,Ct.jsxs)("div",{className:"budget-section outgoings-section",children:[(0,Ct.jsx)("h2",{children:"Outgoings"}),(0,Ct.jsxs)("div",{className:"budget-grid",children:[(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"rent",children:["Rent ",Ci("rent")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"rent",value:t.outgoings.rent,onChange:e=>y("outgoings","rent",e.target.value),className:"form-control ".concat(u.rent?"error":""),placeholder:"0"}),u.rent&&(0,Ct.jsx)("div",{className:"error-message",children:u.rent})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"councilTax",children:["Council Tax ",Ci("councilTax")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"councilTax",value:t.outgoings.councilTax,onChange:e=>y("outgoings","councilTax",e.target.value),className:"form-control ".concat(u.councilTax?"error":""),placeholder:"0"}),u.councilTax&&(0,Ct.jsx)("div",{className:"error-message",children:u.councilTax})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"gasAndElectricity",children:["Gas and Electricity ",Ci("gasAndElectricity")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"gasAndElectricity",value:t.outgoings.gasAndElectricity,onChange:e=>y("outgoings","gasAndElectricity",e.target.value),className:"form-control ".concat(u.gasAndElectricity?"error":""),placeholder:"0"}),u.gasAndElectricity&&(0,Ct.jsx)("div",{className:"error-message",children:u.gasAndElectricity})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"water",children:["Water ",Ci("water")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"water",value:t.outgoings.water,onChange:e=>y("outgoings","water",e.target.value),className:"form-control ".concat(u.water?"error":""),placeholder:"0"}),u.water&&(0,Ct.jsx)("div",{className:"error-message",children:u.water}),(0,Ct.jsxs)("div",{className:"help-text",children:[(0,Ct.jsx)("label",{htmlFor:"waterCompany",children:"Calculate by water company:"}),(0,Ct.jsxs)("select",{id:"waterCompany",value:m,onChange:e=>x(e.target.value),className:"form-control",children:[(0,Ct.jsx)("option",{value:"",children:"Select water company"}),Object.entries(Ei).map(e=>{let[t,n]=e;return(0,Ct.jsx)("option",{value:t,children:n},t)})]})]})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"broadband",children:["Broadband ",Ci("broadband")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"broadband",value:t.outgoings.broadband,onChange:e=>y("outgoings","broadband",e.target.value),className:"form-control ".concat(u.broadband?"error":""),placeholder:"0"}),u.broadband&&(0,Ct.jsx)("div",{className:"error-message",children:u.broadband})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"food",children:["Food ",Ci("food")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"food",value:t.outgoings.food,onChange:e=>y("outgoings","food",e.target.value),className:"form-control ".concat(u.food?"error":""),placeholder:"0"}),u.food&&(0,Ct.jsx)("div",{className:"error-message",children:u.food})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"transport",children:["Transport ",Ci("transport")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"transport",value:t.outgoings.transport,onChange:e=>y("outgoings","transport",e.target.value),className:"form-control ".concat(u.transport?"error":""),placeholder:"0"}),u.transport&&(0,Ct.jsx)("div",{className:"error-message",children:u.transport})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"phone",children:["Phone ",Ci("phone")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"phone",value:t.outgoings.phone,onChange:e=>y("outgoings","phone",e.target.value),className:"form-control ".concat(u.phone?"error":""),placeholder:"0"}),u.phone&&(0,Ct.jsx)("div",{className:"error-message",children:u.phone})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"clothing",children:["Clothing ",Ci("clothing")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"clothing",value:t.outgoings.clothing,onChange:e=>y("outgoings","clothing",e.target.value),className:"form-control ".concat(u.clothing?"error":""),placeholder:"0"}),u.clothing&&(0,Ct.jsx)("div",{className:"error-message",children:u.clothing})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"childcare",children:["Childcare ",Ci("childcare")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"childcare",value:t.outgoings.childcare,onChange:e=>y("outgoings","childcare",e.target.value),className:"form-control ".concat(u.childcare?"error":""),placeholder:"0"}),u.childcare&&(0,Ct.jsx)("div",{className:"error-message",children:u.childcare})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"debtPayments",children:["Debt Payments ",Ci("debtPayments")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"debtPayments",value:t.outgoings.debtPayments,onChange:e=>y("outgoings","debtPayments",e.target.value),className:"form-control ".concat(u.debtPayments?"error":""),placeholder:"0"}),u.debtPayments&&(0,Ct.jsx)("div",{className:"error-message",children:u.debtPayments})]}),(0,Ct.jsxs)("div",{className:"budget-item",children:[(0,Ct.jsxs)("label",{htmlFor:"otherExpenses",children:["Other Expenses ",Ci("otherExpenses")&&(0,Ct.jsx)("span",{className:"required",children:"*"})]}),(0,Ct.jsx)("input",{type:"number",id:"otherExpenses",value:t.outgoings.otherExpenses,onChange:e=>y("outgoings","otherExpenses",e.target.value),className:"form-control ".concat(u.otherExpenses?"error":""),placeholder:"0"}),u.otherExpenses&&(0,Ct.jsx)("div",{className:"error-message",children:u.otherExpenses})]})]}),(0,Ct.jsxs)("h3",{children:["Total Outgoings: ",w(v)]})]})]}),(0,Ct.jsx)("div",{className:"budget-summary",children:(0,Ct.jsxs)("div",{className:"summary-card",children:[(0,Ct.jsx)("h2",{children:"Budget Summary"}),(0,Ct.jsxs)("div",{className:"summary-grid",children:[(0,Ct.jsxs)("div",{className:"summary-item",children:[(0,Ct.jsx)("span",{className:"summary-label",children:"Total Income:"}),(0,Ct.jsx)("span",{className:"summary-value income",children:w(g)})]}),(0,Ct.jsxs)("div",{className:"summary-item",children:[(0,Ct.jsx)("span",{className:"summary-label",children:"Total Outgoings:"}),(0,Ct.jsx)("span",{className:"summary-value outgoing",children:w(v)})]}),(0,Ct.jsxs)("div",{className:"summary-item",children:[(0,Ct.jsx)("span",{className:"summary-label",children:"Balance:"}),(0,Ct.jsx)("span",{className:"summary-value ".concat(b>=0?"positive":"negative"),children:w(b)})]})]}),b<0&&(0,Ct.jsxs)("div",{className:"warning-message",children:[(0,Ct.jsx)("h3",{children:"\u26a0\ufe0f Warning"}),(0,Ct.jsxs)("p",{children:["Your outgoings exceed your income by ",w(Math.abs(b)),". You may need to reduce your spending or find additional sources of income."]})]}),b>=0&&(0,Ct.jsxs)("div",{className:"positive-message",children:[(0,Ct.jsx)("h3",{children:"\u2705 Good News"}),(0,Ct.jsxs)("p",{children:["Your income exceeds your outgoings by ",w(b),". This gives you some flexibility in your budget."]})]}),r&&(0,Ct.jsxs)("div",{className:"adviser-actions",children:[(0,Ct.jsx)("h3",{children:"Adviser Notes"}),(0,Ct.jsxs)("div",{className:"action-buttons",children:[(0,Ct.jsx)("button",{className:"btn btn-outline",onClick:()=>window.print(),children:"Print Budget"}),(0,Ct.jsx)("button",{className:"btn btn-outline",onClick:()=>{const e=JSON.stringify(t,null,2),n=new Blob([e],{type:"application/json"}),i=URL.createObjectURL(n),a=document.createElement("a");a.href=i,a.download="budget-data.json",a.click()},children:"Export Data"})]})]})]})})]}),l&&(0,Ct.jsx)("div",{className:"modal-overlay",children:(0,Ct.jsxs)("div",{className:"modal",children:[(0,Ct.jsx)("h3",{children:"Pre-fill with Standard Amounts"}),(0,Ct.jsx)("p",{children:"Select your household type to pre-fill the budget with standard amounts."}),(0,Ct.jsxs)("div",{className:"modal-content",children:[(0,Ct.jsx)("label",{htmlFor:"dataSource",children:"Data Source:"}),(0,Ct.jsxs)("select",{id:"dataSource",value:i.standardAmounts.source,onChange:e=>{const t=(0,a.A)({},i);t.standardAmounts.source=e.target.value,s(t),"housing-reviews"===e.target.value?h(i.housingReviews.selectedHouseholdType):h(i.standardAmounts.selectedHouseholdType)},className:"form-control",children:[(0,Ct.jsx)("option",{value:"ons",children:"ONS Data"}),(0,Ct.jsx)("option",{value:"housing-reviews",children:"Housing Reviews Standard Amounts"})]}),(0,Ct.jsx)("label",{htmlFor:"householdType",children:"Household Type:"}),(0,Ct.jsx)("select",{id:"householdType",value:d,onChange:e=>h(e.target.value),className:"form-control",children:"housing-reviews"===i.standardAmounts.source?Object.entries(Ii).map(e=>{let[t,n]=e;return(0,Ct.jsx)("option",{value:t,children:n},t)}):Object.entries(Si).map(e=>{let[t,n]=e;return(0,Ct.jsx)("option",{value:t,children:n},t)})}),(0,Ct.jsx)("div",{className:"data-source-info",children:"housing-reviews"===i.standardAmounts.source?(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Data Source:"})," Housing Reviews Assessing Affordability Guidance"]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Note:"})," These are typical affordability standards used in housing reviews. Rent amounts are calculated based on income (typically 30% of income)."]})]}):(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Data Source:"})," ",N.source]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Last Updated:"})," ",N.lastUpdated]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Disclaimer:"})," ",N.disclaimer]})]})}),(0,Ct.jsxs)("div",{className:"modal-actions",children:[(0,Ct.jsx)("button",{className:"btn btn-primary",onClick:()=>{let e={};if("housing-reviews"===i.standardAmounts.source){const n=parseFloat(t.income.wages)||0;e=Di(t,d,n)}else{const n=Ti(d);n&&(e={income:(0,a.A)({},t.income),outgoings:(0,a.A)((0,a.A)({},t.outgoings),n)})}Object.keys(e).length>0&&n(e),c(!1)},children:"Pre-fill Budget"}),(0,Ct.jsx)("button",{className:"btn btn-secondary",onClick:()=>c(!1),children:"Cancel"})]})]})]})}),(0,Ct.jsx)(sn,{showRelatedTools:!0})]})};const Oi=function(){const t=re();return(0,e.useEffect)(()=>{Jt(t.pathname)},[t.pathname]),(0,Ct.jsx)(on,{isRehabilitation:!0})};const Wi=function(){const[t,n]=(0,e.useState)("standard-amounts"),[i,s]=(0,e.useState)(ki()),[r,o]=(0,e.useState)(i.standardAmounts.selectedHouseholdType),[l,c]=(0,e.useState)(!1);(0,e.useEffect)(()=>{s(ki())},[]);const d=(e,t,n)=>{const r=(0,a.A)({},i);r[e][t]=n,s(r),ji(r)},h=e=>{d("standardAmounts","source",e)},u=(e,t)=>{d("compulsoryFields",e,t)},p=()=>"ons"===i.standardAmounts.source?Ti(r):null,m=()=>"housing-reviews"===i.standardAmounts.source?Ri(r):null,f={source:"Office for National Statistics",publication:"Household Costs Indices for UK household groups: April to June 2025",url:"https://www.ons.gov.uk/economy/inflationandpriceindices/bulletins/householdcostsindicesforukhouseholdgroups/apriltojune2025",lastUpdated:"June 2025",disclaimer:"These are estimated averages based on ONS data. Individual circumstances may vary significantly."},g={name:"Housing Reviews Standard Amounts",description:"Standard amounts based on Housing Reviews Assessing Affordability Guidance",source:"Housing Reviews Guidance",lastUpdated:"2024",note:"These are typical affordability standards used in housing reviews. Rent amounts should be calculated based on income and local housing costs."};return(0,Ct.jsxs)("div",{className:"budgeting-tool-admin",children:[(0,Ct.jsxs)("div",{className:"admin-header",children:[(0,Ct.jsx)("h1",{children:"Budgeting Tool Admin Panel"}),(0,Ct.jsx)("p",{children:"Configure the budgeting tool settings and pre-fill options"}),(0,Ct.jsxs)("div",{className:"admin-navigation",children:[(0,Ct.jsx)(dt,{to:"/budgeting-tool",className:"nav-link",children:"\u2190 Back to Budgeting Tool"}),(0,Ct.jsx)(dt,{to:"/ons-standard-amounts",className:"nav-link",target:"_blank",rel:"noopener noreferrer",children:"View ONS Standard Amounts"}),(0,Ct.jsx)(dt,{to:"/housing-review-amounts",className:"nav-link",target:"_blank",rel:"noopener noreferrer",children:"View Housing Review Amounts"})]})]}),(0,Ct.jsxs)("div",{className:"admin-tabs",children:[(0,Ct.jsx)("button",{className:"tab-button ".concat("standard-amounts"===t?"active":""),onClick:()=>n("standard-amounts"),children:"Standard Amounts"}),(0,Ct.jsx)("button",{className:"tab-button ".concat("compulsory-fields"===t?"active":""),onClick:()=>n("compulsory-fields"),children:"Compulsory Fields"})]}),(0,Ct.jsxs)("div",{className:"admin-content",children:["standard-amounts"===t&&(0,Ct.jsx)("div",{className:"standard-amounts-tab",children:(0,Ct.jsxs)("div",{className:"config-section",children:[(0,Ct.jsx)("h2",{children:"Standard Amounts Configuration"}),(0,Ct.jsxs)("div",{className:"config-item",children:[(0,Ct.jsxs)("label",{className:"config-label",children:[(0,Ct.jsx)("input",{type:"checkbox",checked:i.standardAmounts.enabled,onChange:e=>{return t=e.target.checked,void d("standardAmounts","enabled",t);var t}}),"Enable Standard Amounts Pre-fill"]}),(0,Ct.jsx)("p",{className:"config-description",children:"When enabled, users can pre-fill their budget with standard amounts based on their household type."})]}),i.standardAmounts.enabled&&(0,Ct.jsxs)(Ct.Fragment,{children:[(0,Ct.jsxs)("div",{className:"config-item",children:[(0,Ct.jsx)("label",{className:"config-label",children:"Data Source:"}),(0,Ct.jsxs)("div",{className:"radio-group-with-links",children:[(0,Ct.jsxs)("div",{className:"radio-group",children:[(0,Ct.jsxs)("label",{children:[(0,Ct.jsx)("input",{type:"radio",name:"source",value:"ons",checked:"ons"===i.standardAmounts.source,onChange:e=>h(e.target.value)}),"ONS Standard Amounts"]}),(0,Ct.jsxs)("label",{children:[(0,Ct.jsx)("input",{type:"radio",name:"source",value:"housing-reviews",checked:"housing-reviews"===i.standardAmounts.source,onChange:e=>h(e.target.value)}),"Housing Reviews Standard Amounts"]}),(0,Ct.jsxs)("label",{children:[(0,Ct.jsx)("input",{type:"radio",name:"source",value:"bespoke",checked:"bespoke"===i.standardAmounts.source,onChange:e=>h(e.target.value)}),"Bespoke Standard Amounts"]})]}),i.standardAmounts.enabled&&(0,Ct.jsxs)("div",{className:"source-links",children:[(0,Ct.jsx)(dt,{to:"/ons-standard-amounts",className:"source-link",target:"_blank",rel:"noopener noreferrer",children:"See all ONS standard amounts"}),(0,Ct.jsx)(dt,{to:"/housing-review-amounts",className:"source-link",target:"_blank",rel:"noopener noreferrer",children:"See all Housing Review standard amounts"})]})]})]}),("ons"===i.standardAmounts.source||"housing-reviews"===i.standardAmounts.source)&&(0,Ct.jsxs)("div",{className:"config-item",children:[(0,Ct.jsx)("label",{className:"config-label",children:"Default Household Type:"}),(0,Ct.jsx)("select",{value:r,onChange:e=>{return t=e.target.value,o(t),void d("standardAmounts","selectedHouseholdType",t);var t},className:"form-control",children:"ons"===i.standardAmounts.source?Object.entries(Si).map(e=>{let[t,n]=e;return(0,Ct.jsx)("option",{value:t,children:n},t)}):Object.entries(Ii).map(e=>{let[t,n]=e;return(0,Ct.jsx)("option",{value:t,children:n},t)})})]}),"housing-reviews"===i.standardAmounts.source&&(0,Ct.jsxs)("div",{className:"data-preview",children:[(0,Ct.jsx)("h3",{children:"Housing Reviews Data Preview"}),(0,Ct.jsxs)("div",{className:"data-source-info",children:[(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Source:"})," ",g.name]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Description:"})," ",g.description]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Based on:"})," ",g.source]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Last Updated:"})," ",g.lastUpdated]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Note:"})," ",g.note]})]}),(0,Ct.jsxs)("div",{className:"amounts-preview",children:[(0,Ct.jsxs)("h4",{children:["Standard Amounts for ",Ii[r]]}),(0,Ct.jsx)("div",{className:"amounts-grid",children:m()&&Object.entries(m()).map(e=>{var t;let[n,i]=e;return(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsxs)("span",{className:"amount-label",children:[(null===(t=_i[n])||void 0===t?void 0:t.label)||n,":"]}),(0,Ct.jsx)("span",{className:"amount-value",children:"rent"===n?"30% of monthly income":"\xa3".concat(i)})]},n)})})]})]}),"bespoke"===i.standardAmounts.source&&(0,Ct.jsxs)("div",{className:"info-box",children:[(0,Ct.jsx)("h3",{children:"Bespoke Standard Amounts"}),(0,Ct.jsx)("p",{children:"Functionality coming soon. This will allow administrators to set custom standard amounts."})]}),"ons"===i.standardAmounts.source&&(0,Ct.jsxs)("div",{className:"data-preview",children:[(0,Ct.jsx)("h3",{children:"ONS Data Preview"}),(0,Ct.jsxs)("div",{className:"data-source-info",children:[(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Source:"})," ",f.source]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Publication:"})," ",f.publication]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Last Updated:"})," ",f.lastUpdated]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Disclaimer:"})," ",f.disclaimer]})]}),(0,Ct.jsxs)("div",{className:"amounts-preview",children:[(0,Ct.jsxs)("h4",{children:["Standard Amounts for ",Si[r]]}),(0,Ct.jsx)("div",{className:"amounts-grid",children:p()&&Object.entries(p()).map(e=>{var t;let[n,i]=e;return(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsxs)("span",{className:"amount-label",children:[(null===(t=_i[n])||void 0===t?void 0:t.label)||n,":"]}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i]})]},n)})})]})]})]})]})}),"compulsory-fields"===t&&(0,Ct.jsx)("div",{className:"compulsory-fields-tab",children:(0,Ct.jsxs)("div",{className:"config-section",children:[(0,Ct.jsx)("h2",{children:"Compulsory Fields Configuration"}),(0,Ct.jsx)("p",{children:"Select which fields should be compulsory for users. Compulsory fields will be marked with an asterisk (*) and show an error message if left empty."}),(0,Ct.jsxs)("div",{className:"fields-section",children:[(0,Ct.jsx)("h3",{children:"Income Fields"}),(0,Ct.jsx)("div",{className:"fields-grid",children:Object.entries(_i).filter(e=>{let[t,n]=e;return"income"===n.category}).map(e=>{let[t,n]=e;return(0,Ct.jsx)("div",{className:"field-item",children:(0,Ct.jsxs)("label",{className:"field-label",children:[(0,Ct.jsx)("input",{type:"checkbox",checked:i.compulsoryFields[t],onChange:e=>u(t,e.target.checked)}),n.label]})},t)})})]}),(0,Ct.jsxs)("div",{className:"fields-section",children:[(0,Ct.jsx)("h3",{children:"Outgoing Fields"}),(0,Ct.jsx)("div",{className:"fields-grid",children:Object.entries(_i).filter(e=>{let[t,n]=e;return"outgoing"===n.category}).map(e=>{let[t,n]=e;return(0,Ct.jsx)("div",{className:"field-item",children:(0,Ct.jsxs)("label",{className:"field-label",children:[(0,Ct.jsx)("input",{type:"checkbox",checked:i.compulsoryFields[t],onChange:e=>u(t,e.target.checked)}),n.label]})},t)})})]})]})})]}),(0,Ct.jsxs)("div",{className:"admin-actions",children:[(0,Ct.jsx)("button",{className:"btn btn-primary",onClick:()=>{ji(i),alert("Configuration saved successfully!")},children:"Save Configuration"}),(0,Ct.jsx)("button",{className:"btn btn-secondary",onClick:()=>c(!0),children:"Reset to Defaults"})]}),l&&(0,Ct.jsx)("div",{className:"modal-overlay",children:(0,Ct.jsxs)("div",{className:"modal",children:[(0,Ct.jsx)("h3",{children:"Reset Configuration"}),(0,Ct.jsx)("p",{children:"Are you sure you want to reset all configuration to default values? This action cannot be undone."}),(0,Ct.jsxs)("div",{className:"modal-actions",children:[(0,Ct.jsx)("button",{className:"btn btn-danger",onClick:()=>{ji(Ai),s(ki()),c(!1)},children:"Reset"}),(0,Ct.jsx)("button",{className:"btn btn-secondary",onClick:()=>c(!1),children:"Cancel"})]})]})})]})};const Hi=function(){return(0,Ct.jsxs)("div",{className:"mif-page",children:[(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsxs)("div",{className:"mif-header",children:[(0,Ct.jsx)("h1",{children:"Minimum Income Floor (MIF) - Help Guide"}),(0,Ct.jsx)("p",{className:"subtitle",children:"Understanding how the MIF affects your Universal Credit as a self-employed person"})]}),(0,Ct.jsxs)("div",{className:"mif-content",children:[(0,Ct.jsx)("div",{className:"mif-section calculator-link-section",children:(0,Ct.jsxs)("div",{className:"calculator-intro",children:[(0,Ct.jsx)("h2",{children:"Calculate Your Minimum Income Floor"}),(0,Ct.jsx)("p",{className:"calculator-description",children:"Use our dedicated MIF calculator to find out exactly how much you need to earn each month to avoid MIF penalties."}),(0,Ct.jsx)("div",{className:"calculator-action",children:(0,Ct.jsx)(dt,{to:"/mif-calculator",className:"btn btn-primary btn-lg",children:"Open MIF Calculator Tool"})})]})}),(0,Ct.jsxs)("div",{className:"mif-section",children:[(0,Ct.jsx)("h2",{children:"What is the Minimum Income Floor?"}),(0,Ct.jsx)("p",{children:"The Minimum Income Floor (MIF) is a rule that applies to self-employed Universal Credit claimants. It assumes you earn at least the equivalent of working 35 hours per week at the National Living Wage, even if your actual earnings are lower."}),(0,Ct.jsxs)("div",{className:"key-points",children:[(0,Ct.jsx)("h3",{children:"Key Points:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Start-up Period:"}),' The MIF applies after a 12-month "start-up period" for new businesses']}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Calculation Basis:"})," It's calculated based on your age, family circumstances, and any disabilities"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Impact:"})," If your actual earnings are below the MIF, Universal Credit will be calculated using the MIF amount instead"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Purpose:"})," This can significantly affect your Universal Credit entitlement"]})]})]}),(0,Ct.jsx)("div",{className:"important-note",children:(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Important:"})," The MIF is designed to encourage self-employed people to work sufficient hours and earn enough to support themselves, similar to employed claimants."]})})]}),(0,Ct.jsxs)("div",{className:"mif-section",children:[(0,Ct.jsx)("h2",{children:"Real-World Examples"}),(0,Ct.jsxs)("div",{className:"example-card",children:[(0,Ct.jsx)("h3",{children:"Example 1: Sarah, Age 28, Single, No Children"}),(0,Ct.jsx)("p",{children:"Sarah is a freelance graphic designer who has been self-employed for 18 months (past the start-up period)."}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Her MIF:"})," \xa3311.68 per month (standard rate for 25+)"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Actual earnings:"})," \xa3200 per month"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Universal Credit calculation:"})," Uses \xa3311.68 instead of \xa3200"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Result:"})," Sarah's UC is reduced because the system assumes she earns more than she actually does"]})]})]}),(0,Ct.jsxs)("div",{className:"example-card",children:[(0,Ct.jsx)("h3",{children:"Example 2: James, Age 35, Partner (32), 2 Children"}),(0,Ct.jsx)("p",{children:"James runs a small gardening business with his partner. They have two children and have been self-employed for 2 years."}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"His MIF:"})," \xa3311.68 (standard rate) + \xa3244.11 (partner) + \xa3315.00 (first child) + \xa3315.00 (second child) = \xa31,185.79"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Actual earnings:"})," \xa3800 per month"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Universal Credit calculation:"})," Uses \xa31,185.79 instead of \xa3800"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Result:"})," James's UC is significantly reduced due to the large difference between actual and assumed earnings"]})]})]}),(0,Ct.jsxs)("div",{className:"example-card",children:[(0,Ct.jsx)("h3",{children:"Example 3: Maria, Age 22, Single, Has Disability"}),(0,Ct.jsx)("p",{children:"Maria is a young artist who has been self-employed for 15 months and has a disability."}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Her MIF:"})," \xa3246.58 (under 25) + \xa3146.31 (disability) = \xa3392.89"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Actual earnings:"})," \xa3350 per month"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Universal Credit calculation:"})," Uses \xa3392.89 instead of \xa3350"]}),(0,Ct.jsxs)("li",{children:[(0,Ct.jsx)("strong",{children:"Result:"})," Maria's UC is slightly reduced, but the disability element helps offset some of the MIF impact"]})]})]})]}),(0,Ct.jsxs)("div",{className:"mif-section",children:[(0,Ct.jsx)("h2",{children:"How to Avoid or Minimize MIF Impact"}),(0,Ct.jsxs)("div",{className:"strategy-grid",children:[(0,Ct.jsxs)("div",{className:"strategy-card",children:[(0,Ct.jsx)("h3",{children:"\ud83d\udcc8 Increase Your Earnings"}),(0,Ct.jsx)("p",{children:"Work towards earning at least your MIF amount each month. This could involve:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Taking on more clients or projects"}),(0,Ct.jsx)("li",{children:"Raising your prices"}),(0,Ct.jsx)("li",{children:"Diversifying your services"}),(0,Ct.jsx)("li",{children:"Working more hours"})]})]}),(0,Ct.jsxs)("div",{className:"strategy-card",children:[(0,Ct.jsx)("h3",{children:"\u23f0 Extend Your Start-up Period"}),(0,Ct.jsx)("p",{children:"If you're still in your first year of self-employment:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Focus on building your business"}),(0,Ct.jsx)("li",{children:"Don't worry about MIF yet"}),(0,Ct.jsx)("li",{children:"Use this time to establish your client base"}),(0,Ct.jsx)("li",{children:"Plan for when MIF will apply"})]})]}),(0,Ct.jsxs)("div",{className:"strategy-card",children:[(0,Ct.jsx)("h3",{children:"\ud83d\udcca Track Your Progress"}),(0,Ct.jsx)("p",{children:"Monitor your earnings against your MIF:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Keep detailed records of all income"}),(0,Ct.jsx)("li",{children:"Compare monthly earnings to MIF"}),(0,Ct.jsx)("li",{children:"Identify patterns and trends"}),(0,Ct.jsx)("li",{children:"Plan for seasonal variations"})]})]}),(0,Ct.jsxs)("div",{className:"strategy-card",children:[(0,Ct.jsx)("h3",{children:"\ud83d\udd04 Consider Employment Options"}),(0,Ct.jsx)("p",{children:"If MIF is consistently problematic:"}),(0,Ct.jsxs)("ul",{children:[(0,Ct.jsx)("li",{children:"Look for part-time employment"}),(0,Ct.jsx)("li",{children:"Combine self-employment with employed work"}),(0,Ct.jsx)("li",{children:"Consider business partnerships"}),(0,Ct.jsx)("li",{children:"Explore different business models"})]})]})]})]}),(0,Ct.jsxs)("div",{className:"mif-section",children:[(0,Ct.jsx)("h2",{children:"Additional Resources"}),(0,Ct.jsxs)("div",{className:"resources-grid",children:[(0,Ct.jsxs)("div",{className:"resource-card",children:[(0,Ct.jsx)("h3",{children:"\ud83d\udcda Official Guidance"}),(0,Ct.jsx)("p",{children:"Read the official DWP guidance on Minimum Income Floor for self-employed claimants."}),(0,Ct.jsx)("a",{href:"https://www.gov.uk/universal-credit/eligibility",target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline",children:"View DWP Guidance"})]}),(0,Ct.jsxs)("div",{className:"resource-card",children:[(0,Ct.jsx)("h3",{children:"\ud83d\udcbc Business Support"}),(0,Ct.jsx)("p",{children:"Get help with your business to increase earnings and avoid MIF penalties."}),(0,Ct.jsx)(dt,{to:"/self-employment-accounts",className:"btn btn-outline",children:"Business Support Tools"})]}),(0,Ct.jsxs)("div",{className:"resource-card",children:[(0,Ct.jsx)("h3",{children:"\ud83d\udcca Monthly Profit Tool"}),(0,Ct.jsx)("p",{children:"Track your monthly business performance to stay above your MIF threshold."}),(0,Ct.jsx)(dt,{to:"/monthly-profit",className:"btn btn-outline",children:"Use Monthly Profit Tool"})]})]})]})]})]}),(0,Ct.jsx)(sn,{showRelatedTools:!1})]})};const zi=function(){const[t,n]=(0,e.useState)({age:"",hasChildren:!1,hasPartner:!1,partnerAge:"",hasDisability:!1,hasLCWRA:!1}),i=(e,t)=>{n(n=>(0,a.A)((0,a.A)({},n),{},{[e]:t}))},{mifAmount:s,explanation:r}=(()=>{const{age:e,hasChildren:n,hasPartner:i,partnerAge:a,hasDisability:s,hasLCWRA:r}=t;let o=0,l=[];return e>=25?(o=311.68,l.push("Standard rate for claimants aged 25 and over: \xa3311.68")):(o=246.58,l.push("Standard rate for claimants under 25: \xa3246.58")),i&&(a>=25?(o+=244.11,l.push("Partner addition (25+): \xa3244.11")):(o+=193.62,l.push("Partner addition (under 25): \xa3193.62"))),n&&(o+=315,l.push("First child: \xa3315.00")),s&&(o+=146.31,l.push("Disability element: \xa3146.31")),r&&(o+=390.06,l.push("Limited Capability for Work and Work-Related Activity: \xa3390.06")),{mifAmount:o,explanation:l}})();return(0,Ct.jsx)("div",{className:"mif-calculator-page",children:(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsxs)("div",{className:"calculator-header",children:[(0,Ct.jsx)("h1",{children:"MIF Calculator"}),(0,Ct.jsx)("p",{className:"subtitle",children:"Calculate your Minimum Income Floor for Universal Credit"}),(0,Ct.jsx)(dt,{to:"/mif-help-guide",className:"back-link",children:"\u2190 Back to MIF Help Guide"})]}),(0,Ct.jsxs)("div",{className:"calculator-content",children:[(0,Ct.jsxs)("div",{className:"calculator-section",children:[(0,Ct.jsx)("h2",{children:"Enter Your Details"}),(0,Ct.jsx)("p",{children:"Fill in your information to calculate your Minimum Income Floor."}),(0,Ct.jsxs)("div",{className:"mif-form",children:[(0,Ct.jsxs)("div",{className:"form-row",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"age",children:"Your Age *"}),(0,Ct.jsx)("input",{type:"number",id:"age",value:t.age,onChange:e=>i("age",e.target.value),className:"form-control",placeholder:"Enter your age",min:"16",max:"100"})]}),(0,Ct.jsx)("div",{className:"form-group",children:(0,Ct.jsxs)("label",{children:[(0,Ct.jsx)("input",{type:"checkbox",checked:t.hasPartner,onChange:e=>i("hasPartner",e.target.checked)}),"Do you have a partner?"]})})]}),t.hasPartner&&(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{htmlFor:"partnerAge",children:"Partner's Age *"}),(0,Ct.jsx)("input",{type:"number",id:"partnerAge",value:t.partnerAge,onChange:e=>i("partnerAge",e.target.value),className:"form-control",placeholder:"Enter partner's age",min:"16",max:"100"})]}),(0,Ct.jsxs)("div",{className:"form-row",children:[(0,Ct.jsx)("div",{className:"form-group",children:(0,Ct.jsxs)("label",{children:[(0,Ct.jsx)("input",{type:"checkbox",checked:t.hasChildren,onChange:e=>i("hasChildren",e.target.checked)}),"Do you have children?"]})}),(0,Ct.jsx)("div",{className:"form-group",children:(0,Ct.jsxs)("label",{children:[(0,Ct.jsx)("input",{type:"checkbox",checked:t.hasDisability,onChange:e=>i("hasDisability",e.target.checked)}),"Do you have a disability?"]})}),(0,Ct.jsx)("div",{className:"form-group",children:(0,Ct.jsxs)("label",{children:[(0,Ct.jsx)("input",{type:"checkbox",checked:t.hasLCWRA,onChange:e=>i("hasLCWRA",e.target.checked)}),"Do you have LCWRA (Limited Capability for Work and Work-Related Activity)?"]})})]})]}),t.age&&(0,Ct.jsxs)("div",{className:"mif-results",children:[(0,Ct.jsx)("h3",{children:"Your Minimum Income Floor"}),(0,Ct.jsxs)("div",{className:"mif-amount",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Monthly MIF:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",s.toFixed(2)]})]}),(0,Ct.jsxs)("div",{className:"mif-breakdown",children:[(0,Ct.jsx)("h4",{children:"Breakdown:"}),(0,Ct.jsx)("ul",{children:r.map((e,t)=>(0,Ct.jsx)("li",{children:e},t))})]}),(0,Ct.jsx)("div",{className:"mif-note",children:(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Note:"})," This is an estimate. Your actual MIF may vary based on specific circumstances. The MIF applies after your 12-month start-up period ends."]})})]})]}),(0,Ct.jsxs)("div",{className:"info-section",children:[(0,Ct.jsx)("h3",{children:"What This Means"}),(0,Ct.jsx)("p",{children:"Your Minimum Income Floor (MIF) is the amount Universal Credit assumes you earn each month, even if your actual earnings are lower. If you earn less than this amount, your Universal Credit will be calculated using the MIF instead of your actual earnings."}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Target:"})," Aim to earn at least \xa3",t.age?s.toFixed(2):"0.00"," per month to avoid MIF penalties."]})]})]})]})})};const Ui=function(){const e={name:"Housing Reviews Standard Amounts",description:"Standard amounts based on Housing Reviews Assessing Affordability Guidance",source:"Housing Reviews Guidance",lastUpdated:"2024",note:"These are typical affordability standards used in housing reviews. Rent amounts should be calculated based on income and local housing costs."};return(0,Ct.jsx)("div",{className:"housing-review-amounts",children:(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsxs)("header",{className:"page-header",children:[(0,Ct.jsx)("h1",{children:"Housing Review Standard Amounts"}),(0,Ct.jsx)("div",{className:"adviser-only-notice",children:(0,Ct.jsx)("p",{children:(0,Ct.jsx)("strong",{children:"This page will only be available to advisers"})})})]}),(0,Ct.jsxs)("div",{className:"content-section",children:[(0,Ct.jsxs)("div",{className:"data-source-info",children:[(0,Ct.jsx)("h2",{children:"Data Source Information"}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Source:"})," ",e.name]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Description:"})," ",e.description]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Based on:"})," ",e.source]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Last Updated:"})," ",e.lastUpdated]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Note:"})," ",e.note]})]}),(0,Ct.jsxs)("div",{className:"amounts-section",children:[(0,Ct.jsx)("h2",{children:"Standard Amounts by Household Type"}),(0,Ct.jsx)("p",{className:"section-description",children:"The following amounts are used as standard affordability guidelines in housing reviews. Rent amounts are calculated as 30% of monthly income and are not shown as fixed amounts."}),(0,Ct.jsx)("div",{className:"household-types-grid",children:Object.entries(Ii).map(e=>{let[t,n]=e;const i=Ri(t);return(0,Ct.jsxs)("div",{className:"household-type-card",children:[(0,Ct.jsx)("h3",{children:n}),(0,Ct.jsxs)("div",{className:"amounts-list",children:[(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Rent:"}),(0,Ct.jsx)("span",{className:"amount-value",children:"30% of monthly income"})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Council Tax:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.councilTax]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Gas & Electricity:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.gasAndElectricity]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Water:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.water]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Broadband:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.broadband]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Food:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.food]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Transport:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.transport]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Phone:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.phone]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Clothing:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.clothing]})]}),i.childcare>0&&(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Childcare:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.childcare]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Debt Payments:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.debtPayments," (user defined)"]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Other Expenses:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.otherExpenses]})]})]})]},t)})})]}),(0,Ct.jsxs)("div",{className:"usage-section",children:[(0,Ct.jsx)("h2",{children:"How to Use These Amounts"}),(0,Ct.jsxs)("div",{className:"usage-info",children:[(0,Ct.jsx)("h3",{children:"In the Budgeting Tool:"}),(0,Ct.jsxs)("ol",{children:[(0,Ct.jsx)("li",{children:"Go to the Budgeting Tool"}),(0,Ct.jsx)("li",{children:'Click "Pre-fill with Standard Amounts"'}),(0,Ct.jsx)("li",{children:'Select "Housing Reviews Standard Amounts" from the Data Source dropdown'}),(0,Ct.jsx)("li",{children:"Choose your household type"}),(0,Ct.jsx)("li",{children:'Click "Pre-fill Budget" to populate the form with these amounts'})]}),(0,Ct.jsx)("h3",{children:"Rent Calculation:"}),(0,Ct.jsx)("p",{children:"Rent amounts are calculated as 30% of your monthly income. This is the standard affordability ratio used in housing reviews. If you enter your monthly income in the wages field, the rent amount will be automatically calculated."}),(0,Ct.jsx)("h3",{children:"Customization:"}),(0,Ct.jsx)("p",{children:"These amounts serve as starting points. You can adjust any amount in the budgeting tool to better reflect your personal circumstances."})]})]}),(0,Ct.jsx)("div",{className:"back-link",children:(0,Ct.jsx)(dt,{to:"/budgeting-tool",className:"btn btn-primary",children:"\u2190 Back to Budgeting Tool"})})]})]})})};const qi=function(){const e={source:"Office for National Statistics",publication:"Household Costs Indices for UK household groups: April to June 2025",url:"https://www.ons.gov.uk/economy/inflationandpriceindices/bulletins/householdcostsindicesforukhouseholdgroups/apriltojune2025",lastUpdated:"June 2025",disclaimer:"These are estimated averages based on ONS data. Individual circumstances may vary significantly."};return(0,Ct.jsx)("div",{className:"ons-standard-amounts",children:(0,Ct.jsxs)("div",{className:"container",children:[(0,Ct.jsxs)("header",{className:"page-header",children:[(0,Ct.jsx)("h1",{children:"ONS Standard Amounts"}),(0,Ct.jsx)("div",{className:"adviser-only-notice",children:(0,Ct.jsx)("p",{children:(0,Ct.jsx)("strong",{children:"This page will only be available to advisers"})})})]}),(0,Ct.jsxs)("div",{className:"content-section",children:[(0,Ct.jsxs)("div",{className:"data-source-info",children:[(0,Ct.jsx)("h2",{children:"Data Source Information"}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Source:"})," ",e.source]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Publication:"})," ",e.publication]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Last Updated:"})," ",e.lastUpdated]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"URL:"})," ",(0,Ct.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:e.url})]}),(0,Ct.jsxs)("p",{children:[(0,Ct.jsx)("strong",{children:"Disclaimer:"})," ",e.disclaimer]})]}),(0,Ct.jsxs)("div",{className:"inflation-section",children:[(0,Ct.jsx)("h2",{children:"Inflation Rates by Household Type"}),(0,Ct.jsx)("p",{className:"section-description",children:"Current inflation rates from ONS Household Costs Indices (June 2025). These rates can be used to adjust amounts for future periods."}),(0,Ct.jsx)("div",{className:"inflation-grid",children:Object.entries(Li).map(e=>{let[t,n]=e;return(0,Ct.jsxs)("div",{className:"inflation-item",children:[(0,Ct.jsx)("span",{className:"household-type",children:Si[t]}),(0,Ct.jsxs)("span",{className:"inflation-rate",children:[n,"%"]})]},t)})})]}),(0,Ct.jsxs)("div",{className:"amounts-section",children:[(0,Ct.jsx)("h2",{children:"Standard Amounts by Household Type"}),(0,Ct.jsx)("p",{className:"section-description",children:"The following amounts are based on ONS Household Costs Indices and Living Costs and Food Survey data. These represent estimated monthly averages for different household types."}),(0,Ct.jsx)("div",{className:"household-types-grid",children:Object.entries(Si).map(e=>{let[t,n]=e;const i=Ti(t);return i?(0,Ct.jsxs)("div",{className:"household-type-card",children:[(0,Ct.jsx)("h3",{children:n}),(0,Ct.jsxs)("div",{className:"amounts-list",children:[i.rent>0&&(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Rent:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.rent]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Council Tax:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.councilTax]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Gas & Electricity:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.gasAndElectricity]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Water:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.water]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Broadband:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.broadband]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Food:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.food]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Transport:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.transport]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Phone:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.phone]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Clothing:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.clothing]})]}),i.childcare>0&&(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Childcare:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.childcare]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Debt Payments:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.debtPayments]})]}),(0,Ct.jsxs)("div",{className:"amount-item",children:[(0,Ct.jsx)("span",{className:"amount-label",children:"Other Expenses:"}),(0,Ct.jsxs)("span",{className:"amount-value",children:["\xa3",i.otherExpenses]})]})]})]},t):null})})]}),(0,Ct.jsxs)("div",{className:"usage-section",children:[(0,Ct.jsx)("h2",{children:"How to Use These Amounts"}),(0,Ct.jsxs)("div",{className:"usage-info",children:[(0,Ct.jsx)("h3",{children:"In the Budgeting Tool:"}),(0,Ct.jsxs)("ol",{children:[(0,Ct.jsx)("li",{children:"Go to the Budgeting Tool"}),(0,Ct.jsx)("li",{children:'Click "Pre-fill with Standard Amounts"'}),(0,Ct.jsx)("li",{children:'Select "ONS Data" from the Data Source dropdown'}),(0,Ct.jsx)("li",{children:"Choose your household type"}),(0,Ct.jsx)("li",{children:'Click "Pre-fill Budget" to populate the form with these amounts'})]}),(0,Ct.jsx)("h3",{children:"About ONS Data:"}),(0,Ct.jsx)("p",{children:"These amounts are based on official statistics from the Office for National Statistics, specifically the Household Costs Indices and Living Costs and Food Survey. They represent average spending patterns for different household types across the UK."}),(0,Ct.jsx)("h3",{children:"Inflation Adjustments:"}),(0,Ct.jsx)("p",{children:"The inflation rates shown above can be used to adjust these amounts for different time periods. Each household type has its own inflation rate based on their typical spending patterns."}),(0,Ct.jsx)("h3",{children:"Customization:"}),(0,Ct.jsx)("p",{children:"These amounts serve as starting points based on national averages. You can adjust any amount in the budgeting tool to better reflect your personal circumstances and local area costs."})]})]}),(0,Ct.jsx)("div",{className:"back-link",children:(0,Ct.jsx)(dt,{to:"/budgeting-tool",className:"btn btn-primary",children:"\u2190 Back to Budgeting Tool"})})]})]})})};var Gi=n(5173);function Vi(e,t,n,i){return new(n||(n=Promise))(function(a,s){function r(e){try{l(i.next(e))}catch(yN){s(yN)}}function o(e){try{l(i.throw(e))}catch(yN){s(yN)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(r,o)}l((i=i.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const Yi=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ki(e,t,n){const i=function(e){const{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){const n=t.split(".").pop().toLowerCase(),i=Yi.get(n);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:a}=e,s="string"===typeof t?t:"string"===typeof a&&a.length>0?a:"./".concat(e.name);return"string"!==typeof i.path&&Xi(i,"path",s),void 0!==n&&Object.defineProperty(i,"handle",{value:n,writable:!1,configurable:!1,enumerable:!0}),Xi(i,"relativePath",s),i}function Xi(e,t,n){Object.defineProperty(e,t,{value:n,writable:!1,configurable:!1,enumerable:!0})}const Ji=[".DS_Store","Thumbs.db"];function Qi(e){return"object"===typeof e&&null!==e}function Zi(e){return e.filter(e=>-1===Ji.indexOf(e.name))}function $i(e){if(null===e)return[];const t=[];for(let n=0;n<e.length;n++){const i=e[n];t.push(i)}return t}function ea(e){if("function"!==typeof e.webkitGetAsEntry)return na(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?aa(t):na(e,t)}function ta(e){return e.reduce((e,t)=>[...e,...Array.isArray(t)?ta(t):[t]],[])}function na(e,t){return Vi(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&"function"===typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error("".concat(e," is not a File"));if(void 0!==t){const e=yield t.getFile();return e.handle=t,Ki(e)}}const i=e.getAsFile();if(!i)throw new Error("".concat(e," is not a File"));return Ki(i,null!==(n=null===t||void 0===t?void 0:t.fullPath)&&void 0!==n?n:void 0)})}function ia(e){return Vi(this,void 0,void 0,function*(){return e.isDirectory?aa(e):function(e){return Vi(this,void 0,void 0,function*(){return new Promise((t,n)=>{e.file(n=>{const i=Ki(n,e.fullPath);t(i)},e=>{n(e)})})})}(e)})}function aa(e){const t=e.createReader();return new Promise((e,n)=>{const i=[];!function a(){t.readEntries(t=>Vi(this,void 0,void 0,function*(){if(t.length){const e=Promise.all(t.map(ia));i.push(e),a()}else try{const t=yield Promise.all(i);e(t)}catch(s){n(s)}}),e=>{n(e)})}()})}var sa=n(8628);function ra(e){return function(e){if(Array.isArray(e))return ua(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ha(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(n),!0).forEach(function(t){ca(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oa(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ca(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function da(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,a,s=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==n.return||n.return()}finally{if(o)throw a}}return s}(e,t)||ha(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ha(e,t){if(e){if("string"===typeof e)return ua(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ua(e,t):void 0}}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var pa="function"===typeof sa?sa:sa.default,ma="file-invalid-type",fa="file-too-large",ga="file-too-small",va="too-many-files",ba=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:ma,message:"File type must be ".concat(t)}},ya=function(e){return{code:fa,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},xa=function(e){return{code:ga,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},wa={code:va,message:"Too many files"};function Na(e,t){var n="application/x-moz-file"===e.type||pa(e,t);return[n,n?null:ba(t)]}function Aa(e,t,n){if(ka(e.size))if(ka(t)&&ka(n)){if(e.size>n)return[!1,ya(n)];if(e.size<t)return[!1,xa(t)]}else{if(ka(t)&&e.size<t)return[!1,xa(t)];if(ka(n)&&e.size>n)return[!1,ya(n)]}return[!0,null]}function ka(e){return void 0!==e&&null!==e}function ja(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function Ca(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function _a(e){e.preventDefault()}function Sa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.some(function(t){return!ja(e)&&t&&t.apply(void 0,[e].concat(i)),ja(e)})}}function Ea(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function Ma(e){return/^.*\.[\w]+$/.test(e)}var Pa=["children"],La=["open"],Ta=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ia=["refKey","onChange","onClick"];function Fa(e){return function(e){if(Array.isArray(e))return Ba(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Da(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ra(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,a,s=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);r=!0);}catch(l){o=!0,a=l}finally{try{r||null==n.return||n.return()}finally{if(o)throw a}}return s}(e,t)||Da(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Da(e,t){if(e){if("string"===typeof e)return Ba(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ba(e,t):void 0}}function Ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach(function(t){Ha(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function za(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Ua=(0,e.forwardRef)(function(t,n){var i=t.children,a=Va(za(t,Pa)),s=a.open,r=za(a,La);return(0,e.useImperativeHandle)(n,function(){return{open:s}},[s]),e.createElement(e.Fragment,null,i(Wa(Wa({},r),{},{open:s})))});Ua.displayName="Dropzone";var qa={disabled:!1,getFilesFromEvent:function(e){return Vi(this,void 0,void 0,function*(){return Qi(e)&&Qi(e.dataTransfer)?function(e,t){return Vi(this,void 0,void 0,function*(){if(e.items){const n=$i(e.items).filter(e=>"file"===e.kind);if("drop"!==t)return n;return Zi(ta(yield Promise.all(n.map(ea))))}return Zi($i(e.files).map(e=>Ki(e)))})}(e.dataTransfer,e.type):function(e){return Qi(e)&&Qi(e.target)}(e)?function(e){return $i(e.target.files).map(e=>Ki(e))}(e):Array.isArray(e)&&e.every(e=>"getFile"in e&&"function"===typeof e.getFile)?function(e){return Vi(this,void 0,void 0,function*(){return(yield Promise.all(e.map(e=>e.getFile()))).map(e=>Ki(e))})}(e):[]})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Ua.defaultProps=qa,Ua.propTypes={children:Gi.func,accept:Gi.objectOf(Gi.arrayOf(Gi.string)),multiple:Gi.bool,preventDropOnDocument:Gi.bool,noClick:Gi.bool,noKeyboard:Gi.bool,noDrag:Gi.bool,noDragEventsBubbling:Gi.bool,minSize:Gi.number,maxSize:Gi.number,maxFiles:Gi.number,disabled:Gi.bool,getFilesFromEvent:Gi.func,onFileDialogCancel:Gi.func,onFileDialogOpen:Gi.func,useFsAccessApi:Gi.bool,autoFocus:Gi.bool,onDragEnter:Gi.func,onDragLeave:Gi.func,onDragOver:Gi.func,onDrop:Gi.func,onDropAccepted:Gi.func,onDropRejected:Gi.func,onError:Gi.func,validator:Gi.func};var Ga={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Va(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Wa(Wa({},qa),t),i=n.accept,a=n.disabled,s=n.getFilesFromEvent,r=n.maxSize,o=n.minSize,l=n.multiple,c=n.maxFiles,d=n.onDragEnter,h=n.onDragLeave,u=n.onDragOver,p=n.onDrop,m=n.onDropAccepted,f=n.onDropRejected,g=n.onFileDialogCancel,v=n.onFileDialogOpen,b=n.useFsAccessApi,y=n.autoFocus,x=n.preventDropOnDocument,w=n.noClick,N=n.noKeyboard,A=n.noDrag,k=n.noDragEventsBubbling,j=n.onError,C=n.validator,_=(0,e.useMemo)(function(){return function(e){if(ka(e))return Object.entries(e).reduce(function(e,t){var n=da(t,2),i=n[0],a=n[1];return[].concat(ra(e),[i],ra(a))},[]).filter(function(e){return Ea(e)||Ma(e)}).join(",")}(i)},[i]),S=(0,e.useMemo)(function(){return function(e){return ka(e)?[{description:"Files",accept:Object.entries(e).filter(function(e){var t=da(e,2),n=t[0],i=t[1],a=!0;return Ea(n)||(console.warn('Skipped "'.concat(n,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),a=!1),Array.isArray(i)&&i.every(Ma)||(console.warn('Skipped "'.concat(n,'" because an invalid file extension was provided.')),a=!1),a}).reduce(function(e,t){var n=da(t,2),i=n[0],a=n[1];return la(la({},e),{},ca({},i,a))},{})}]:e}(i)},[i]),E=(0,e.useMemo)(function(){return"function"===typeof v?v:Ka},[v]),M=(0,e.useMemo)(function(){return"function"===typeof g?g:Ka},[g]),P=(0,e.useRef)(null),L=(0,e.useRef)(null),T=Ra((0,e.useReducer)(Ya,Ga),2),I=T[0],F=T[1],R=I.isFocused,D=I.isFileDialogActive,B=(0,e.useRef)("undefined"!==typeof window&&window.isSecureContext&&b&&"showOpenFilePicker"in window),O=function(){!B.current&&D&&setTimeout(function(){L.current&&(L.current.files.length||(F({type:"closeDialog"}),M()))},300)};(0,e.useEffect)(function(){return window.addEventListener("focus",O,!1),function(){window.removeEventListener("focus",O,!1)}},[L,D,M,B]);var W=(0,e.useRef)([]),H=function(e){P.current&&P.current.contains(e.target)||(e.preventDefault(),W.current=[])};(0,e.useEffect)(function(){return x&&(document.addEventListener("dragover",_a,!1),document.addEventListener("drop",H,!1)),function(){x&&(document.removeEventListener("dragover",_a),document.removeEventListener("drop",H))}},[P,x]),(0,e.useEffect)(function(){return!a&&y&&P.current&&P.current.focus(),function(){}},[P,y,a]);var z=(0,e.useCallback)(function(e){j?j(e):console.error(e)},[j]),U=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e),W.current=[].concat(Fa(W.current),[e.target]),Ca(e)&&Promise.resolve(s(e)).then(function(t){if(!ja(e)||k){var n=t.length,i=n>0&&function(e){var t=e.files,n=e.accept,i=e.minSize,a=e.maxSize,s=e.multiple,r=e.maxFiles,o=e.validator;return!(!s&&t.length>1||s&&r>=1&&t.length>r)&&t.every(function(e){var t=da(Na(e,n),1)[0],s=da(Aa(e,i,a),1)[0],r=o?o(e):null;return t&&s&&!r})}({files:t,accept:_,minSize:o,maxSize:r,multiple:l,maxFiles:c,validator:C});F({isDragAccept:i,isDragReject:n>0&&!i,isDragActive:!0,type:"setDraggedFiles"}),d&&d(e)}}).catch(function(e){return z(e)})},[s,d,z,k,_,o,r,l,c,C]),q=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e);var t=Ca(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&u&&u(e),!1},[u,k]),G=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e);var t=W.current.filter(function(e){return P.current&&P.current.contains(e)}),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),W.current=t,t.length>0||(F({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ca(e)&&h&&h(e))},[P,h,k]),V=(0,e.useCallback)(function(e,t){var n=[],i=[];e.forEach(function(e){var t=Ra(Na(e,_),2),a=t[0],s=t[1],l=Ra(Aa(e,o,r),2),c=l[0],d=l[1],h=C?C(e):null;if(a&&c&&!h)n.push(e);else{var u=[s,d];h&&(u=u.concat(h)),i.push({file:e,errors:u.filter(function(e){return e})})}}),(!l&&n.length>1||l&&c>=1&&n.length>c)&&(n.forEach(function(e){i.push({file:e,errors:[wa]})}),n.splice(0)),F({acceptedFiles:n,fileRejections:i,isDragReject:i.length>0,type:"setFiles"}),p&&p(n,i,t),i.length>0&&f&&f(i,t),n.length>0&&m&&m(n,t)},[F,l,_,o,r,c,p,m,f,C]),Y=(0,e.useCallback)(function(e){e.preventDefault(),e.persist(),ne(e),W.current=[],Ca(e)&&Promise.resolve(s(e)).then(function(t){ja(e)&&!k||V(t,e)}).catch(function(e){return z(e)}),F({type:"reset"})},[s,V,z,k]),K=(0,e.useCallback)(function(){if(B.current){F({type:"openDialog"}),E();var e={multiple:l,types:S};window.showOpenFilePicker(e).then(function(e){return s(e)}).then(function(e){V(e,null),F({type:"closeDialog"})}).catch(function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(M(e),F({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?z(e):(B.current=!1,L.current?(L.current.value=null,L.current.click()):z(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))})}else L.current&&(F({type:"openDialog"}),E(),L.current.value=null,L.current.click())},[F,E,M,b,V,z,S,l]),X=(0,e.useCallback)(function(e){P.current&&P.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),K()))},[P,K]),J=(0,e.useCallback)(function(){F({type:"focus"})},[]),Q=(0,e.useCallback)(function(){F({type:"blur"})},[]),Z=(0,e.useCallback)(function(){w||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?K():setTimeout(K,0))},[w,K]),$=function(e){return a?null:e},ee=function(e){return N?null:$(e)},te=function(e){return A?null:$(e)},ne=function(e){k&&e.stopPropagation()},ie=(0,e.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.role,s=e.onKeyDown,r=e.onFocus,o=e.onBlur,l=e.onClick,c=e.onDragEnter,d=e.onDragOver,h=e.onDragLeave,u=e.onDrop,p=za(e,Ta);return Wa(Wa(Ha({onKeyDown:ee(Sa(s,X)),onFocus:ee(Sa(r,J)),onBlur:ee(Sa(o,Q)),onClick:$(Sa(l,Z)),onDragEnter:te(Sa(c,U)),onDragOver:te(Sa(d,q)),onDragLeave:te(Sa(h,G)),onDrop:te(Sa(u,Y)),role:"string"===typeof i&&""!==i?i:"presentation"},n,P),a||N?{}:{tabIndex:0}),p)}},[P,X,J,Q,Z,U,q,G,Y,N,A,a]),ae=(0,e.useCallback)(function(e){e.stopPropagation()},[]),se=(0,e.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,i=e.onChange,a=e.onClick,s=za(e,Ia);return Wa(Wa({},Ha({accept:_,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:$(Sa(i,Y)),onClick:$(Sa(a,ae)),tabIndex:-1},n,L)),s)}},[L,i,l,Y,a]);return Wa(Wa({},I),{},{isFocused:R&&!a,getRootProps:ie,getInputProps:se,rootRef:P,inputRef:L,open:$(K)})}function Ya(e,t){switch(t.type){case"focus":return Wa(Wa({},e),{},{isFocused:!0});case"blur":return Wa(Wa({},e),{},{isFocused:!1});case"openDialog":return Wa(Wa({},Ga),{},{isFileDialogActive:!0});case"closeDialog":return Wa(Wa({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Wa(Wa({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Wa(Wa({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return Wa({},Ga);default:return e}}function Ka(){}var Xa=n(1389),Ja=n(1257),Qa=n.n(Ja);function Za(e,t,n){t||(t=[]);var i=t.length++;return Object.defineProperty({},"_",{set:function(a){t[i]=a,e.apply(n,t)}})}function $a(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function es(e,t){$a(e,t),t.add(e)}function ts(e,t,n){$a(e,t),t.set(e,n)}function ns(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function is(e,t,n){return n(ns(e,t))}function as(e,t){return e.get(ns(e,t))}function ss(e,t,n){return e.set(ns(e,t),n),n}var rs,os,ls,cs,ds,hs,us,ps,ms,fs,gs,vs,bs,ys,xs,ws=n(4980);function Ns(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return Ns=function(e){this.s=e,this.n=e.next},Ns.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Ns(e)}const As="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),ks=[.001,0,0,.001,0,0],js=1.35,Cs=1,_s=2,Ss=4,Es=16,Ms=32,Ps=64,Ls=128,Ts=256,Is={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Fs="pdfjs_internal_editor_",Rs={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ds={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Bs=0,Os=1,Ws=2,Hs=3,zs=3,Us=4,qs={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Gs={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Vs=1,Ys=2,Ks=3,Xs=4,Js=5,Qs={ERRORS:0,WARNINGS:1,INFOS:5},Zs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},$s=0,er=1,tr=2,nr=3;let ir=Qs.WARNINGS;function ar(e){Number.isInteger(e)&&(ir=e)}function sr(){return ir}function rr(e){ir>=Qs.INFOS&&console.log("Info: ".concat(e))}function or(e){ir>=Qs.WARNINGS&&console.log("Warning: ".concat(e))}function lr(e){throw new Error(e)}function cr(e,t){e||lr(t)}function dr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch(a){}}const i=t?URL.parse(e,t):URL.parse(e);return function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i)?i:null}function hr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=URL.parse(e);return i?(i.hash=t,i.href):n&&dr(e,"http://example.com")?e.split("#",1)[0]+"".concat(t?"#".concat(t):""):""}function ur(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const pr=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class mr extends pr{constructor(e,t){super(e,"PasswordException"),this.code=t}}class fr extends pr{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class gr extends pr{constructor(e){super(e,"InvalidPDFException")}}class vr extends pr{constructor(e,t,n){super(e,"ResponseException"),this.status=t,this.missing=n}}class br extends pr{constructor(e){super(e,"FormatError")}}class yr extends pr{constructor(e){super(e,"AbortException")}}function xr(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||lr("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const i=[];for(let a=0;a<t;a+=n){const s=Math.min(a+n,t),r=e.subarray(a,s);i.push(String.fromCharCode.apply(null,r))}return i.join("")}function wr(e){"string"!==typeof e&&lr("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let i=0;i<t;++i)n[i]=255&e.charCodeAt(i);return n}class Nr{static get isLittleEndian(){return ur(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return ur(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return ur(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get isImageDecoderSupported(){return ur(this,"isImageDecoderSupported","undefined"!==typeof ImageDecoder)}static get platform(){const{platform:e,userAgent:t}=navigator;return ur(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return ur(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Ar=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));class kr{static makeHexColor(e,t,n){return"#".concat(Ar[e]).concat(Ar[t]).concat(Ar[n])}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=e[n],a=e[n+1];e[n]=i*t[0]+a*t[2]+t[4],e[n+1]=i*t[1]+a*t[3]+t[5]}static applyTransformToBezier(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=t[0],a=t[1],s=t[2],r=t[3],o=t[4],l=t[5];for(let c=0;c<6;c+=2){const t=e[n+c],d=e[n+c+1];e[n+c]=t*i+d*s+o,e[n+c+1]=t*a+d*r+l}}static applyInverseTransform(e,t){const n=e[0],i=e[1],a=t[0]*t[3]-t[1]*t[2];e[0]=(n*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/a,e[1]=(-n*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/a}static axialAlignedBoundingBox(e,t,n){const i=t[0],a=t[1],s=t[2],r=t[3],o=t[4],l=t[5],c=e[0],d=e[1],h=e[2],u=e[3];let p=i*c+o,m=p,f=i*h+o,g=f,v=r*d+l,b=v,y=r*u+l,x=y;if(0!==a||0!==s){const e=a*c,t=a*h,n=s*d,i=s*u;p+=n,g+=n,f+=i,m+=i,v+=e,x+=e,y+=t,b+=t}n[0]=Math.min(n[0],p,f,m,g),n[1]=Math.min(n[1],v,y,b,x),n[2]=Math.max(n[2],p,f,m,g),n[3]=Math.max(n[3],v,y,b,x)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const n=e[0],i=e[1],a=e[2],s=e[3],r=n**2+i**2,o=n*a+i*s,l=a**2+s**2,c=(r+l)/2,d=Math.sqrt(c**2-(r*l-o**2));t[0]=Math.sqrt(c+d||1),t[1]=Math.sqrt(c-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return a>s?null:[n,a,i,s]}static pointBoundingBox(e,t,n){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}static rectBoundingBox(e,t,n,i,a){a[0]=Math.min(a[0],e,n),a[1]=Math.min(a[1],t,i),a[2]=Math.max(a[2],e,n),a[3]=Math.max(a[3],t,i)}static bezierBoundingBox(e,t,n,i,a,s,r,o,l){l[0]=Math.min(l[0],e,r),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,r),l[3]=Math.max(l[3],t,o),ns(kr,this,Cr).call(this,e,n,a,r,t,i,s,o,3*(3*(n-a)-e+r),6*(e-2*n+a),3*(n-e),l),ns(kr,this,Cr).call(this,e,n,a,r,t,i,s,o,3*(3*(i-s)-t+o),6*(t-2*i+s),3*(i-t),l)}}function jr(e,t,n,i,a,s,r,o,l,c){if(l<=0||l>=1)return;const d=1-l,h=l*l,u=h*l,p=d*(d*(d*e+3*l*t)+3*h*n)+u*i,m=d*(d*(d*a+3*l*s)+3*h*r)+u*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],m),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],m)}function Cr(e,t,n,i,a,s,r,o,l,c,d,h){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&ns(rs,this,jr).call(this,e,t,n,i,a,s,r,o,-d/c,h));const u=c**2-4*d*l;if(u<0)return;const p=Math.sqrt(u),m=2*l;ns(rs,this,jr).call(this,e,t,n,i,a,s,r,o,(-c+p)/m,h),ns(rs,this,jr).call(this,e,t,n,i,a,s,r,o,(-c-p)/m,h)}rs=kr;let _r=null,Sr=null;function Er(){if("function"===typeof crypto.randomUUID)return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),xr(e)}const Mr="pdfjs_internal_id_";function Pr(e,t,n){return Math.min(Math.max(e,t),n)}function Lr(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(xr(e))}"function"!==typeof Promise.try&&(Promise.try=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return new Promise(t=>{t(e(...n))})}),"function"!==typeof Math.sumPrecise&&(Math.sumPrecise=function(e){return e.reduce((e,t)=>e+t,0)});const Tr="http://www.w3.org/2000/svg";class Ir{}async function Fr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(Hr(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType=t,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE)if(200!==a.status&&0!==a.status)i(new Error(a.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(a.response)}n(a.responseText)}},a.send(null)})}os=Ir,(0,ws.A)(Ir,"CSS",96),(0,ws.A)(Ir,"PDF",72),(0,ws.A)(Ir,"PDF_TO_CSS_UNITS",os.CSS/os.PDF);class Rr{constructor(e){let{viewBox:t,userUnit:n,scale:i,rotation:a,offsetX:s=0,offsetY:r=0,dontFlip:o=!1}=e;this.viewBox=t,this.userUnit=n,this.scale=i,this.rotation=a,this.offsetX=s,this.offsetY=r,i*=n;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let d,h,u,p,m,f,g,v;switch(a%=360,a<0&&(a+=360),a){case 180:d=-1,h=0,u=0,p=1;break;case 90:d=0,h=1,u=1,p=0;break;case 270:d=0,h=-1,u=-1,p=0;break;case 0:d=1,h=0,u=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(u=-u,p=-p),0===d?(m=Math.abs(c-t[1])*i+s,f=Math.abs(l-t[0])*i+r,g=(t[3]-t[1])*i,v=(t[2]-t[0])*i):(m=Math.abs(l-t[0])*i+s,f=Math.abs(c-t[1])*i+r,g=(t[2]-t[0])*i,v=(t[3]-t[1])*i),this.transform=[d*i,h*i,u*i,p*i,m-d*i*l-u*i*c,f-h*i*l-p*i*c],this.width=g,this.height=v}get rawDims(){const e=this.viewBox;return ur(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Rr({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:a})}convertToViewportPoint(e,t){const n=[e,t];return kr.applyTransform(n,this.transform),n}convertToViewportRectangle(e){const t=[e[0],e[1]];kr.applyTransform(t,this.transform);const n=[e[2],e[3]];return kr.applyTransform(n,this.transform),[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){const n=[e,t];return kr.applyInverseTransform(n,this.transform),n}}class Dr extends pr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function Br(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function Or(e){return"string"===typeof e&&/\.pdf$/i.test(e)}class Wr{constructor(){(0,ws.A)(this,"started",Object.create(null)),(0,ws.A)(this,"times",[])}time(e){e in this.started&&or("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||or("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:a}of this.times)e.push("".concat(n.padEnd(t)," ").concat(a-i,"ms\n"));return e.join("")}}function Hr(e,t){const n=t?URL.parse(e,t):URL.parse(e);return"http:"===(null===n||void 0===n?void 0:n.protocol)||"https:"===(null===n||void 0===n?void 0:n.protocol)}function zr(e){e.preventDefault()}function Ur(e){e.preventDefault(),e.stopPropagation()}class qr{static toDateObject(e){if(e instanceof Date)return e;if(!e||"string"!==typeof e)return null;ns(qr,this,Gr)._||(Gr._=ns(qr,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const t=ns(qr,this,Gr)._.exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let a=parseInt(t[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let r=parseInt(t[5],10);r=r>=0&&r<=59?r:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,"-"===l?(s+=c,r+=d):"+"===l&&(s-=c,r-=d),new Date(Date.UTC(n,i,a,s,r,o))}}var Gr={_:void 0};function Vr(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(e=>parseInt(e)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(or('Not a valid color format: "'.concat(e,'"')),[0,0,0])}function Yr(e){const{a:t,b:n,c:i,d:a,e:s,f:r}=e.getTransform();return[t,n,i,a,s,r]}function Kr(e){const{a:t,b:n,c:i,d:a,e:s,f:r}=e.getTransform().invertSelf();return[t,n,i,a,s,r]}function Xr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof Rr){const{pageWidth:i,pageHeight:a}=t.rawDims,{style:s}=e,r=Nr.isCSSRoundSupported,o="var(--total-scale-factor) * ".concat(i,"px"),l="var(--total-scale-factor) * ".concat(a,"px"),c=r?"round(down, ".concat(o,", var(--scale-round-x))"):"calc(".concat(o,")"),d=r?"round(down, ".concat(l,", var(--scale-round-y))"):"calc(".concat(l,")");n&&t.rotation%180!==0?(s.width=d,s.height=c):(s.width=c,s.height=d)}i&&e.setAttribute("data-main-rotation",t.rotation)}class Jr{constructor(){const{pixelRatio:e}=Jr;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,n,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,s=1/0,r=1/0,o=1/0;(n=Jr.capPixels(n,a))>0&&(s=Math.sqrt(n/(e*t))),-1!==i&&(r=i/e,o=i/t);const l=Math.min(s,r,o);return(this.sx>l||this.sy>l)&&(this.sx=l,this.sy=l,!0)}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const n=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,n):n}return e}}const Qr=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var Zr=new WeakMap,$r=new WeakMap,eo=new WeakMap,to=new WeakMap,no=new WeakMap,io=new WeakMap,ao=new WeakMap,so=new WeakSet;class ro{constructor(e){es(this,so),ts(this,Zr,null),ts(this,$r,null),ts(this,eo,void 0),ts(this,to,null),ts(this,no,null),ts(this,io,null),ts(this,ao,null),ss(eo,this,e),po._||(po._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=ss(Zr,this,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=as(eo,this)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",zr,{signal:t}),e.addEventListener("pointerdown",oo,{signal:t}));const n=ss(to,this,document.createElement("div"));n.className="buttons",e.append(n);const i=as(eo,this).toolbarPosition;if(i){const{style:t}=e,n="ltr"===as(eo,this)._uiManager.direction?1-i[0]:i[0];t.insetInlineEnd="".concat(100*n,"%"),t.top="calc(".concat(100*i[1],"% + var(--editor-toolbar-vert-offset))")}return e}get div(){return as(Zr,this)}hide(){var e;as(Zr,this).classList.add("hidden"),null===(e=as($r,this))||void 0===e||e.hideDropdown()}show(){var e,t;as(Zr,this).classList.remove("hidden"),null===(e=as(no,this))||void 0===e||e.shown(),null===(t=as(io,this))||void 0===t||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=as(eo,this),n=document.createElement("button");n.classList.add("basic","deleteButton"),n.tabIndex=0,n.setAttribute("data-l10n-id",po._[e]),ns(so,this,ho).call(this,n)&&n.addEventListener("click",e=>{t.delete()},{signal:t._signal}),as(to,this).append(n)}async addAltText(e){const t=await e.render();ns(so,this,ho).call(this,t),as(to,this).append(t,is(so,this,uo)),ss(no,this,e)}addComment(e){if(as(io,this))return;const t=e.render();t&&(ns(so,this,ho).call(this,t),as(to,this).append(t,is(so,this,uo)),ss(io,this,e),e.toolbar=this)}addColorPicker(e){if(as($r,this))return;ss($r,this,e);const t=e.renderButton();ns(so,this,ho).call(this,t),as(to,this).append(t,is(so,this,uo))}async addEditSignatureButton(e){const t=ss(ao,this,await e.renderEditButton(as(eo,this)));ns(so,this,ho).call(this,t),as(to,this).append(t,is(so,this,uo))}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t)}}updateEditSignatureButton(e){as(ao,this)&&(as(ao,this).title=e)}remove(){var e;as(Zr,this).remove(),null===(e=as($r,this))||void 0===e||e.destroy(),ss($r,this,null)}}function oo(e){e.stopPropagation()}function lo(e){as(eo,this)._focusEventsAllowed=!1,Ur(e)}function co(e){as(eo,this)._focusEventsAllowed=!0,Ur(e)}function ho(e){const t=as(eo,this)._uiManager._signal;return t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("focusin",ns(so,this,lo).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",ns(so,this,co).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",zr,{signal:t}),!0)}function uo(e){const t=document.createElement("div");return t.className="divider",t}var po={_:null},mo=new WeakMap,fo=new WeakMap,go=new WeakMap,vo=new WeakSet;class bo{constructor(e){es(this,vo),ts(this,mo,null),ts(this,fo,null),ts(this,go,void 0),ss(go,this,e)}show(e,t,n){const[i,a]=ns(vo,this,xo).call(this,t,n),{style:s}=as(fo,this)||ss(fo,this,ns(vo,this,yo).call(this));e.append(as(fo,this)),s.insetInlineEnd="".concat(100*i,"%"),s.top="calc(".concat(100*a,"% + var(--editor-toolbar-vert-offset))")}hide(){as(fo,this).remove()}}function yo(){const e=ss(fo,this,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=as(go,this)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",zr,{signal:t});const n=ss(mo,this,document.createElement("div"));return n.className="buttons",e.append(n),as(go,this).hasCommentManager()&&ns(vo,this,wo).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{as(go,this).commentSelection("floating_button")}),ns(vo,this,wo).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{as(go,this).highlightSelection("floating_button")}),e}function xo(e,t){let n=0,i=0;for(const a of e){const e=a.y+a.height;if(e<n)continue;const s=a.x+(t?a.width:0);e>n?(i=s,n=e):t?s>i&&(i=s):s<i&&(i=s)}return[t?1-i:i,n]}function wo(e,t,n,i){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",t);const s=document.createElement("span");a.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",n);const r=as(go,this)._signal;r instanceof AbortSignal&&!r.aborted&&(a.addEventListener("contextmenu",zr,{signal:r}),a.addEventListener("click",i,{signal:r})),as(mo,this).append(a)}function No(e,t,n){for(const i of n)t.addEventListener(i,e[i].bind(e))}var Ao=new WeakMap;class ko{constructor(){ts(this,Ao,0)}get id(){var e,t;return"".concat(Fs).concat((ss(Ao,this,(e=as(Ao,this),t=e++,e)),t))}}var jo=new WeakMap,Co=new WeakMap,_o=new WeakMap,So=new WeakSet;class Eo{constructor(){es(this,So),ts(this,jo,Er()),ts(this,Co,0),ts(this,_o,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return ur(this,"_isSVGFittingCanvas",t.decode().then(()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0])))}async getFromFile(e){const{lastModified:t,name:n,size:i,type:a}=e;return ns(So,this,Mo).call(this,"".concat(t,"_").concat(n,"_").concat(i,"_").concat(a),e)}async getFromUrl(e){return ns(So,this,Mo).call(this,e,e)}async getFromBlob(e,t){const n=await t;return ns(So,this,Mo).call(this,e,n)}async getFromId(e){as(_o,this)||ss(_o,this,new Map);const t=as(_o,this).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){var n,i,a;as(_o,this)||ss(_o,this,new Map);let s=as(_o,this).get(e);if(null!==(a=s)&&void 0!==a&&a.bitmap)return s.refCounter+=1,s;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),s={bitmap:r.transferToImageBitmap(),id:"image_".concat(as(jo,this),"_").concat((ss(Co,this,(n=as(Co,this),i=n++,n)),i)),refCounter:1,isSvg:!1},as(_o,this).set(e,s),as(_o,this).set(s.id,s),s}getSvgUrl(e){const t=as(_o,this).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){var t;as(_o,this)||ss(_o,this,new Map);const n=as(_o,this).get(e);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:i}=n;if(!n.url&&!n.file){const e=new OffscreenCanvas(i.width,i.height);e.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=e.convertToBlob()}null===(t=i.close)||void 0===t||t.call(i),n.bitmap=null}isValidId(e){return e.startsWith("image_".concat(as(jo,this),"_"))}}async function Mo(e,t){var n;as(_o,this)||ss(_o,this,new Map);let i=as(_o,this).get(e);if(null===i)return null;if(null!==(n=i)&&void 0!==n&&n.bitmap)return i.refCounter+=1,i;try{var a,s;let e;if(i||(i={bitmap:null,id:"image_".concat(as(jo,this),"_").concat((ss(Co,this,(a=as(Co,this),s=a++,a)),s)),refCounter:0,isSvg:!1}),"string"===typeof t?(i.url=t,e=await Fr(t,"blob")):t instanceof File?e=i.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=ls._isSVGFittingCanvas,n=new FileReader,a=new Image,s=new Promise((e,s)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,e()},n.onload=async()=>{const e=i.svgUrl=n.result;a.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},a.onerror=n.onerror=s});n.readAsDataURL(e),await s}else i.bitmap=await createImageBitmap(e);i.refCounter=1}catch(yN){or(yN),i=null}return as(_o,this).set(e,i),i&&as(_o,this).set(i.id,i),i}ls=Eo;var Po=new WeakMap,Lo=new WeakMap,To=new WeakMap,Io=new WeakMap;class Fo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;ts(this,Po,[]),ts(this,Lo,!1),ts(this,To,void 0),ts(this,Io,-1),ss(To,this,e)}add(e){let{cmd:t,undo:n,post:i,mustExec:a,type:s=NaN,overwriteIfSameType:r=!1,keepUndo:o=!1}=e;if(a&&t(),as(Lo,this))return;const l={cmd:t,undo:n,post:i,type:s};if(-1===as(Io,this))return as(Po,this).length>0&&(as(Po,this).length=0),ss(Io,this,0),void as(Po,this).push(l);if(r&&as(Po,this)[as(Io,this)].type===s)return o&&(l.undo=as(Po,this)[as(Io,this)].undo),void(as(Po,this)[as(Io,this)]=l);const c=as(Io,this)+1;c===as(To,this)?as(Po,this).splice(0,1):(ss(Io,this,c),c<as(Po,this).length&&as(Po,this).splice(c)),as(Po,this).push(l)}undo(){if(-1===as(Io,this))return;ss(Lo,this,!0);const{undo:e,post:t}=as(Po,this)[as(Io,this)];e(),null===t||void 0===t||t(),ss(Lo,this,!1),ss(Io,this,as(Io,this)-1)}redo(){if(as(Io,this)<as(Po,this).length-1){ss(Io,this,as(Io,this)+1),ss(Lo,this,!0);const{cmd:e,post:t}=as(Po,this)[as(Io,this)];e(),null===t||void 0===t||t(),ss(Lo,this,!1)}}hasSomethingToUndo(){return-1!==as(Io,this)}hasSomethingToRedo(){return as(Io,this)<as(Po,this).length-1}cleanType(e){if(-1!==as(Io,this)){for(let t=as(Io,this);t>=0;t--)if(as(Po,this)[t].type!==e)return as(Po,this).splice(t+1,as(Io,this)-t),void ss(Io,this,t);as(Po,this).length=0,ss(Io,this,-1)}}destroy(){ss(Po,this,null)}}var Ro=new WeakSet;class Do{constructor(e){es(this,Ro),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Nr.platform;for(const[n,i,a={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:i,options:a}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:i,options:a}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(ns(Ro,this,Bo).call(this,t));if(!n)return;const{callback:i,options:{bubbles:a=!1,args:s=[],checker:r=null}}=n;r&&!r(e,t)||(i.bind(e,...s,t)(),a||Ur(t))}}function Bo(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}class Oo{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const n of e.keys()){t.style.color=n;const i=window.getComputedStyle(t).color;e.set(n,Vr(i))}t.remove()}(e),ur(this,"_colors",e)}convert(e){const t=Vr(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((e,n)=>e===t[n]))return Oo._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?kr.makeHexColor(...t):e}}(0,ws.A)(Oo,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var Wo=new WeakMap,Ho=new WeakMap,zo=new WeakMap,Uo=new WeakMap,qo=new WeakMap,Go=new WeakMap,Vo=new WeakMap,Yo=new WeakMap,Ko=new WeakMap,Xo=new WeakMap,Jo=new WeakMap,Qo=new WeakMap,Zo=new WeakMap,$o=new WeakMap,el=new WeakMap,tl=new WeakMap,nl=new WeakMap,il=new WeakMap,al=new WeakMap,sl=new WeakMap,rl=new WeakMap,ol=new WeakMap,ll=new WeakMap,cl=new WeakMap,dl=new WeakMap,hl=new WeakMap,ul=new WeakMap,pl=new WeakMap,ml=new WeakMap,fl=new WeakMap,gl=new WeakMap,vl=new WeakMap,bl=new WeakMap,yl=new WeakMap,xl=new WeakMap,wl=new WeakMap,Nl=new WeakMap,Al=new WeakMap,kl=new WeakMap,jl=new WeakMap,Cl=new WeakMap,_l=new WeakMap,Sl=new WeakMap,El=new WeakMap,Ml=new WeakMap,Pl=new WeakMap,Ll=new WeakMap,Tl=new WeakMap,Il=new WeakMap,Fl=new WeakSet;class Rl{static get _keyboardManager(){const e=Rl.prototype,t=e=>as(Pl,e).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},i=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return ur(this,"_keyboardManager",new Do([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&as(Pl,e).contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&as(Pl,e).contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}]]))}constructor(e,t,n,i,a,s,r,o,l,c,d,h,u,p,m,f){es(this,Fl),ts(this,Wo,new AbortController),ts(this,Ho,null),ts(this,zo,null),ts(this,Uo,new Map),ts(this,qo,new Map),ts(this,Go,null),ts(this,Vo,null),ts(this,Yo,null),ts(this,Ko,new Fo),ts(this,Xo,null),ts(this,Jo,null),ts(this,Qo,null),ts(this,Zo,0),ts(this,$o,new Set),ts(this,el,null),ts(this,tl,null),ts(this,nl,new Set),(0,ws.A)(this,"_editorUndoBar",null),ts(this,il,!1),ts(this,al,!1),ts(this,sl,!1),ts(this,rl,null),ts(this,ol,null),ts(this,ll,null),ts(this,cl,null),ts(this,dl,!1),ts(this,hl,null),ts(this,ul,new ko),ts(this,pl,!1),ts(this,ml,!1),ts(this,fl,!1),ts(this,gl,null),ts(this,vl,null),ts(this,bl,null),ts(this,yl,null),ts(this,xl,null),ts(this,wl,Rs.NONE),ts(this,Nl,new Set),ts(this,Al,null),ts(this,kl,null),ts(this,jl,null),ts(this,Cl,null),ts(this,_l,null),ts(this,Sl,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),ts(this,El,[0,0]),ts(this,Ml,null),ts(this,Pl,null),ts(this,Ll,null),ts(this,Tl,null),ts(this,Il,null);const g=this._signal=as(Wo,this).signal;ss(Pl,this,e),ss(Ll,this,t),ss(Tl,this,n),ss(Go,this,i),ss(Xo,this,a),ss(kl,this,s),ss(_l,this,o),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:g}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),r._on("setpreference",this.onSetPreference.bind(this),{signal:g}),r._on("switchannotationeditorparams",e=>this.updateParams(e.type,e.value),{signal:g}),window.addEventListener("pointerdown",()=>{ss(ml,this,!0)},{capture:!0,signal:g}),window.addEventListener("pointerup",()=>{ss(ml,this,!1)},{capture:!0,signal:g}),ns(Fl,this,zl).call(this),ns(Fl,this,Xl).call(this),ns(Fl,this,Gl).call(this),ss(Vo,this,o.annotationStorage),ss(rl,this,o.filterFactory),ss(jl,this,l),ss(cl,this,c||null),ss(il,this,d),ss(al,this,h),ss(sl,this,u),ss(xl,this,p||null),this.viewParameters={realScale:Ir.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=!1!==f}destroy(){var e,t,n,i,a,s,r,o,l;null===(e=as(Il,this))||void 0===e||e.resolve(),ss(Il,this,null),null===(t=as(Wo,this))||void 0===t||t.abort(),ss(Wo,this,null),this._signal=null;for(const c of as(qo,this).values())c.destroy();as(qo,this).clear(),as(Uo,this).clear(),as(nl,this).clear(),null===(n=as(yl,this))||void 0===n||n.clear(),ss(Ho,this,null),as(Nl,this).clear(),as(Ko,this).destroy(),null===(i=as(Go,this))||void 0===i||i.destroy(),null===(a=as(Xo,this))||void 0===a||a.destroy(),null===(s=as(kl,this))||void 0===s||s.destroy(),null===(r=as(hl,this))||void 0===r||r.hide(),ss(hl,this,null),null===(o=as(bl,this))||void 0===o||o.destroy(),ss(bl,this,null),ss(zo,this,null),as(ol,this)&&(clearTimeout(as(ol,this)),ss(ol,this,null)),as(Ml,this)&&(clearTimeout(as(Ml,this)),ss(Ml,this,null)),null===(l=this._editorUndoBar)||void 0===l||l.destroy(),ss(_l,this,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return as(xl,this)}get useNewAltTextFlow(){return as(al,this)}get useNewAltTextWhenAddingImage(){return as(sl,this)}get hcmFilter(){return ur(this,"hcmFilter",as(jl,this)?as(rl,this).addHCMFilter(as(jl,this).foreground,as(jl,this).background):"none")}get direction(){return ur(this,"direction",getComputedStyle(as(Pl,this)).direction)}get _highlightColors(){return ur(this,"_highlightColors",as(cl,this)?new Map(as(cl,this).split(",").map(e=>((e=e.split("=").map(e=>e.trim()))[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return ur(this,"highlightColors",null);const t=new Map,n=!!as(jl,this);for(const[i,a]of e){const e=i.endsWith("_HCM");n&&e?t.set(i.replace("_HCM",""),a):n||e||t.set(i,a)}return ur(this,"highlightColors",t)}get highlightColorNames(){return ur(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),ss(Qo,this,e)}setMainHighlightColorPicker(e){ss(bl,this,e)}editAltText(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(t=as(Go,this))||void 0===t||t.editAltText(this,e,n)}hasCommentManager(){return!!as(Xo,this)}editComment(e,t){var n;null===(n=as(Xo,this))||void 0===n||n.open(this,e,t)}getSignature(e){var t;null===(t=as(kl,this))||void 0===t||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return as(kl,this)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference(e){let{name:t,value:n}=e;if("enableNewAltTextWhenAddingImage"===t)ss(sl,this,n)}onPageChanging(e){let{pageNumber:t}=e;ss(Zo,this,t-1)}focusMainContainer(){as(Pl,this).focus()}findParent(e,t){for(const n of as(qo,this).values()){const{x:i,y:a,width:s,height:r}=n.div.getBoundingClientRect();if(e>=i&&e<=i+s&&t>=a&&t<=a+r)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];as(Ll,this).classList.toggle("noUserSelect",e)}addShouldRescale(e){as(nl,this).add(e)}removeShouldRescale(e){as(nl,this).delete(e)}onScaleChanging(e){var t;let{scale:n}=e;this.commitOrRemove(),this.viewParameters.realScale=n*Ir.PDF_TO_CSS_UNITS;for(const i of as(nl,this))i.onScaleChanging();null===(t=as(Qo,this))||void 0===t||t.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:r}=n,o=n.toString(),l=ns(Fl,this,Dl).call(this,n).closest(".textLayer"),c=this.getSelectionBoxes(l);if(!c)return;n.empty();const d=ns(Fl,this,Bl).call(this,l),h=as(wl,this)===Rs.NONE,u=()=>{const n=null===d||void 0===d?void 0:d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:c,anchorNode:i,anchorOffset:a,focusNode:s,focusOffset:r,text:o});h&&this.showAllEditors("highlight",!0,!0),t&&(null===n||void 0===n||n.editComment())};h?this.switchToMode(Rs.HIGHLIGHT,u):u()}commentSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.highlightSelection(e,!0)}addToAnnotationStorage(e){e.isEmpty()||!as(Vo,this)||as(Vo,this).has(e.id)||as(Vo,this).setValue(e.id,e)}a11yAlert(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=as(Tl,this);n&&(n.setAttribute("data-l10n-id",e),t?n.setAttribute("data-l10n-args",JSON.stringify(t)):n.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,as(dl,this)&&(ss(dl,this,!1),ns(Fl,this,Hl).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of as(Nl,this))if(t.div.contains(e)){ss(vl,this,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!as(vl,this))return;const[e,t]=as(vl,this);ss(vl,this,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){ns(Fl,this,Gl).call(this),ns(Fl,this,Yl).call(this)}removeEditListeners(){ns(Fl,this,Vl).call(this),ns(Fl,this,Kl).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of as(tl,this))if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of as(tl,this))if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){var t;if(e.preventDefault(),null===(t=as(Ho,this))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of as(Nl,this)){const e=i.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const e of as(tl,this))if(e.isHandlingMimeForPasting(s.type))return void e.paste(s,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){return void or('paste: "'.concat(a.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const e=[];for(const s of n){const t=await i.deserialize(s);if(!t)return;e.push(t)}const t=()=>{for(const t of e)ns(Fl,this,ec).call(this,t);ns(Fl,this,ic).call(this,e)},a=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:a,mustExec:!0})}catch(a){or('paste: "'.concat(a.message,'".'))}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),as(wl,this)===Rs.NONE||this.isEditorHandlingKeyboard||Rl._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,as(dl,this)&&(ss(dl,this,!1),ns(Fl,this,Hl).call(this,"main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu")}}setEditingState(e){e?(ns(Fl,this,Ul).call(this),ns(Fl,this,Yl).call(this),ns(Fl,this,Jl).call(this,{isEditing:as(wl,this)!==Rs.NONE,isEmpty:ns(Fl,this,nc).call(this),hasSomethingToUndo:as(Ko,this).hasSomethingToUndo(),hasSomethingToRedo:as(Ko,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(ns(Fl,this,ql).call(this),ns(Fl,this,Kl).call(this),ns(Fl,this,Jl).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!as(tl,this)){ss(tl,this,e);for(const e of as(tl,this))ns(Fl,this,Ql).call(this,e.defaultPropertiesToUpdate)}}getId(){return as(ul,this).id}get currentLayer(){return as(qo,this).get(as(Zo,this))}getLayer(e){return as(qo,this).get(e)}get currentPageIndex(){return as(Zo,this)}addLayer(e){as(qo,this).set(e.pageIndex,e),as(pl,this)?e.enable():e.disable()}removeLayer(e){as(qo,this).delete(e.pageIndex)}async updateMode(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(as(wl,this)!==e&&(!as(Il,this)||(await as(Il,this).promise,as(Il,this)))){var r,o,l,c;if(ss(Il,this,Promise.withResolvers()),null===(t=as(Qo,this))||void 0===t||t.commitOrRemove(),as(wl,this)===Rs.POPUP)null===(r=as(Xo,this))||void 0===r||r.hideSidebar();if(ss(wl,this,e),e===Rs.NONE)return this.setEditingState(!1),ns(Fl,this,$l).call(this),null===(o=this._editorUndoBar)||void 0===o||o.hide(),void as(Il,this).resolve();if(e===Rs.SIGNATURE)await(null===(l=as(kl,this))||void 0===l?void 0:l.loadSignatures());if(e===Rs.POPUP)as(zo,this)||ss(zo,this,await as(_l,this).getAnnotationsByType(new Set(as(tl,this).map(e=>e._editorType)))),null===(c=as(Xo,this))||void 0===c||c.showSidebar(as(zo,this));this.setEditingState(!0),await ns(Fl,this,Zl).call(this),this.unselectAll();for(const t of as(qo,this).values())t.updateMode(e);if(!n)return i&&this.addNewEditorFromKeyboard(),void as(Il,this).resolve();for(const e of as(Uo,this).values())e.annotationElementId===n||e.id===n?(this.setSelected(e),s?e.editComment():a&&e.enterInEditMode()):e.unselect();as(Il,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==as(wl,this)&&this._eventBus.dispatch("switchannotationeditormode",(0,a.A)({source:this},e))}updateParams(e,t){if(as(tl,this)){switch(e){case Ds.CREATE:return void this.currentLayer.addNewEditor(t);case Ds.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(as(Cl,this)||ss(Cl,this,new Map)).set(e,t),this.showAllEditors("highlight",t)}if(this.hasSelection)for(const n of as(Nl,this))n.updateParams(e,t);else for(const n of as(tl,this))n.updateDefaultParams(e,t)}}showAllEditors(e,t){var n,i;for(const a of as(Uo,this).values())a.editorType===e&&a.show(t);(null===(n=null===(i=as(Cl,this))||void 0===i?void 0:i.get(Ds.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==t&&ns(Fl,this,Ql).call(this,[[Ds.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(as(fl,this)!==e){ss(fl,this,e);for(const t of as(qo,this).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of as(Uo,this).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return as(Uo,this).get(e)}addEditor(e){as(Uo,this).set(e.id,e)}removeEditor(e){var t,n;(e.div.contains(document.activeElement)&&(as(ol,this)&&clearTimeout(as(ol,this)),ss(ol,this,setTimeout(()=>{this.focusMainContainer(),ss(ol,this,null)},0))),as(Uo,this).delete(e.id),e.annotationElementId)&&(null===(t=as(yl,this))||void 0===t||t.delete(e.annotationElementId));(this.unselect(e),e.annotationElementId&&as($o,this).has(e.annotationElementId))||(null===(n=as(Vo,this))||void 0===n||n.remove(e.id))}addDeletedAnnotationElement(e){as($o,this).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return as($o,this).has(e)}removeDeletedAnnotationElement(e){as($o,this).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){as(Ho,this)!==e&&(ss(Ho,this,e),e&&ns(Fl,this,Ql).call(this,e.propertiesToUpdate))}updateUI(e){is(Fl,this,tc)===e&&ns(Fl,this,Ql).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){ns(Fl,this,Ql).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(as(Nl,this).has(e))return as(Nl,this).delete(e),e.unselect(),void ns(Fl,this,Jl).call(this,{hasSelectedEditor:this.hasSelection});as(Nl,this).add(e),e.select(),ns(Fl,this,Ql).call(this,e.propertiesToUpdate),ns(Fl,this,Jl).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),null===(t=as(Qo,this))||void 0===t||t.commitOrRemove();for(const n of as(Nl,this))n!==e&&n.unselect();as(Nl,this).clear(),as(Nl,this).add(e),e.select(),ns(Fl,this,Ql).call(this,e.propertiesToUpdate),ns(Fl,this,Jl).call(this,{hasSelectedEditor:!0})}isSelected(e){return as(Nl,this).has(e)}get firstSelectedEditor(){return as(Nl,this).values().next().value}unselect(e){e.unselect(),as(Nl,this).delete(e),ns(Fl,this,Jl).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==as(Nl,this).size}get isEnterHandled(){return 1===as(Nl,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){var e;as(Ko,this).undo(),ns(Fl,this,Jl).call(this,{hasSomethingToUndo:as(Ko,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ns(Fl,this,nc).call(this)}),null===(e=this._editorUndoBar)||void 0===e||e.hide()}redo(){as(Ko,this).redo(),ns(Fl,this,Jl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:as(Ko,this).hasSomethingToRedo(),isEmpty:ns(Fl,this,nc).call(this)})}addCommands(e){as(Ko,this).add(e),ns(Fl,this,Jl).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ns(Fl,this,nc).call(this)})}cleanUndoStack(e){as(Ko,this).cleanType(e)}delete(){var e;this.commitOrRemove();const t=null===(e=this.currentLayer)||void 0===e?void 0:e.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const n=t?[t]:[...as(Nl,this)],i=()=>{for(const e of n)ns(Fl,this,ec).call(this,e)};this.addCommands({cmd:()=>{var e;null===(e=this._editorUndoBar)||void 0===e||e.show(i,1===n.length?n[0].editorType:n.length);for(const t of n)t.remove()},undo:i,mustExec:!0})}commitOrRemove(){var e;null===(e=as(Ho,this))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return as(Ho,this)||this.hasSelection}selectAll(){for(const e of as(Nl,this))e.commit();ns(Fl,this,ic).call(this,as(Uo,this).values())}unselectAll(){var e;if((!as(Ho,this)||(as(Ho,this).commitOrRemove(),as(wl,this)===Rs.NONE))&&(null===(e=as(Qo,this))||void 0===e||!e.commitOrRemove())&&this.hasSelection){for(const e of as(Nl,this))e.unselect();as(Nl,this).clear(),ns(Fl,this,Jl).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;as(El,this)[0]+=e,as(El,this)[1]+=t;const[n,i]=as(El,this),a=[...as(Nl,this)];as(Ml,this)&&clearTimeout(as(Ml,this)),ss(Ml,this,setTimeout(()=>{ss(Ml,this,null),as(El,this)[0]=as(El,this)[1]=0,this.addCommands({cmd:()=>{for(const e of a)as(Uo,this).has(e.id)&&(e.translateInPage(n,i),e.translationDone())},undo:()=>{for(const e of a)as(Uo,this).has(e.id)&&(e.translateInPage(-n,-i),e.translationDone())},mustExec:!1})},1e3));for(const s of a)s.translateInPage(e,t),s.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ss(el,this,new Map);for(const e of as(Nl,this))as(el,this).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!as(el,this))return!1;this.disableUserSelect(!1);const e=as(el,this);ss(el,this,null);let t=!1;for(const[{x:i,y:a,pageIndex:s},r]of e)r.newX=i,r.newY=a,r.newPageIndex=s,t||(t=i!==r.savedX||a!==r.savedY||s!==r.savedPageIndex);if(!t)return!1;const n=(e,t,n,i)=>{if(as(Uo,this).has(e.id)){const a=as(qo,this).get(i);a?e._setParentAndPosition(a,t,n):(e.pageIndex=i,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:i,newY:a,newPageIndex:s}]of e)n(t,i,a,s)},undo:()=>{for(const[t,{savedX:i,savedY:a,savedPageIndex:s}]of e)n(t,i,a,s)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(as(el,this))for(const n of as(el,this).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null===(e=this.getActive())||void 0===e?void 0:e.shouldGetKeyboardEvents())||1===as(Nl,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return as(Ho,this)===e}getActive(){return as(Ho,this)}getMode(){return as(wl,this)}get imageManager(){return ur(this,"imageManager",new Eo)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:i,width:a,height:s}=e.getBoundingClientRect();let r;switch(e.getAttribute("data-main-rotation")){case"90":r=(e,t,r,o)=>({x:(t-i)/s,y:1-(e+r-n)/a,width:o/s,height:r/a});break;case"180":r=(e,t,r,o)=>({x:1-(e+r-n)/a,y:1-(t+o-i)/s,width:r/a,height:o/s});break;case"270":r=(e,t,r,o)=>({x:1-(t+o-i)/s,y:(e-n)/a,width:o/s,height:r/a});break;default:r=(e,t,r,o)=>({x:(e-n)/a,y:(t-i)/s,width:r/a,height:o/s})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:i,height:a}of e.getClientRects())0!==i&&0!==a&&o.push(r(t,n,i,a))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(as(Yo,this)||ss(Yo,this,new Map)).set(t,n)}removeChangedExistingAnnotation(e){var t;let{annotationElementId:n}=e;null===(t=as(Yo,this))||void 0===t||t.delete(n)}renderAnnotationElement(e){var t;const n=null===(t=as(Yo,this))||void 0===t?void 0:t.get(e.data.id);if(!n)return;const i=as(Vo,this).getRawValue(n);i&&(as(wl,this)!==Rs.NONE||i.hasBeenModified)&&i.renderAnnotationElement(e)}setMissingCanvas(e,t,n){var i;const a=null===(i=as(yl,this))||void 0===i?void 0:i.get(e);a&&(a.setCanvas(t,n),as(yl,this).delete(e))}addMissingCanvas(e,t){(as(yl,this)||ss(yl,this,new Map)).set(e,t)}}function Dl(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}function Bl(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of as(qo,this).values())if(n.hasTextLayer(e))return n;return null}function Ol(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=ns(Fl,this,Dl).call(this,e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(as(hl,this)||ss(hl,this,new bo(this)),as(hl,this).show(t,n,"ltr"===this.direction))}function Wl(){var e;const t=document.getSelection();if(!t||t.isCollapsed){var n;if(as(Al,this))null===(n=as(hl,this))||void 0===n||n.hide(),ss(Al,this,null),ns(Fl,this,Jl).call(this,{hasSelectedText:!1});return}const{anchorNode:i}=t;if(i===as(Al,this))return;const a=ns(Fl,this,Dl).call(this,t).closest(".textLayer");var s;if(a){if(null===(e=as(hl,this))||void 0===e||e.hide(),ss(Al,this,i),ns(Fl,this,Jl).call(this,{hasSelectedText:!0}),(as(wl,this)===Rs.HIGHLIGHT||as(wl,this)===Rs.NONE)&&(as(wl,this)===Rs.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),ss(dl,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const e=as(wl,this)===Rs.HIGHLIGHT?ns(Fl,this,Bl).call(this,a):null;if(null===e||void 0===e||e.toggleDrawing(),as(ml,this)){const t=new AbortController,n=this.combinedSignal(t),i=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),null===e||void 0===e||e.toggleDrawing(!0),"pointerup"===n.type&&ns(Fl,this,Hl).call(this,"main_toolbar"))};window.addEventListener("pointerup",i,{signal:n}),window.addEventListener("blur",i,{signal:n})}else null===e||void 0===e||e.toggleDrawing(!0),ns(Fl,this,Hl).call(this,"main_toolbar")}}else as(Al,this)&&(null===(s=as(hl,this))||void 0===s||s.hide(),ss(Al,this,null),ns(Fl,this,Jl).call(this,{hasSelectedText:!1}))}function Hl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";as(wl,this)===Rs.HIGHLIGHT?this.highlightSelection(e):as(il,this)&&ns(Fl,this,Ol).call(this)}function zl(){document.addEventListener("selectionchange",ns(Fl,this,Wl).bind(this),{signal:this._signal})}function Ul(){if(as(ll,this))return;ss(ll,this,new AbortController);const e=this.combinedSignal(as(ll,this));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}function ql(){var e;null===(e=as(ll,this))||void 0===e||e.abort(),ss(ll,this,null)}function Gl(){if(as(gl,this))return;ss(gl,this,new AbortController);const e=this.combinedSignal(as(gl,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}function Vl(){var e;null===(e=as(gl,this))||void 0===e||e.abort(),ss(gl,this,null)}function Yl(){if(as(Jo,this))return;ss(Jo,this,new AbortController);const e=this.combinedSignal(as(Jo,this));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}function Kl(){var e;null===(e=as(Jo,this))||void 0===e||e.abort(),ss(Jo,this,null)}function Xl(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}function Jl(e){Object.entries(e).some(e=>{let[t,n]=e;return as(Sl,this)[t]!==n})&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(as(Sl,this),e)}),as(wl,this)===Rs.HIGHLIGHT&&!1===e.hasSelectedEditor&&ns(Fl,this,Ql).call(this,[[Ds.HIGHLIGHT_FREE,!0]]))}function Ql(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}async function Zl(){if(!as(pl,this)){ss(pl,this,!0);const e=[];for(const t of as(qo,this).values())e.push(t.enable());await Promise.all(e);for(const t of as(Uo,this).values())t.enable()}}function $l(){if(this.unselectAll(),as(pl,this)){ss(pl,this,!1);for(const e of as(qo,this).values())e.disable();for(const e of as(Uo,this).values())e.disable()}}function ec(e){const t=as(qo,this).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}function tc(e){let t=null;for(t of as(Nl,e));return t}function nc(){if(0===as(Uo,this).size)return!0;if(1===as(Uo,this).size)for(const e of as(Uo,this).values())return e.isEmpty();return!1}function ic(e){for(const t of as(Nl,this))t.unselect();as(Nl,this).clear();for(const t of e)t.isEmpty()||(as(Nl,this).add(t),t.select());ns(Fl,this,Jl).call(this,{hasSelectedEditor:this.hasSelection})}(0,ws.A)(Rl,"TRANSLATE_SMALL",1),(0,ws.A)(Rl,"TRANSLATE_BIG",10);var ac=new WeakMap,sc=new WeakMap,rc=new WeakMap,oc=new WeakMap,lc=new WeakMap,cc=new WeakMap,dc=new WeakMap,hc=new WeakMap,uc=new WeakMap,pc=new WeakMap,mc=new WeakMap,fc=new WeakMap,gc=new WeakSet;class vc{constructor(e){es(this,gc),ts(this,ac,null),ts(this,sc,!1),ts(this,rc,null),ts(this,oc,null),ts(this,lc,null),ts(this,cc,null),ts(this,dc,!1),ts(this,hc,null),ts(this,uc,null),ts(this,pc,null),ts(this,mc,null),ts(this,fc,!1),ss(uc,this,e),ss(fc,this,e._uiManager.useNewAltTextFlow),xc._||(xc._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){var t;null!==(t=vc._l10n)&&void 0!==t||(vc._l10n=e)}async render(){const e=ss(rc,this,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=ss(oc,this,document.createElement("span"));e.append(t),as(fc,this)?(e.classList.add("new"),e.setAttribute("data-l10n-id",xc._.missing),t.setAttribute("data-l10n-id",xc._["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=as(uc,this)._uiManager._signal;e.addEventListener("contextmenu",zr,{signal:n}),e.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:n});const i=e=>{e.preventDefault(),as(uc,this)._uiManager.editAltText(as(uc,this)),as(fc,this)&&as(uc,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:is(gc,this,bc)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(ss(dc,this,!0),i(t))},{signal:n}),await ns(gc,this,yc).call(this),e}finish(){as(rc,this)&&(as(rc,this).focus({focusVisible:as(dc,this)}),ss(dc,this,!1))}isEmpty(){return as(fc,this)?null===as(ac,this):!as(ac,this)&&!as(sc,this)}hasData(){return as(fc,this)?null!==as(ac,this)||!!as(pc,this):this.isEmpty()}get guessedText(){return as(pc,this)}async setGuessedText(e){null===as(ac,this)&&(ss(pc,this,e),ss(mc,this,await vc._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ns(gc,this,yc).call(this))}toggleAltTextBadge(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;if(!as(fc,this)||as(ac,this))return null===(t=as(hc,this))||void 0===t||t.remove(),void ss(hc,this,null);if(!as(hc,this)){const e=ss(hc,this,document.createElement("div"));e.className="noAltTextBadge",as(uc,this).div.append(e)}as(hc,this).classList.toggle("hidden",!e)}serialize(e){let t=as(ac,this);return e||as(pc,this)!==t||(t=as(mc,this)),{altText:t,decorative:as(sc,this),guessedText:as(pc,this),textWithDisclaimer:as(mc,this)}}get data(){return{altText:as(ac,this),decorative:as(sc,this)}}set data(e){let{altText:t,decorative:n,guessedText:i,textWithDisclaimer:a,cancel:s=!1}=e;i&&(ss(pc,this,i),ss(mc,this,a)),as(ac,this)===t&&as(sc,this)===n||(s||(ss(ac,this,t),ss(sc,this,n)),ns(gc,this,yc).call(this))}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];as(rc,this)&&(!e&&as(cc,this)&&(clearTimeout(as(cc,this)),ss(cc,this,null)),as(rc,this).disabled=!e)}shown(){as(uc,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:is(gc,this,bc)}})}destroy(){var e,t;null===(e=as(rc,this))||void 0===e||e.remove(),ss(rc,this,null),ss(oc,this,null),ss(lc,this,null),null===(t=as(hc,this))||void 0===t||t.remove(),ss(hc,this,null)}}function bc(e){return(as(ac,e)?"added":null===as(ac,e)&&e.guessedText&&"review")||"missing"}async function yc(){const e=as(rc,this);if(!e)return;if(as(fc,this)){var t,n;if(e.classList.toggle("done",!!as(ac,this)),e.setAttribute("data-l10n-id",xc._[is(gc,this,bc)]),null===(t=as(oc,this))||void 0===t||t.setAttribute("data-l10n-id",xc._["".concat(is(gc,this,bc),"-label")]),!as(ac,this))return void(null===(n=as(lc,this))||void 0===n||n.remove())}else{var i;if(!as(ac,this)&&!as(sc,this))return e.classList.remove("done"),void(null===(i=as(lc,this))||void 0===i||i.remove());e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let a=as(lc,this);if(!a){ss(lc,this,a=document.createElement("span")),a.className="tooltip",a.setAttribute("role","tooltip"),a.id="alt-text-tooltip-".concat(as(uc,this).id);const t=100,n=as(uc,this)._uiManager._signal;n.addEventListener("abort",()=>{clearTimeout(as(cc,this)),ss(cc,this,null)},{once:!0}),e.addEventListener("mouseenter",()=>{ss(cc,this,setTimeout(()=>{ss(cc,this,null),as(lc,this).classList.add("show"),as(uc,this)._reportTelemetry({action:"alt_text_tooltip"})},t))},{signal:n}),e.addEventListener("mouseleave",()=>{var e;as(cc,this)&&(clearTimeout(as(cc,this)),ss(cc,this,null)),null===(e=as(lc,this))||void 0===e||e.classList.remove("show")},{signal:n})}as(sc,this)?a.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(a.removeAttribute("data-l10n-id"),a.textContent=as(ac,this)),a.parentNode||e.append(a);const s=as(uc,this).getElementForAltText();null===s||void 0===s||s.setAttribute("aria-describedby",a.id)}var xc={_:null};(0,ws.A)(vc,"_l10n",null);var wc=new WeakMap,Nc=new WeakMap,Ac=new WeakMap,kc=new WeakMap,jc=new WeakMap,Cc=new WeakMap,_c=new WeakMap;class Sc{constructor(e){ts(this,wc,null),ts(this,Nc,!1),ts(this,Ac,null),ts(this,kc,null),ts(this,jc,null),ts(this,Cc,null),ts(this,_c,!1),ss(Ac,this,e),this.toolbar=null}render(){if(!as(Ac,this)._uiManager.hasCommentManager())return null;const e=ss(wc,this,document.createElement("button"));e.className="comment",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button");const t=as(Ac,this)._uiManager._signal;if(!(t instanceof AbortSignal)||t.aborted)return e;e.addEventListener("contextmenu",zr,{signal:t}),e.addEventListener("pointerdown",e=>e.stopPropagation(),{signal:t});const n=e=>{e.preventDefault(),this.edit()};return e.addEventListener("click",n,{capture:!0,signal:t}),e.addEventListener("keydown",t=>{t.target===e&&"Enter"===t.key&&(ss(Nc,this,!0),n(t))},{signal:t}),e}edit(){const{bottom:e,left:t,right:n}=as(Ac,this).getClientDimensions(),i={top:e};"ltr"===as(Ac,this)._uiManager.direction?i.right=n:i.left=t,as(Ac,this)._uiManager.editComment(as(Ac,this),i)}finish(){as(wc,this)&&(as(wc,this).focus({focusVisible:as(Nc,this)}),ss(Nc,this,!1))}isDeleted(){return as(_c,this)||""===as(jc,this)}hasBeenEdited(){return this.isDeleted()||as(jc,this)!==as(kc,this)}serialize(){return this.data}get data(){return{text:as(jc,this),date:as(Cc,this),deleted:as(_c,this)}}set data(e){if(null===e)return ss(jc,this,""),void ss(_c,this,!0);ss(jc,this,e),ss(Cc,this,new Date),ss(_c,this,!1)}setInitialText(e){ss(kc,this,e),this.data=e}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];as(wc,this)&&(as(wc,this).disabled=!e)}shown(){}destroy(){var e;null===(e=as(wc,this))||void 0===e||e.remove(),ss(wc,this,null),ss(jc,this,""),ss(Cc,this,null),ss(Ac,this,null),ss(Nc,this,!1),ss(_c,this,!1)}}var Ec=new WeakMap,Mc=new WeakMap,Pc=new WeakMap,Lc=new WeakMap,Tc=new WeakMap,Ic=new WeakMap,Fc=new WeakMap,Rc=new WeakMap,Dc=new WeakMap,Bc=new WeakMap,Oc=new WeakMap,Wc=new WeakMap,Hc=new WeakSet;class zc{constructor(e){let{container:t,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:a=null,onPinching:s=null,onPinchEnd:r=null,signal:o}=e;es(this,Hc),ts(this,Ec,void 0),ts(this,Mc,!1),ts(this,Pc,null),ts(this,Lc,void 0),ts(this,Tc,void 0),ts(this,Ic,void 0),ts(this,Fc,void 0),ts(this,Rc,null),ts(this,Dc,void 0),ts(this,Bc,null),ts(this,Oc,void 0),ts(this,Wc,null),ss(Ec,this,t),ss(Pc,this,i),ss(Lc,this,n),ss(Tc,this,a),ss(Ic,this,s),ss(Fc,this,r),ss(Oc,this,new AbortController),ss(Dc,this,AbortSignal.any([o,as(Oc,this).signal])),t.addEventListener("touchstart",ns(Hc,this,Uc).bind(this),{passive:!1,signal:as(Dc,this)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Jr.pixelRatio}destroy(){var e,t;null===(e=as(Oc,this))||void 0===e||e.abort(),ss(Oc,this,null),null===(t=as(Rc,this))||void 0===t||t.abort(),ss(Rc,this,null)}}function Uc(e){var t,n;if(null!==(t=as(Lc,this))&&void 0!==t&&t.call(this))return;if(1===e.touches.length){if(as(Rc,this))return;const e=ss(Rc,this,new AbortController),t=AbortSignal.any([as(Dc,this),e.signal]),n=as(Ec,this),i={capture:!0,signal:t,passive:!1},a=e=>{var t;"touch"===e.pointerType&&(null===(t=as(Rc,this))||void 0===t||t.abort(),ss(Rc,this,null))};return n.addEventListener("pointerdown",e=>{"touch"===e.pointerType&&(Ur(e),a(e))},i),n.addEventListener("pointerup",a,i),void n.addEventListener("pointercancel",a,i)}if(!as(Wc,this)){var i;ss(Wc,this,new AbortController);const e=AbortSignal.any([as(Dc,this),as(Wc,this).signal]),t=as(Ec,this),n={signal:e,capture:!1,passive:!1};t.addEventListener("touchmove",ns(Hc,this,qc).bind(this),n);const a=ns(Hc,this,Gc).bind(this);t.addEventListener("touchend",a,n),t.addEventListener("touchcancel",a,n),n.capture=!0,t.addEventListener("pointerdown",Ur,n),t.addEventListener("pointermove",Ur,n),t.addEventListener("pointercancel",Ur,n),t.addEventListener("pointerup",Ur,n),null===(i=as(Tc,this))||void 0===i||i.call(this)}if(Ur(e),2!==e.touches.length||null!==(n=as(Pc,this))&&void 0!==n&&n.call(this))return void ss(Bc,this,null);let[a,s]=e.touches;a.identifier>s.identifier&&([a,s]=[s,a]),ss(Bc,this,{touch0X:a.screenX,touch0Y:a.screenY,touch1X:s.screenX,touch1Y:s.screenY})}function qc(e){var t;if(!as(Bc,this)||2!==e.touches.length)return;Ur(e);let[n,i]=e.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:a,screenY:s}=n,{screenX:r,screenY:o}=i,l=as(Bc,this),{touch0X:c,touch0Y:d,touch1X:h,touch1Y:u}=l,p=h-c,m=u-d,f=r-a,g=o-s,v=Math.hypot(f,g)||1,b=Math.hypot(p,m)||1;if(!as(Mc,this)&&Math.abs(b-v)<=cs.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=a,l.touch0Y=s,l.touch1X=r,l.touch1Y=o,!as(Mc,this))return void ss(Mc,this,!0);const y=[(a+r)/2,(s+o)/2];null===(t=as(Ic,this))||void 0===t||t.call(this,y,b,v)}function Gc(e){if(!(e.touches.length>=2)){var t;if(as(Wc,this))as(Wc,this).abort(),ss(Wc,this,null),null===(t=as(Fc,this))||void 0===t||t.call(this);as(Bc,this)&&(Ur(e),ss(Bc,this,null),ss(Mc,this,!1))}}cs=zc;var Vc=new WeakMap,Yc=new WeakMap,Kc=new WeakMap,Xc=new WeakMap,Jc=new WeakMap,Qc=new WeakMap,Zc=new WeakMap,$c=new WeakMap,ed=new WeakMap,td=new WeakMap,nd=new WeakMap,id=new WeakMap,ad=new WeakMap,sd=new WeakMap,rd=new WeakMap,od=new WeakMap,ld=new WeakMap,cd=new WeakMap,dd=new WeakMap,hd=new WeakMap,ud=new WeakMap,pd=new WeakMap,md=new WeakMap,fd=new WeakMap,gd=new WeakMap,vd=new WeakSet;class bd{static get _resizerKeyboardManager(){const e=bd.prototype._resizeWithKeyboard,t=Rl.TRANSLATE_SMALL,n=Rl.TRANSLATE_BIG;return ur(this,"_resizerKeyboardManager",new Do([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],bd.prototype._stopResizingWithKeyboard]]))}constructor(e){es(this,vd),ts(this,Vc,null),ts(this,Yc,null),ts(this,Kc,null),ts(this,Xc,null),ts(this,Jc,!1),ts(this,Qc,null),ts(this,Zc,""),ts(this,$c,!1),ts(this,ed,null),ts(this,td,null),ts(this,nd,null),ts(this,id,null),ts(this,ad,""),ts(this,sd,!1),ts(this,rd,null),ts(this,od,!1),ts(this,ld,!1),ts(this,cd,!1),ts(this,dd,null),ts(this,hd,0),ts(this,ud,0),ts(this,pd,null),ts(this,md,null),(0,ws.A)(this,"isSelected",!1),(0,ws.A)(this,"_isCopy",!1),(0,ws.A)(this,"_editToolbar",null),(0,ws.A)(this,"_initialOptions",Object.create(null)),(0,ws.A)(this,"_initialData",null),(0,ws.A)(this,"_isVisible",!0),(0,ws.A)(this,"_uiManager",null),(0,ws.A)(this,"_focusEventsAllowed",!0),ts(this,fd,!1),ts(this,gd,bd._zIndex++),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[a,s];const[r,o]=this.parentDimensions;this.x=e.x/r,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ur(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Bd({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){var n;if(null!==(n=bd._l10n)&&void 0!==n||(bd._l10n=e),bd._l10nResizer||(bd._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==bd._borderLineWidth)return;const i=getComputedStyle(document.documentElement);bd._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){lr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return as(fd,this)}set _isDraggable(e){var t;ss(fd,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=as(gd,this)}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):ns(vd,this,Dd).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(as(sd,this)?ss(sd,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[a,s]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/a,this.y=(t+i)/s,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[n,i]=this.parentDimensions;this.setAt(e*n,t*i,this.width*n,this.height*i),this._onTranslated()}translate(e,t){ns(vd,this,yd).call(this,this.parentDimensions,e,t)}translateInPage(e,t){as(rd,this)||ss(rd,this,[this.x,this.y,this.width,this.height]),ns(vd,this,yd).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){as(rd,this)||ss(rd,this,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,a]}=this;if(this.x+=e/i,this.y+=t/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:r}=this;const[o,l]=this.getBaseTranslation();s+=o,r+=l;const{style:c}=n;c.left="".concat((100*s).toFixed(2),"%"),c.top="".concat((100*r).toFixed(2),"%"),this._onTranslating(s,r),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!as(rd,this)&&(as(rd,this)[0]!==this.x||as(rd,this)[1]!==this.y)}get _hasBeenResized(){return!!as(rd,this)&&(as(rd,this)[2]!==this.width||as(rd,this)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=bd,i=n/e,a=n/t;switch(this.rotation){case 90:return[-i,a];case 180:return[i,a];case 270:return[i,-a];default:return[-i,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const{div:{style:t},pageDimensions:[n,i]}=this;let{x:a,y:s,width:r,height:o}=this;if(r*=n,o*=i,a*=n,s*=i,this._mustFixPosition)switch(e){case 0:a=Pr(a,0,n-r),s=Pr(s,0,i-o);break;case 90:a=Pr(a,0,n-o),s=Pr(s,r,i);break;case 180:a=Pr(a,r,n),s=Pr(s,o,i);break;case 270:a=Pr(a,o,n),s=Pr(s,0,i-r)}this.x=a/=n,this.y=s/=i;const[l,c]=this.getBaseTranslation();a+=l,s+=c,t.left="".concat((100*a).toFixed(2),"%"),t.top="".concat((100*s).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return xd.call(bd,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return xd.call(bd,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions,{style:a}=this.div;a.width="".concat((100*e/n).toFixed(2),"%"),as($c,this)||(a.height="".concat((100*t/i).toFixed(2),"%"))}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),a=!as($c,this)&&t.endsWith("%");if(i&&a)return;const[s,r]=this.parentDimensions;i||(e.width="".concat((100*parseFloat(n)/s).toFixed(2),"%")),as($c,this)||a||(e.height="".concat((100*parseFloat(t)/r).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(1e4*e)/1e4}_onResizing(){}altTextFinish(){var e;null===(e=as(Kc,this))||void 0===e||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||as(ld,this))return this._editToolbar;this._editToolbar=new ro(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,n]of e)await this._editToolbar.addButton(t,n);return this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,null===(e=as(Kc,this))||void 0===e||e.destroy())}addContainer(e){var t;const n=null===(t=this._editToolbar)||void 0===t?void 0:t.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return as(Kc,this)||(vc.initialize(bd._l10n),ss(Kc,this,new vc(this)),as(Vc,this)&&(as(Kc,this).data=as(Vc,this),ss(Vc,this,null))),as(Kc,this)}get altTextData(){var e;return null===(e=as(Kc,this))||void 0===e?void 0:e.data}set altTextData(e){as(Kc,this)&&(as(Kc,this).data=e)}get guessedAltText(){var e;return null===(e=as(Kc,this))||void 0===e?void 0:e.guessedText}async setGuessedAltText(e){var t;await(null===(t=as(Kc,this))||void 0===t?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return null===(t=as(Kc,this))||void 0===t?void 0:t.serialize(e)}hasAltText(){return!!as(Kc,this)&&!as(Kc,this).isEmpty()}hasAltTextData(){var e,t;return null!==(e=null===(t=as(Kc,this))||void 0===t?void 0:t.hasData())&&void 0!==e&&e}addCommentButton(){return as(Xc,this)?as(Xc,this):ss(Xc,this,new Sc(this))}get commentColor(){return null}get comment(){const e=as(Xc,this);return{text:e.data.text,date:e.data.date,deleted:e.isDeleted(),color:this.commentColor}}set comment(e){as(Xc,this)||ss(Xc,this,new Sc(this)),as(Xc,this).data=e}setCommentData(e){as(Xc,this)||ss(Xc,this,new Sc(this)),as(Xc,this).setInitialText(e)}get hasEditedComment(){var e;return null===(e=as(Xc,this))||void 0===e?void 0:e.hasBeenEdited()}async editComment(){as(Xc,this)||ss(Xc,this,new Sc(this)),as(Xc,this).edit()}addComment(e){if(this.hasEditedComment){const t=180,n=100,[,,,i]=e.rect,[a]=this.pageDimensions,[s]=this.pageTranslation,r=s+a+1,o=i-n,l=r+t;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[r,o,l,i]}}}render(){var e;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=as(Jc,this)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),ns(vd,this,Ld).call(this);const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth="".concat((100*i/n).toFixed(2),"%"),t.style.maxHeight="".concat((100*n/i).toFixed(2),"%"));const[a,s]=this.getInitialTranslation();return this.translate(a,s),No(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(as(md,this)||ss(md,this,new zc({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:ns(vd,this,_d).bind(this),onPinching:ns(vd,this,Sd).bind(this),onPinchEnd:ns(vd,this,Ed).bind(this),signal:this._uiManager._signal}))),null===(e=this._uiManager._editorUndoBar)||void 0===e||e.hide(),t}pointerdown(e){const{isMac:t}=Nr.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(ss(sd,this,!0),this._isDraggable?ns(vd,this,Pd).call(this,e):ns(vd,this,Md).call(this,e))}_onStartDragging(){}_onStopDragging(){}moveInDOM(){as(dd,this)&&clearTimeout(as(dd,this)),ss(dd,this,setTimeout(()=>{var e;ss(dd,this,null),null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const i=this.parentScale,[a,s]=this.pageDimensions,[r,o]=this.pageTranslation,l=e/i,c=t/i,d=this.x*a,h=this.y*s,u=this.width*a,p=this.height*s;switch(n){case 0:return[d+l+r,s-h-c-p+o,d+l+u+r,s-h-c+o];case 90:return[d+c+r,s-h+l+o,d+c+p+r,s-h+l+u+o];case 180:return[d-l-u+r,s-h+c+o,d-l+r,s-h+c+p+o];case 270:return[d-c-p+r,s-h-l-u+o,d-c+r,s-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,a,s]=e,r=a-n,o=s-i;switch(this.rotation){case 0:return[n,t-s,r,o];case 90:return[n,t-i,o,r];case 180:return[a,t-i,r,o];case 270:return[a,t-s,o,r];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return!this.isInEditMode()&&(this.parent.setEditingState(!1),ss(ld,this,!0),!0)}disableEditMode(){return!!this.isInEditMode()&&(this.parent.setEditingState(!0),ss(ld,this,!1),!0)}isInEditMode(){return as(ld,this)}shouldGetKeyboardEvents(){return as(cd,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:a,innerWidth:s}=window;return t<s&&i>0&&e<a&&n>0}rebuild(){ns(vd,this,Ld).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(e=this._initialData)||void 0===e?void 0:e.popupRef)||""}}serialize(){lr("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n,annotationElementId:e.annotationElementId});i.rotation=e.rotation,ss(Vc,i,e.accessibilityData),i._isCopy=e.isCopy||!1;const[a,s]=i.pageDimensions,[r,o,l,c]=i.getRectInCurrentCoords(e.rect,s);return i.x=r/a,i.y=o/s,i.width=l/a,i.height=c/s,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var e,t;if(null===(e=as(id,this))||void 0===e||e.abort(),ss(id,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),as(dd,this)&&(clearTimeout(as(dd,this)),ss(dd,this,null)),ns(vd,this,Dd).call(this),this.removeEditToolbar(),as(pd,this)){for(const e of as(pd,this).values())clearTimeout(e);ss(pd,this,null)}this.parent=null,null===(t=as(md,this))||void 0===t||t.destroy(),ss(md,this,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ns(vd,this,Nd).call(this),as(ed,this).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),ss(nd,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=as(ed,this).children;if(!as(Yc,this)){ss(Yc,this,Array.from(t));const e=ns(vd,this,Td).bind(this),n=ns(vd,this,Id).bind(this),i=this._uiManager._signal;for(const t of as(Yc,this)){const a=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:i}),t.addEventListener("blur",n,{signal:i}),t.addEventListener("focus",ns(vd,this,Fd).bind(this,a),{signal:i}),t.setAttribute("data-l10n-id",bd._l10nResizer[a])}}const n=as(Yc,this)[0];let i=0;for(const s of t){if(s===n)break;i++}const a=(360-this.rotation+this.parentRotation)%360/90*(as(Yc,this).length/4);if(a!==i){if(a<i)for(let t=0;t<i-a;t++)as(ed,this).append(as(ed,this).firstChild);else if(a>i)for(let t=0;t<a-i;t++)as(ed,this).firstChild.before(as(ed,this).lastChild);let e=0;for(const n of t){const t=as(Yc,this)[e++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",bd._l10nResizer[t])}}ns(vd,this,Rd).call(this,0),ss(cd,this,!0),as(ed,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){as(cd,this)&&ns(vd,this,Cd).call(this,as(ad,this),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){ns(vd,this,Dd).call(this),this.div.focus()}select(){var e,t,n;this.isSelected&&this._editToolbar||(this.isSelected=!0,this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),this._editToolbar?(null===(t=this._editToolbar)||void 0===t||t.show(),null===(n=as(Kc,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then(()=>{var e,t;null!==(e=this.div)&&void 0!==e&&e.classList.contains("selectedEditor")&&(null===(t=this._editToolbar)||void 0===t||t.show())}))}unselect(){var e,t,n,i,a;this.isSelected&&(this.isSelected=!1,null===(e=as(ed,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(i=this._editToolbar)||void 0===i||i.hide(),null===(a=as(Kc,this))||void 0===a||a.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return as(od,this)}set isEditing(e){ss(od,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){ss($c,this,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){as(pd,this)||ss(pd,this,new Map);const{action:t}=e;let n=as(pd,this).get(t);return n&&clearTimeout(n),n=setTimeout(()=>{this._reportTelemetry(e),as(pd,this).delete(t),0===as(pd,this).size&&ss(pd,this,null)},bd._telemetryTimeout),void as(pd,this).set(t,n)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),ss(Jc,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),ss(Jc,this,!0)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===(null===t||void 0===t?void 0:t.nodeName)&&t.classList.contains("annotationContent")&&t.remove()}}function yd(e,t,n){let[i,a]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/i,this.y+=n/a,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}function xd(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function wd(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function Nd(){if(as(ed,this))return;ss(ed,this,document.createElement("div")),as(ed,this).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");as(ed,this).append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",ns(vd,this,Ad).bind(this,n),{signal:t}),e.addEventListener("contextmenu",zr,{signal:t}),e.tabIndex=-1}this.div.prepend(as(ed,this))}function Ad(e,t){var n;t.preventDefault();const{isMac:i}=Nr.platform;if(0!==t.button||t.ctrlKey&&i)return;null===(n=as(Kc,this))||void 0===n||n.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,ss(td,this,[t.screenX,t.screenY]);const s=new AbortController,r=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ns(vd,this,Cd).bind(this,e),{passive:!0,capture:!0,signal:r}),window.addEventListener("touchmove",Ur,{passive:!1,signal:r}),window.addEventListener("contextmenu",zr,{signal:r}),ss(nd,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var e;s.abort(),this.parent.togglePointerEvents(!0),null===(e=as(Kc,this))||void 0===e||e.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=o,this.div.style.cursor=l,ns(vd,this,jd).call(this)};window.addEventListener("pointerup",c,{signal:r}),window.addEventListener("blur",c,{signal:r})}function kd(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t;const[a,s]=this.parentDimensions;this.setDims(a*n,s*i),this.fixAndSetPosition(),this._onResized()}function jd(){if(!as(nd,this))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=as(nd,this);ss(nd,this,null);const a=this.x,s=this.y,r=this.width,o=this.height;a===e&&s===t&&r===n&&o===i||this.addCommands({cmd:ns(vd,this,kd).bind(this,a,s,r,o),undo:ns(vd,this,kd).bind(this,e,t,n,i),mustExec:!0})}function Cd(e,t){const[n,i]=this.parentDimensions,a=this.x,s=this.y,r=this.width,o=this.height,l=ds.MIN_SIZE/n,c=ds.MIN_SIZE/i,d=ns(vd,this,wd).call(this,this.rotation),h=(e,t)=>[d[0]*e+d[2]*t,d[1]*e+d[3]*t],u=ns(vd,this,wd).call(this,360-this.rotation);let p,m,f=!1,g=!1;switch(e){case"topLeft":f=!0,p=(e,t)=>[0,0],m=(e,t)=>[e,t];break;case"topMiddle":p=(e,t)=>[e/2,0],m=(e,t)=>[e/2,t];break;case"topRight":f=!0,p=(e,t)=>[e,0],m=(e,t)=>[0,t];break;case"middleRight":g=!0,p=(e,t)=>[e,t/2],m=(e,t)=>[0,t/2];break;case"bottomRight":f=!0,p=(e,t)=>[e,t],m=(e,t)=>[0,0];break;case"bottomMiddle":p=(e,t)=>[e/2,t],m=(e,t)=>[e/2,0];break;case"bottomLeft":f=!0,p=(e,t)=>[0,t],m=(e,t)=>[e,0];break;case"middleLeft":g=!0,p=(e,t)=>[0,t/2],m=(e,t)=>[e,t/2]}const v=p(r,o),b=m(r,o);let y=h(...b);const x=ds._round(a+y[0]),w=ds._round(s+y[1]);let N,A,k=1,j=1;if(t.fromKeyboard)({deltaX:N,deltaY:A}=t);else{const{screenX:e,screenY:n}=t,[i,a]=as(td,this);[N,A]=this.screenToPageTranslation(e-i,n-a),as(td,this)[0]=e,as(td,this)[1]=n}var C,_;if([N,A]=(C=N/n,_=A/i,[u[0]*C+u[2]*_,u[1]*C+u[3]*_]),f){const e=Math.hypot(r,o);k=j=Math.max(Math.min(Math.hypot(b[0]-v[0]-N,b[1]-v[1]-A)/e,1/r,1/o),l/r,c/o)}else g?k=Pr(Math.abs(b[0]-v[0]-N),l,1)/r:j=Pr(Math.abs(b[1]-v[1]-A),c,1)/o;const S=ds._round(r*k),E=ds._round(o*j);y=h(...m(S,E));const M=x-y[0],P=w-y[1];as(rd,this)||ss(rd,this,[this.x,this.y,this.width,this.height]),this.width=S,this.height=E,this.x=M,this.y=P,this.setDims(n*S,i*E),this.fixAndSetPosition(),this._onResizing()}function _d(){var e;ss(nd,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),null===(e=as(Kc,this))||void 0===e||e.toggle(!1),this.parent.togglePointerEvents(!1)}function Sd(e,t,n){let i=n/t*.7+1-.7;if(1===i)return;const a=ns(vd,this,wd).call(this,this.rotation),s=(e,t)=>[a[0]*e+a[2]*t,a[1]*e+a[3]*t],[r,o]=this.parentDimensions,l=this.x,c=this.y,d=this.width,h=this.height,u=ds.MIN_SIZE/r,p=ds.MIN_SIZE/o;i=Math.max(Math.min(i,1/d,1/h),u/d,p/h);const m=ds._round(d*i),f=ds._round(h*i);if(m===d&&f===h)return;as(rd,this)||ss(rd,this,[l,c,d,h]);const g=s(d/2,h/2),v=ds._round(l+g[0]),b=ds._round(c+g[1]),y=s(m/2,f/2);this.x=v-y[0],this.y=b-y[1],this.width=m,this.height=f,this.setDims(r*m,o*f),this.fixAndSetPosition(),this._onResizing()}function Ed(){var e;null===(e=as(Kc,this))||void 0===e||e.toggle(!0),this.parent.togglePointerEvents(!0),ns(vd,this,jd).call(this)}function Md(e){const{isMac:t}=Nr.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Pd(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,a=this._uiManager.combinedSignal(i),s={capture:!0,passive:!1,signal:a},r=e=>{i.abort(),ss(Qc,this,null),ss(sd,this,!1),this._uiManager.endDragSession()||ns(vd,this,Md).call(this,e),n&&this._onStopDragging()};t&&(ss(hd,this,e.clientX),ss(ud,this,e.clientY),ss(Qc,this,e.pointerId),ss(Zc,this,e.pointerType),window.addEventListener("pointermove",e=>{n||(n=!0,this._onStartDragging());const{clientX:t,clientY:i,pointerId:a}=e;if(a!==as(Qc,this))return void Ur(e);const[s,r]=this.screenToPageTranslation(t-as(hd,this),i-as(ud,this));ss(hd,this,t),ss(ud,this,i),this._uiManager.dragSelectedEditors(s,r)},s),window.addEventListener("touchmove",Ur,s),window.addEventListener("pointerdown",e=>{e.pointerType===as(Zc,this)&&(as(md,this)||e.isPrimary)&&r(e),Ur(e)},s));const o=e=>{as(Qc,this)&&as(Qc,this)!==e.pointerId?Ur(e):r(e)};window.addEventListener("pointerup",o,{signal:a}),window.addEventListener("blur",o,{signal:a})}function Ld(){if(as(id,this)||!this.div)return;ss(id,this,new AbortController);const e=this._uiManager.combinedSignal(as(id,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}function Td(e){ds._resizerKeyboardManager.exec(this,e)}function Id(e){var t;as(cd,this)&&(null===(t=e.relatedTarget)||void 0===t?void 0:t.parentNode)!==as(ed,this)&&ns(vd,this,Dd).call(this)}function Fd(e){ss(ad,this,as(cd,this)?e:"")}function Rd(e){if(as(Yc,this))for(const t of as(Yc,this))t.tabIndex=e}function Dd(){ss(cd,this,!1),ns(vd,this,Rd).call(this,-1),ns(vd,this,jd).call(this)}ds=bd,(0,ws.A)(bd,"_l10n",null),(0,ws.A)(bd,"_l10nResizer",null),(0,ws.A)(bd,"_borderLineWidth",-1),(0,ws.A)(bd,"_colorManager",new Oo),(0,ws.A)(bd,"_zIndex",1),(0,ws.A)(bd,"_telemetryTimeout",1e3);class Bd extends bd{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Od=3285377520,Wd=4294901760,Hd=65535;class zd{constructor(e){this.h1=e?4294967295&e:Od,this.h2=e?4294967295&e:Od}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let i=0,a=e.length;i<a;i++){const a=e.charCodeAt(i);a<=255?t[n++]=a:(t[n++]=a>>>8,t[n++]=255&a)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const i=n>>2,a=n-4*i,s=new Uint32Array(t.buffer,0,i);let r=0,o=0,l=this.h1,c=this.h2;const d=3432918353,h=461845907,u=11601,p=13715;for(let m=0;m<i;m++)1&m?(r=s[m],r=r*d&Wd|r*u&Hd,r=r<<15|r>>>17,r=r*h&Wd|r*p&Hd,l^=r,l=l<<13|l>>>19,l=5*l+3864292196):(o=s[m],o=o*d&Wd|o*u&Hd,o=o<<15|o>>>17,o=o*h&Wd|o*p&Hd,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(r=0,a){case 3:r^=t[4*i+2]<<16;case 2:r^=t[4*i+1]<<8;case 1:r^=t[4*i],r=r*d&Wd|r*u&Hd,r=r<<15|r>>>17,r=r*h&Wd|r*p&Hd,1&i?l^=r:c^=r}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&Wd|36045*e&Hd,t=4283543511*t&Wd|(2950163797*(t<<16|e>>>16)&Wd)>>>16,e^=t>>>1,e=444984403*e&Wd|60499*e&Hd,t=3301882366*t&Wd|(3120437893*(t<<16|e>>>16)&Wd)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Ud=Object.freeze({map:null,hash:"",transfer:void 0});var qd=new WeakMap,Gd=new WeakMap,Vd=new WeakMap,Yd=new WeakSet;class Kd{constructor(){es(this,Yd),ts(this,qd,!1),ts(this,Gd,null),ts(this,Vd,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=as(Vd,this).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return as(Vd,this).get(e)}remove(e){if(as(Vd,this).delete(e),0===as(Vd,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of as(Vd,this).values())if(e instanceof bd)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=as(Vd,this).get(e);let i=!1;if(void 0!==n)for(const[a,s]of Object.entries(t))n[a]!==s&&(i=!0,n[a]=s);else i=!0,as(Vd,this).set(e,t);i&&ns(Yd,this,Xd).call(this),t instanceof bd&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return as(Vd,this).has(e)}get size(){return as(Vd,this).size}resetModified(){as(qd,this)&&(ss(qd,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new Qd(this)}get serializable(){if(0===as(Vd,this).size)return Ud;const e=new Map,t=new zd,n=[],i=Object.create(null);let a=!1;for(const[s,r]of as(Vd,this)){const n=r instanceof bd?r.serialize(!1,i):r;n&&(e.set(s,n),t.update("".concat(s,":").concat(JSON.stringify(n))),a||(a=!!n.bitmap))}if(a)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:Ud}get editorStats(){let e=null;const t=new Map;for(const a of as(Vd,this).values()){var n;if(!(a instanceof bd))continue;const s=a.telemetryFinalData;if(!s)continue;const{type:r}=s;t.has(r)||t.set(r,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const o=(n=e)[r]||(n[r]=new Map);for(const[e,t]of Object.entries(s)){var i;if("type"===e)continue;let n=o.get(e);n||(n=new Map,o.set(e,n));const a=null!==(i=n.get(t))&&void 0!==i?i:0;n.set(t,a+1)}}for(const[a,s]of t)e[a]=s.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){ss(Gd,this,null)}get modifiedIds(){if(as(Gd,this))return as(Gd,this);const e=[];for(const t of as(Vd,this).values())t instanceof bd&&t.annotationElementId&&t.serialize()&&e.push(t.annotationElementId);return ss(Gd,this,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return as(Vd,this).entries()}}function Xd(){as(qd,this)||(ss(qd,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var Jd=new WeakMap;class Qd extends Kd{constructor(e){super(),ts(this,Jd,void 0);const{map:t,hash:n,transfer:i}=e.serializable,a=structuredClone(t,i?{transfer:i}:null);ss(Jd,this,{map:a,hash:n,transfer:i})}get print(){lr("Should not call PrintAnnotationStorage.print")}get serializable(){return as(Jd,this)}get modifiedIds(){return ur(this,"modifiedIds",{ids:new Set,hash:""})}}var Zd=new WeakMap;class $d{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;ts(this,Zd,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),as(Zd,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,disableFontFace:n,_inspectFont:i}=e;if(t&&!as(Zd,this).has(t.loadedName)){if(cr(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:n,style:s}=t,r=new FontFace(e,n,s);this.addNativeFontFace(r);try{await r.load(),as(Zd,this).add(e),null===i||void 0===i||i(t)}catch(a){or("Cannot load system font: ".concat(t.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(r)}return}lr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw or("Failed to load font '".concat(t.family,"': '").concat(n,"'.")),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)})}}get isFontLoadingAPISupported(){var e;return ur(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}get isSyncFontLoadingSupported(){return ur(this,"isSyncFontLoadingSupported",As||Nr.platform.isFirefox)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(cr(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return ur(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function i(e,t,n,i){return e.substring(0,t)+i+e.substring(t+n)}let a,s;const r=this._document.createElement("canvas");r.width=1,r.height=1;const o=r.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let d=this._loadTestFont;d=i(d,976,c.length,c);const h=1482184792;let u=n(d,16);for(a=0,s=c.length-3;a<s;a+=4)u=u-h+n(c,a)|0;var p;a<c.length&&(u=u-h+n(c+"XXX",a)|0),d=i(d,16,4,(p=u,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const m="url(data:font/opentype;base64,".concat(btoa(d),");"),f='@font-face {font-family:"'.concat(c,'";src:').concat(m,"}");this.insertRule(f);const g=this._document.createElement("div");g.style.visibility="hidden",g.style.width=g.style.height="10px",g.style.position="absolute",g.style.top=g.style.left="0px";for(const v of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=v,g.append(e)}this._document.body.append(g),function e(t,n){if(++l>30)return or("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,()=>{g.remove(),t.complete()})}}class eh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.compiledGlyphs=Object.create(null);for(const n in e)this[n]=e[n];this._inspectFont=t}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t="url(data:".concat(this.mimetype,";base64,").concat(Lr(this.data),");");let n;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(t,"}")}else n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,t),n}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(s){or('getPathGenerator - ignoring character: "'.concat(s,'".'))}const a=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=a}}function th(e){if("string"!==typeof e)return null;if(e.endsWith("/"))return e;throw new Error('Invalid factory url: "'.concat(e,'" must include trailing slash.'))}const nh=e=>"object"===typeof e&&Number.isInteger(null===e||void 0===e?void 0:e.num)&&e.num>=0&&Number.isInteger(null===e||void 0===e?void 0:e.gen)&&e.gen>=0,ih=function(e,t,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,a,...s]=n;if(!e(i)&&!Number.isInteger(i))return!1;if(!t(a))return!1;const r=s.length;let o=!0;switch(a.name){case"XYZ":if(r<2||r>3)return!1;break;case"Fit":case"FitB":return 0===r;case"FitH":case"FitBH":case"FitV":case"FitBV":if(r>1)return!1;break;case"FitR":if(4!==r)return!1;o=!1;break;default:return!1}for(const l of s)if(!("number"===typeof l||o&&null===l))return!1;return!0}.bind(null,nh,e=>"object"===typeof e&&"string"===typeof(null===e||void 0===e?void 0:e.name));var ah=new WeakMap,sh=new WeakMap;class rh{constructor(){ts(this,ah,new Map),ts(this,sh,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};as(sh,this).then(()=>{for(const[e]of as(ah,this))e.call(this,n)})}addEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:a}=n;if(a.aborted)return void or("LoopbackPort - cannot use an `aborted` signal.");const s=()=>this.removeEventListener(e,t);i=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}as(ah,this).set(t,i)}removeEventListener(e,t){const n=as(ah,this).get(t);null===n||void 0===n||n(),as(ah,this).delete(t)}terminate(){for(const[,e]of as(ah,this))null===e||void 0===e||e();as(ah,this).clear()}}const oh=1,lh=2,ch=1,dh=2,hh=3,uh=4,ph=5,mh=6,fh=7,gh=8;function vh(){}function bh(e){if(e instanceof yr||e instanceof gr||e instanceof mr||e instanceof vr||e instanceof fr)return e;switch(e instanceof Error||"object"===typeof e&&null!==e||lr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new yr(e.message);case"InvalidPDFException":return new gr(e.message);case"PasswordException":return new mr(e.message,e.code);case"ResponseException":return new vr(e.message,e.status,e.missing);case"UnknownErrorException":return new fr(e.message,e.details)}return new fr(e.message,e.toString())}var yh=new WeakMap,xh=new WeakSet;class wh{constructor(e,t,n){es(this,xh),ts(this,yh,new AbortController),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",ns(xh,this,Nh).bind(this),{signal:as(yh,this).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[i]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,t,n,i){const a=this.streamId++,s=this.sourceName,r=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[a]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:s,targetName:r,action:e,streamId:a,data:t,desiredSize:n.desiredSize},i),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[a].pullCall=t,o.postMessage({sourceName:s,targetName:r,stream:mh,streamId:a,desiredSize:e.desiredSize}),t.promise},cancel:e=>{cr(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[a].cancelCall=t,this.streamControllers[a].isClosed=!0,o.postMessage({sourceName:s,targetName:r,stream:ch,streamId:a,reason:bh(e)}),t.promise}},n)}destroy(){var e;null===(e=as(yh,this))||void 0===e||e.abort(),ss(yh,this,null)}}function Nh(e){let{data:t}=e;if(t.targetName!==this.sourceName)return;if(t.stream)return void ns(xh,this,kh).call(this,t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===oh)n.resolve(t.data);else{if(t.callback!==lh)throw new Error("Unexpected callback case");n.reject(bh(t.reason))}return}const n=this.actionHandler[t.action];if(!n)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,i=t.sourceName,a=this.comObj;return void Promise.try(n,t.data).then(function(n){a.postMessage({sourceName:e,targetName:i,callback:oh,callbackId:t.callbackId,data:n})},function(n){a.postMessage({sourceName:e,targetName:i,callback:lh,callbackId:t.callbackId,reason:bh(n)})})}t.streamId?ns(xh,this,Ah).call(this,t):n(t.data)}function Ah(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,s=this,r=this.actionHandler[e.action],o={enqueue(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=s,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:i,stream:uh,streamId:t,chunk:e},r)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:hh,streamId:t}),delete s.streamSinks[t])},error(e){cr(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:i,stream:ph,streamId:t,reason:bh(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,Promise.try(r,e.data,o).then(function(){a.postMessage({sourceName:n,targetName:i,stream:gh,streamId:t,success:!0})},function(e){a.postMessage({sourceName:n,targetName:i,stream:gh,streamId:t,reason:bh(e)})})}function kh(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,a=this.comObj,s=this.streamControllers[t],r=this.streamSinks[t];switch(e.stream){case gh:e.success?s.startCall.resolve():s.startCall.reject(bh(e.reason));break;case fh:e.success?s.pullCall.resolve():s.pullCall.reject(bh(e.reason));break;case mh:if(!r){a.postMessage({sourceName:n,targetName:i,stream:fh,streamId:t,success:!0});break}r.desiredSize<=0&&e.desiredSize>0&&r.sinkCapability.resolve(),r.desiredSize=e.desiredSize,Promise.try(r.onPull||vh).then(function(){a.postMessage({sourceName:n,targetName:i,stream:fh,streamId:t,success:!0})},function(e){a.postMessage({sourceName:n,targetName:i,stream:fh,streamId:t,reason:bh(e)})});break;case uh:if(cr(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case hh:if(cr(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),ns(xh,this,jh).call(this,s,t);break;case ph:cr(s,"error should have stream controller"),s.controller.error(bh(e.reason)),ns(xh,this,jh).call(this,s,t);break;case dh:e.success?s.cancelCall.resolve():s.cancelCall.reject(bh(e.reason)),ns(xh,this,jh).call(this,s,t);break;case ch:if(!r)break;const o=bh(e.reason);Promise.try(r.onCancel||vh,o).then(function(){a.postMessage({sourceName:n,targetName:i,stream:dh,streamId:t,success:!0})},function(e){a.postMessage({sourceName:n,targetName:i,stream:dh,streamId:t,reason:bh(e)})}),r.sinkCapability.reject(o),r.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function jh(e,t){var n,i,a;await Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(i=e.pullCall)||void 0===i?void 0:i.promise,null===(a=e.cancelCall)||void 0===a?void 0:a.promise]),delete this.streamControllers[t]}var Ch=new WeakMap;class _h{constructor(e){let{enableHWA:t=!1}=e;ts(this,Ch,!1),ss(Ch,this,t)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!as(Ch,this)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){lr("Abstract method `_createCanvas` called.")}}class Sh extends _h{constructor(e){let{ownerDocument:t=globalThis.document,enableHWA:n=!1}=e;super({enableHWA:n}),this._document=t}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class Eh{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then(e=>({cMapData:e,isCompressed:this.isCompressed})).catch(e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))})}async _fetch(e){lr("Abstract method `_fetch` called.")}}class Mh extends Eh{async _fetch(e){const t=await Fr(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):wr(t)}}class Ph{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,a){return"none"}destroy(){}}var Lh=new WeakMap,Th=new WeakMap,Ih=new WeakMap,Fh=new WeakMap,Rh=new WeakMap,Dh=new WeakMap,Bh=new WeakMap,Oh=new WeakSet;class Wh extends Ph{constructor(e){let{docId:t,ownerDocument:n=globalThis.document}=e;super(),es(this,Oh),ts(this,Lh,void 0),ts(this,Th,void 0),ts(this,Ih,void 0),ts(this,Fh,void 0),ts(this,Rh,void 0),ts(this,Dh,void 0),ts(this,Bh,0),ss(Fh,this,t),ss(Rh,this,n)}addFilter(e){var t,n;if(!e)return"none";let i=is(Oh,this,Hh).get(e);if(i)return i;const[a,s,r]=ns(Oh,this,qh).call(this,e),o=1===e.length?a:"".concat(a).concat(s).concat(r);if(i=is(Oh,this,Hh).get(o),i)return is(Oh,this,Hh).set(e,i),i;const l="g_".concat(as(Fh,this),"_transfer_map_").concat((ss(Bh,this,(t=as(Bh,this),n=t++,t)),n)),c=ns(Oh,this,Gh).call(this,l);is(Oh,this,Hh).set(e,c),is(Oh,this,Hh).set(o,c);const d=ns(Oh,this,Kh).call(this,l);return ns(Oh,this,Jh).call(this,a,s,r,d),c}addHCMFilter(e,t){var n;const i="".concat(e,"-").concat(t),a="base";let s=is(Oh,this,zh).get(a);if((null===(n=s)||void 0===n?void 0:n.key)===i)return s.url;var r;s?(null===(r=s.filter)||void 0===r||r.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},is(Oh,this,zh).set(a,s));if(!e||!t)return s.url;const o=ns(Oh,this,Zh).call(this,e);e=kr.makeHexColor(...o);const l=ns(Oh,this,Zh).call(this,t);if(t=kr.makeHexColor(...l),is(Oh,this,Uh).style.color="","#000000"===e&&"#ffffff"===t||e===t)return s.url;const c=new Array(256);for(let m=0;m<=255;m++){const e=m/255;c[m]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const d=c.join(","),h="g_".concat(as(Fh,this),"_hcm_filter"),u=s.filter=ns(Oh,this,Kh).call(this,h);ns(Oh,this,Jh).call(this,d,d,d,u),ns(Oh,this,Yh).call(this,u);const p=(e,t)=>{const n=o[e]/255,i=l[e]/255,a=new Array(t+1);for(let s=0;s<=t;s++)a[s]=n+s/t*(i-n);return a.join(",")};return ns(Oh,this,Jh).call(this,p(0,5),p(1,5),p(2,5),u),s.url=ns(Oh,this,Gh).call(this,h),s.url}addAlphaFilter(e){var t,n;let i=is(Oh,this,Hh).get(e);if(i)return i;const[a]=ns(Oh,this,qh).call(this,[e]),s="alpha_".concat(a);if(i=is(Oh,this,Hh).get(s),i)return is(Oh,this,Hh).set(e,i),i;const r="g_".concat(as(Fh,this),"_alpha_map_").concat((ss(Bh,this,(t=as(Bh,this),n=t++,t)),n)),o=ns(Oh,this,Gh).call(this,r);is(Oh,this,Hh).set(e,o),is(Oh,this,Hh).set(s,o);const l=ns(Oh,this,Kh).call(this,r);return ns(Oh,this,Qh).call(this,a,l),o}addLuminosityFilter(e){var t,n;let i,a,s=is(Oh,this,Hh).get(e||"luminosity");if(s)return s;if(e?([i]=ns(Oh,this,qh).call(this,[e]),a="luminosity_".concat(i)):a="luminosity",s=is(Oh,this,Hh).get(a),s)return is(Oh,this,Hh).set(e,s),s;const r="g_".concat(as(Fh,this),"_luminosity_map_").concat((ss(Bh,this,(t=as(Bh,this),n=t++,t)),n)),o=ns(Oh,this,Gh).call(this,r);is(Oh,this,Hh).set(e,o),is(Oh,this,Hh).set(a,o);const l=ns(Oh,this,Kh).call(this,r);return ns(Oh,this,Vh).call(this,l),e&&ns(Oh,this,Qh).call(this,i,l),o}addHighlightHCMFilter(e,t,n,i,a){var s;const r="".concat(t,"-").concat(n,"-").concat(i,"-").concat(a);let o=is(Oh,this,zh).get(e);if((null===(s=o)||void 0===s?void 0:s.key)===r)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},is(Oh,this,zh).set(e,o));if(!t||!n)return o.url;const[c,d]=[t,n].map(ns(Oh,this,Zh).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),u=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,m]=[i,a].map(ns(Oh,this,Zh).bind(this));u<h&&([h,u,p,m]=[u,h,m,p]),is(Oh,this,Uh).style.color="";const f=(e,t,n)=>{const i=new Array(256),a=(u-h)/n,s=e/255,r=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(h+l*a),t=s+l*r;for(let n=o;n<=e;n++)i[n]=t;o=e+1}for(let l=o;l<256;l++)i[l]=i[o-1];return i.join(",")},g="g_".concat(as(Fh,this),"_hcm_").concat(e,"_filter"),v=o.filter=ns(Oh,this,Kh).call(this,g);return ns(Oh,this,Yh).call(this,v),ns(Oh,this,Jh).call(this,f(p[0],m[0],5),f(p[1],m[1],5),f(p[2],m[2],5),v),o.url=ns(Oh,this,Gh).call(this,g),o.url}destroy(){var e,t,n,i;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&null!==(e=as(Dh,this))&&void 0!==e&&e.size||(null===(t=as(Ih,this))||void 0===t||t.parentNode.parentNode.remove(),ss(Ih,this,null),null===(n=as(Th,this))||void 0===n||n.clear(),ss(Th,this,null),null===(i=as(Dh,this))||void 0===i||i.clear(),ss(Dh,this,null),ss(Bh,this,0))}}function Hh(e){return as(Th,e)||ss(Th,e,new Map)}function zh(e){return as(Dh,e)||ss(Dh,e,new Map)}function Uh(e){if(!as(Ih,e)){const t=as(Rh,e).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=as(Rh,e).createElementNS(Tr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),ss(Ih,e,as(Rh,e).createElementNS(Tr,"defs")),t.append(i),i.append(as(Ih,e)),as(Rh,e).body.append(t)}return as(Ih,e)}function qh(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const i=n.join(",");return[i,i,i]}const[t,n,i]=e,a=new Array(256),s=new Array(256),r=new Array(256);for(let o=0;o<256;o++)a[o]=t[o]/255,s[o]=n[o]/255,r[o]=i[o]/255;return[a.join(","),s.join(","),r.join(",")]}function Gh(e){if(void 0===as(Lh,this)){ss(Lh,this,"");const e=as(Rh,this).URL;e!==as(Rh,this).baseURI&&(Br(e)?or('#createUrl: ignore "data:"-URL for performance reasons.'):ss(Lh,this,hr(e,"")))}return"url(".concat(as(Lh,this),"#").concat(e,")")}function Vh(e){const t=as(Rh,this).createElementNS(Tr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}function Yh(e){const t=as(Rh,this).createElementNS(Tr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function Kh(e){const t=as(Rh,this).createElementNS(Tr,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),is(Oh,this,Uh).append(t),t}function Xh(e,t,n){const i=as(Rh,this).createElementNS(Tr,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",n),e.append(i)}function Jh(e,t,n,i){const a=as(Rh,this).createElementNS(Tr,"feComponentTransfer");i.append(a),ns(Oh,this,Xh).call(this,a,"feFuncR",e),ns(Oh,this,Xh).call(this,a,"feFuncG",t),ns(Oh,this,Xh).call(this,a,"feFuncB",n)}function Qh(e,t){const n=as(Rh,this).createElementNS(Tr,"feComponentTransfer");t.append(n),ns(Oh,this,Xh).call(this,n,"feFuncA",e)}function Zh(e){return is(Oh,this,Uh).style.color=e,Vr(getComputedStyle(is(Oh,this,Uh)).getPropertyValue("color"))}class $h{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch(e=>{throw new Error("Unable to load font data at: ".concat(n))})}async _fetch(e){lr("Abstract method `_fetch` called.")}}class eu extends $h{async _fetch(e){const t=await Fr(e,"arraybuffer");return new Uint8Array(t)}}class tu{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch(e=>{throw new Error("Unable to load wasm data at: ".concat(n))})}async _fetch(e){lr("Abstract method `_fetch` called.")}}class nu extends tu{async _fetch(e){const t=await Fr(e,"arraybuffer");return new Uint8Array(t)}}async function iu(e){const t=process.getBuiltinModule("fs"),n=await t.promises.readFile(e);return new Uint8Array(n)}As&&or("Please use the `legacy` build in Node.js environments.");class au extends Ph{}class su extends _h{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire("file:///c:/Users/PhilAgulnik/.claude/uc%20calculator%20test/node_modules/pdfjs-dist/build/pdf.mjs")("@napi-rs/canvas").createCanvas(e,t)}}class ru extends Eh{async _fetch(e){return iu(e)}}class ou extends $h{async _fetch(e){return iu(e)}}class lu extends tu{async _fetch(e){return iu(e)}}const cu="__forcedDependency";var du=new WeakMap,hu=new WeakMap,uu=new WeakMap,pu=new WeakMap,mu=new WeakMap,fu=new WeakMap,gu=new WeakMap,vu=new WeakMap,bu=new WeakMap,yu=new WeakMap,xu=new WeakMap,wu=new WeakMap,Nu=new WeakMap,Au=new WeakMap;class ku{constructor(e){ts(this,du,{__proto__:null}),ts(this,hu,{__proto__:null,transform:[],moveText:[],sameLineText:[],[cu]:[]}),ts(this,uu,new Map),ts(this,pu,[]),ts(this,mu,[]),ts(this,fu,[[1,0,0,1,0,0]]),ts(this,gu,[-1/0,-1/0,1/0,1/0]),ts(this,vu,new Float64Array([1/0,1/0,-1/0,-1/0])),ts(this,bu,-1),ts(this,yu,new Set),ts(this,xu,new Map),ts(this,wu,new Map),ts(this,Nu,void 0),ts(this,Au,void 0),ss(Nu,this,e.width),ss(Au,this,e.height)}save(e){return ss(du,this,{__proto__:as(du,this)}),ss(hu,this,{__proto__:as(hu,this),transform:{__proto__:as(hu,this).transform},moveText:{__proto__:as(hu,this).moveText},sameLineText:{__proto__:as(hu,this).sameLineText},[cu]:{__proto__:as(hu,this)[cu]}}),ss(gu,this,{__proto__:as(gu,this)}),as(pu,this).push([e,null]),this}restore(e){const t=Object.getPrototypeOf(as(du,this));if(null===t)return this;ss(du,this,t),ss(hu,this,Object.getPrototypeOf(as(hu,this))),ss(gu,this,Object.getPrototypeOf(as(gu,this)));const n=as(pu,this).pop();return void 0!==n&&(n[1]=e),this}recordOpenMarker(e){return as(pu,this).push([e,null]),this}getOpenMarker(){return 0===as(pu,this).length?null:as(pu,this).at(-1)[0]}recordCloseMarker(e){const t=as(pu,this).pop();return void 0!==t&&(t[1]=e),this}beginMarkedContent(e){return as(mu,this).push([e,null]),this}endMarkedContent(e){const t=as(mu,this).pop();return void 0!==t&&(t[1]=e),this}pushBaseTransform(e){return as(fu,this).push(kr.multiplyByDOMMatrix(as(fu,this).at(-1),e.getTransform())),this}popBaseTransform(){return as(fu,this).length>1&&as(fu,this).pop(),this}recordSimpleData(e,t){return as(du,this)[e]=t,this}recordIncrementalData(e,t){return as(hu,this)[e].push(t),this}resetIncrementalData(e,t){return as(hu,this)[e].length=0,this}recordNamedData(e,t){return as(uu,this).set(e,t),this}recordFutureForcedDependency(e,t){return this.recordIncrementalData(cu,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in as(du,this)&&this.recordFutureForcedDependency(t,as(du,this)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of as(yu,this))this.recordFutureForcedDependency(cu,e);return this}resetBBox(e){return ss(bu,this,e),as(vu,this)[0]=1/0,as(vu,this)[1]=1/0,as(vu,this)[2]=-1/0,as(vu,this)[3]=-1/0,this}get hasPendingBBox(){return-1!==as(bu,this)}recordClipBox(e,t,n,i,a,s){const r=kr.multiplyByDOMMatrix(as(fu,this).at(-1),t.getTransform()),o=[1/0,1/0,-1/0,-1/0];kr.axialAlignedBoundingBox([n,a,i,s],r,o);const l=kr.intersect(as(gu,this),o);return l?(as(gu,this)[0]=l[0],as(gu,this)[1]=l[1],as(gu,this)[2]=l[2],as(gu,this)[3]=l[3]):(as(gu,this)[0]=as(gu,this)[1]=1/0,as(gu,this)[2]=as(gu,this)[3]=-1/0),this}recordBBox(e,t,n,i,a,s){const r=as(gu,this);if(r[0]===1/0)return this;const o=kr.multiplyByDOMMatrix(as(fu,this).at(-1),t.getTransform());if(r[0]===-1/0)return kr.axialAlignedBoundingBox([n,a,i,s],o,as(vu,this)),this;const l=[1/0,1/0,-1/0,-1/0];return kr.axialAlignedBoundingBox([n,a,i,s],o,l),as(vu,this)[0]=Math.min(as(vu,this)[0],Math.max(l[0],r[0])),as(vu,this)[1]=Math.min(as(vu,this)[1],Math.max(l[1],r[1])),as(vu,this)[2]=Math.max(as(vu,this)[2],Math.min(l[2],r[2])),as(vu,this)[3]=Math.max(as(vu,this)[3],Math.min(l[3],r[3])),this}recordCharacterBBox(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6?arguments[6]:void 0;const o=n.bbox;let l,c;if(o&&(l=o[2]!==o[0]&&o[3]!==o[1]&&as(wu,this).get(n),!1!==l&&(c=[0,0,0,0],kr.axialAlignedBoundingBox(o,n.fontMatrix,c),1===i&&0===a&&0===s||kr.scaleMinMax([i,0,0,-i,a,s],c),l)))return this.recordBBox(e,t,c[0],c[2],c[1],c[3]);if(!r)return this.recordFullPageBBox(e);const d=r();return o&&c&&void 0===l&&(l=c[0]<=a-d.actualBoundingBoxLeft&&c[2]>=a+d.actualBoundingBoxRight&&c[1]<=s-d.actualBoundingBoxAscent&&c[3]>=s+d.actualBoundingBoxDescent,as(wu,this).set(n,l),l)?this.recordBBox(e,t,c[0],c[2],c[1],c[3]):this.recordBBox(e,t,a-d.actualBoundingBoxLeft,a+d.actualBoundingBoxRight,s-d.actualBoundingBoxAscent,s+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return as(vu,this)[0]=Math.max(0,as(gu,this)[0]),as(vu,this)[1]=Math.max(0,as(gu,this)[1]),as(vu,this)[2]=Math.min(as(Nu,this),as(gu,this)[2]),as(vu,this)[3]=Math.min(as(Au,this),as(gu,this)[3]),this}getSimpleIndex(e){return as(du,this)[e]}recordDependencies(e,t){const n=as(yu,this),i=as(du,this),a=as(hu,this);for(const s of t)s in as(du,this)?n.add(i[s]):s in a&&a[s].forEach(n.add,n);return this}copyDependenciesFromIncrementalOperation(e,t){const n=as(xu,this),i=as(yu,this);for(const a of as(hu,this)[t])n.get(a).dependencies.forEach(i.add,i.add(a));return this}recordNamedDependency(e,t){return as(uu,this).has(t)&&as(yu,this).add(as(uu,this).get(t)),this}recordOperation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.recordDependencies(e,[cu]);const n=new Set(as(yu,this)),i=as(pu,this).concat(as(mu,this)),a=as(bu,this)===e?{minX:as(vu,this)[0],minY:as(vu,this)[1],maxX:as(vu,this)[2],maxY:as(vu,this)[3]}:null;return as(xu,this).set(e,{bbox:a,pairs:i,dependencies:n}),t||ss(bu,this,-1),as(yu,this).clear(),this}bboxToClipBoxDropOperation(e){return-1!==as(bu,this)&&(ss(bu,this,-1),as(gu,this)[0]=Math.max(as(gu,this)[0],as(vu,this)[0]),as(gu,this)[1]=Math.max(as(gu,this)[1],as(vu,this)[1]),as(gu,this)[2]=Math.min(as(gu,this)[2],as(vu,this)[2]),as(gu,this)[3]=Math.min(as(gu,this)[3],as(vu,this)[3])),as(yu,this).clear(),this}_takePendingDependencies(){const e=as(yu,this);return ss(yu,this,new Set),e}_extractOperation(e){const t=as(xu,this).get(e);return as(xu,this).delete(e),t}_pushPendingDependencies(e){for(const t of e)as(yu,this).add(t)}take(){return as(wu,this).clear(),Array.from(as(xu,this),e=>{var t,n,i,a;let[s,{bbox:r,pairs:o,dependencies:l}]=e;return o.forEach(e=>e.forEach(l.add,l)),l.delete(s),{minX:(null!==(t=null===r||void 0===r?void 0:r.minX)&&void 0!==t?t:0)/as(Nu,this),maxX:(null!==(n=null===r||void 0===r?void 0:r.maxX)&&void 0!==n?n:as(Nu,this))/as(Nu,this),minY:(null!==(i=null===r||void 0===r?void 0:r.minY)&&void 0!==i?i:0)/as(Au,this),maxY:(null!==(a=null===r||void 0===r?void 0:r.maxY)&&void 0!==a?a:as(Au,this))/as(Au,this),dependencies:Array.from(l).sort((e,t)=>e-t),idx:s}})}}var ju=new WeakMap,Cu=new WeakMap,_u=new WeakMap,Su=new WeakMap,Eu=new WeakMap;class Mu{constructor(e,t){if(ts(this,ju,void 0),ts(this,Cu,void 0),ts(this,_u,0),ts(this,Su,void 0),ts(this,Eu,0),e instanceof Mu)return e;ss(ju,this,e),ss(Su,this,e._takePendingDependencies()),ss(Cu,this,t)}save(e){var t;return ss(Eu,this,(t=as(Eu,this),t++,t)),as(ju,this).save(as(Cu,this)),this}restore(e){var t;as(Eu,this)>0&&(as(ju,this).restore(as(Cu,this)),ss(Eu,this,(t=as(Eu,this),t--,t)));return this}recordOpenMarker(e){var t;return ss(_u,this,(t=as(_u,this),t++,t)),this}getOpenMarker(){return as(_u,this)>0?as(Cu,this):as(ju,this).getOpenMarker()}recordCloseMarker(e){var t;return ss(_u,this,(t=as(_u,this),t--,t)),this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return as(ju,this).pushBaseTransform(e),this}popBaseTransform(){return as(ju,this).popBaseTransform(),this}recordSimpleData(e,t){return as(ju,this).recordSimpleData(e,as(Cu,this)),this}recordIncrementalData(e,t){return as(ju,this).recordIncrementalData(e,as(Cu,this)),this}resetIncrementalData(e,t){return as(ju,this).resetIncrementalData(e,as(Cu,this)),this}recordNamedData(e,t){return this}recordFutureForcedDependency(e,t){return as(ju,this).recordFutureForcedDependency(e,as(Cu,this)),this}inheritSimpleDataAsFutureForcedDependencies(e){return as(ju,this).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return as(ju,this).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return as(ju,this).hasPendingBBox||as(ju,this).resetBBox(as(Cu,this)),this}get hasPendingBBox(){return as(ju,this).hasPendingBBox}recordClipBox(e,t,n,i,a,s){return as(ju,this).recordClipBox(as(Cu,this),t,n,i,a,s),this}recordBBox(e,t,n,i,a,s){return as(ju,this).recordBBox(as(Cu,this),t,n,i,a,s),this}recordCharacterBBox(e,t,n,i,a,s,r){return as(ju,this).recordCharacterBBox(as(Cu,this),t,n,i,a,s,r),this}recordFullPageBBox(e){return as(ju,this).recordFullPageBBox(as(Cu,this)),this}getSimpleIndex(e){return as(ju,this).getSimpleIndex(e)}recordDependencies(e,t){return as(ju,this).recordDependencies(as(Cu,this),t),this}copyDependenciesFromIncrementalOperation(e,t){return as(ju,this).copyDependenciesFromIncrementalOperation(as(Cu,this),t),this}recordNamedDependency(e,t){return as(ju,this).recordNamedDependency(as(Cu,this),t),this}recordOperation(e){as(ju,this).recordOperation(as(Cu,this),!0);const t=as(ju,this)._extractOperation(as(Cu,this));for(const n of t.dependencies)as(Su,this).add(n);return as(Su,this).delete(as(Cu,this)),as(Su,this).delete(null),this}bboxToClipBoxDropOperation(e){return as(ju,this).bboxToClipBoxDropOperation(as(Cu,this)),this}recordNestedDependencies(){as(ju,this)._pushPendingDependencies(as(Su,this))}take(){throw new Error("Unreachable")}}const Pu=["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],Lu=["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],Tu=["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],Iu=["filter","fillColor","fillAlpha"],Fu=["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation"],Ru=["transform"],Du=["transform","fillColor"],Bu="Fill",Ou="Stroke",Wu="Shading";function Hu(e,t){if(!t)return;const n=t[2]-t[0],i=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],n,i),e.clip(a)}class zu{isModifyingCurrentTransform(){return!1}getPattern(){lr("Abstract method `getPattern` called.")}}class Uu extends zu{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let a;if(i===Ou||i===Bu){const s=t.current.getClippedPathBoundingBox(i,Yr(e))||[0,0,0,0],r=Math.ceil(s[2]-s[0])||1,o=Math.ceil(s[3]-s[1])||1,l=t.cachedCanvases.getCanvas("pattern",r,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),n=kr.transform(n,[1,0,0,1,s[0],s[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),Hu(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),a=e.createPattern(l.canvas,"no-repeat");const d=new DOMMatrix(n);a.setTransform(d)}else Hu(e,this._bbox),a=this._createGradient(e);return a}}function qu(e,t,n,i,a,s,r,o){const l=t.coords,c=t.colors,d=e.data,h=4*e.width;let u;l[n+1]>l[i+1]&&(u=n,n=i,i=u,u=s,s=r,r=u),l[i+1]>l[a+1]&&(u=i,i=a,a=u,u=r,r=o,o=u),l[n+1]>l[i+1]&&(u=n,n=i,i=u,u=s,s=r,r=u);const p=(l[n]+t.offsetX)*t.scaleX,m=(l[n+1]+t.offsetY)*t.scaleY,f=(l[i]+t.offsetX)*t.scaleX,g=(l[i+1]+t.offsetY)*t.scaleY,v=(l[a]+t.offsetX)*t.scaleX,b=(l[a+1]+t.offsetY)*t.scaleY;if(m>=b)return;const y=c[s],x=c[s+1],w=c[s+2],N=c[r],A=c[r+1],k=c[r+2],j=c[o],C=c[o+1],_=c[o+2],S=Math.round(m),E=Math.round(b);let M,P,L,T,I,F,R,D;for(let B=S;B<=E;B++){if(B<g){const e=B<m?0:(m-B)/(m-g);M=p-(p-f)*e,P=y-(y-N)*e,L=x-(x-A)*e,T=w-(w-k)*e}else{let e;e=B>b?1:g===b?0:(g-B)/(g-b),M=f-(f-v)*e,P=N-(N-j)*e,L=A-(A-C)*e,T=k-(k-_)*e}let e;e=B<m?0:B>b?1:(m-B)/(m-b),I=p-(p-v)*e,F=y-(y-j)*e,R=x-(x-C)*e,D=w-(w-_)*e;const t=Math.round(Math.min(M,I)),n=Math.round(Math.max(M,I));let i=h*B+4*t;for(let a=t;a<=n;a++)e=(M-a)/(M-I),e<0?e=0:e>1&&(e=1),d[i++]=P-(P-F)*e|0,d[i++]=L-(L-R)*e|0,d[i++]=T-(T-D)*e|0,d[i++]=255}}function Gu(e,t,n){const i=t.coords,a=t.colors;let s,r;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(i.length/o)-1,c=o-1;for(s=0;s<l;s++){let t=s*o;for(let s=0;s<c;s++,t++)qu(e,n,i[t],i[t+1],i[t+o],a[t],a[t+1],a[t+o]),qu(e,n,i[t+o+1],i[t+1],i[t+o],a[t+o+1],a[t+1],a[t+o])}break;case"triangles":for(s=0,r=i.length;s<r;s+=3)qu(e,n,i[s],i[s+1],i[s+2],a[s],a[s+1],a[s+2]);break;default:throw new Error("illegal figure")}}class Vu extends zu{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,n){const i=Math.floor(this._bounds[0]),a=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-i,r=Math.ceil(this._bounds[3])-a,o=Math.min(Math.ceil(Math.abs(s*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(r*e[1]*1.1)),3e3),c=s/o,d=r/l,h={coords:this._coords,colors:this._colors,offsetX:-i,offsetY:-a,scaleX:1/c,scaleY:1/d},u=o+4,p=l+4,m=n.getCanvas("mesh",u,p),f=m.context,g=f.createImageData(o,l);if(t){const e=g.data;for(let n=0,i=e.length;n<i;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const v of this._figures)Gu(g,v,h);f.putImageData(g,2,2);return{canvas:m.canvas,offsetX:i-2*c,offsetY:a-2*d,scaleX:c,scaleY:d}}isModifyingCurrentTransform(){return!0}getPattern(e,t,n,i){Hu(e,this._bbox);const a=new Float32Array(2);if(i===Wu)kr.singularValueDecompose2dScale(Yr(e),a);else if(this.matrix){kr.singularValueDecompose2dScale(this.matrix,a);const[e,n]=a;kr.singularValueDecompose2dScale(t.baseTransform,a),a[0]*=e,a[1]*=n}else kr.singularValueDecompose2dScale(t.baseTransform,a);const s=this._createMeshCanvas(a,i===Wu?null:this._background,t.cachedCanvases);return i!==Wu&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class Yu extends zu{getPattern(){return"hotpink"}}const Ku=1,Xu=2;class Ju{constructor(e,t,n,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=n,this.baseTransform=i}createPatternCanvas(e){var t,n,i,a;const{bbox:s,operatorList:r,paintType:o,tilingType:l,color:c,canvasGraphicsFactory:d}=this;let{xstep:h,ystep:u}=this;h=Math.abs(h),u=Math.abs(u),rr("TilingType: "+l);const p=s[0],m=s[1],f=s[2],g=s[3],v=f-p,b=g-m,y=new Float32Array(2);kr.singularValueDecompose2dScale(this.matrix,y);const[x,w]=y;kr.singularValueDecompose2dScale(this.baseTransform,y);const N=x*y[0],A=w*y[1];let k=v,j=b,C=!1,_=!1;const S=Math.ceil(h*N),E=Math.ceil(u*A);S>=Math.ceil(v*N)?k=h:C=!0,E>=Math.ceil(b*A)?j=u:_=!0;const M=this.getSizeAndScale(k,this.ctx.canvas.width,N),P=this.getSizeAndScale(j,this.ctx.canvas.height,A),L=e.cachedCanvases.getCanvas("pattern",M.size,P.size),T=L.context,I=d.createCanvasGraphics(T);if(I.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(I,o,c),T.translate(-M.scale*p,-P.scale*m),I.transform(0,M.scale,0,0,P.scale,0,0),T.save(),null===(t=I.dependencyTracker)||void 0===t||t.save(),this.clipBbox(I,p,m,f,g),I.baseTransform=Yr(I.ctx),I.executeOperatorList(r),I.endDrawing(),null===(n=I.dependencyTracker)||void 0===n||null===(i=(a=n.restore()).recordNestedDependencies)||void 0===i||i.call(a),T.restore(),C||_){const t=L.canvas;C&&(k=h),_&&(j=u);const n=this.getSizeAndScale(k,this.ctx.canvas.width,N),i=this.getSizeAndScale(j,this.ctx.canvas.height,A),a=n.size,s=i.size,r=e.cachedCanvases.getCanvas("pattern-workaround",a,s),o=r.context,l=C?Math.floor(v/h):0,c=_?Math.floor(b/u):0;for(let e=0;e<=l;e++)for(let n=0;n<=c;n++)o.drawImage(t,a*e,s*n,a,s,0,0,a,s);return{canvas:r.canvas,scaleX:n.scale,scaleY:i.scale,offsetX:p,offsetY:m}}return{canvas:L.canvas,scaleX:M.scale,scaleY:P.scale,offsetX:p,offsetY:m}}getSizeAndScale(e,t,n){const i=Math.max(Ju.MAX_PATTERN_SIZE,t);let a=Math.ceil(e*n);return a>=i?a=i:n=a/e,{scale:n,size:a}}clipBbox(e,t,n,i,a){const s=i-t,r=a-n;e.ctx.rect(t,n,s,r),kr.axialAlignedBoundingBox([t,n,i,a],Yr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,a=e.current;switch(t){case Ku:const{fillStyle:e,strokeStyle:s}=this.ctx;i.fillStyle=a.fillColor=e,i.strokeStyle=a.strokeColor=s;break;case Xu:i.fillStyle=i.strokeStyle=n,a.fillColor=a.strokeColor=n;break;default:throw new br("Unsupported paint type: ".concat(t))}}isModifyingCurrentTransform(){return!1}getPattern(e,t,n,i){let a=n;i!==Wu&&(a=kr.transform(a,t.baseTransform),this.matrix&&(a=kr.transform(a,this.matrix)));const s=this.createPatternCanvas(t);let r=new DOMMatrix(a);r=r.translate(s.offsetX,s.offsetY),r=r.scale(1/s.scaleX,1/s.scaleY);const o=e.createPattern(s.canvas,"repeat");return o.setTransform(r),o}}function Qu(e){let{src:t,srcPos:n=0,dest:i,width:a,height:s,nonBlackColor:r=4294967295,inverseDecode:o=!1}=e;const l=Nr.isLittleEndian?4278190080:255,[c,d]=o?[r,l]:[l,r],h=a>>3,u=7&a,p=t.length;i=new Uint32Array(i.buffer);let m=0;for(let f=0;f<s;f++){for(const a=n+h;n<a;n++){const e=n<p?t[n]:255;i[m++]=128&e?d:c,i[m++]=64&e?d:c,i[m++]=32&e?d:c,i[m++]=16&e?d:c,i[m++]=8&e?d:c,i[m++]=4&e?d:c,i[m++]=2&e?d:c,i[m++]=1&e?d:c}if(0===u)continue;const e=n<p?t[n++]:255;for(let t=0;t<u;t++)i[m++]=e&1<<7-t?d:c}return{srcPos:n,destPos:m}}(0,ws.A)(Ju,"MAX_PATTERN_SIZE",3e3);const Zu=16,$u=new DOMMatrix,ep=new Float32Array(2),tp=new Float32Array([1/0,1/0,-1/0,-1/0]);class np{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return void 0!==this.cache[e]?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function ip(e,t,n,i,a,s,r,o,l,c){const[d,h,u,p,m,f]=Yr(e);if(0===h&&0===u){const g=r*d+m,v=Math.round(g),b=o*p+f,y=Math.round(b),x=(r+l)*d+m,w=Math.abs(Math.round(x)-v)||1,N=(o+c)*p+f,A=Math.abs(Math.round(N)-y)||1;return e.setTransform(Math.sign(d),0,0,Math.sign(p),v,y),e.drawImage(t,n,i,a,s,0,0,w,A),e.setTransform(d,h,u,p,m,f),[w,A]}if(0===d&&0===p){const g=o*u+m,v=Math.round(g),b=r*h+f,y=Math.round(b),x=(o+c)*u+m,w=Math.abs(Math.round(x)-v)||1,N=(r+l)*h+f,A=Math.abs(Math.round(N)-y)||1;return e.setTransform(0,Math.sign(h),Math.sign(u),0,v,y),e.drawImage(t,n,i,a,s,0,0,A,w),e.setTransform(d,h,u,p,m,f),[A,w]}e.drawImage(t,n,i,a,s,r,o,l,c);return[Math.hypot(d,h)*l,Math.hypot(u,p)*c]}class ap{constructor(e,t,n){(0,ws.A)(this,"alphaIsShape",!1),(0,ws.A)(this,"fontSize",0),(0,ws.A)(this,"fontSizeScale",1),(0,ws.A)(this,"textMatrix",null),(0,ws.A)(this,"textMatrixScale",1),(0,ws.A)(this,"fontMatrix",ks),(0,ws.A)(this,"leading",0),(0,ws.A)(this,"x",0),(0,ws.A)(this,"y",0),(0,ws.A)(this,"lineX",0),(0,ws.A)(this,"lineY",0),(0,ws.A)(this,"charSpacing",0),(0,ws.A)(this,"wordSpacing",0),(0,ws.A)(this,"textHScale",1),(0,ws.A)(this,"textRenderingMode",Bs),(0,ws.A)(this,"textRise",0),(0,ws.A)(this,"fillColor","#000000"),(0,ws.A)(this,"strokeColor","#000000"),(0,ws.A)(this,"patternFill",!1),(0,ws.A)(this,"patternStroke",!1),(0,ws.A)(this,"fillAlpha",1),(0,ws.A)(this,"strokeAlpha",1),(0,ws.A)(this,"lineWidth",1),(0,ws.A)(this,"activeSMask",null),(0,ws.A)(this,"transferMaps","none"),null===n||void 0===n||n(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=tp.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bu,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=this.minMax.slice();if(e===Ou){t||lr("Stroke bounding box must include transform."),kr.singularValueDecompose2dScale(t,ep);const e=ep[0]*this.lineWidth/2,i=ep[1]*this.lineWidth/2;n[0]-=e,n[1]-=i,n[2]+=e,n[3]+=i}return n}updateClipFromPath(){const e=kr.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(tp,0)}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bu,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return kr.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function sp(e,t){if(t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,i=t.width,a=n%Zu,s=(n-a)/Zu,r=0===a?s:s+1,o=e.createImageData(i,Zu);let l,c=0;const d=t.data,h=o.data;let u,p,m,f;if(t.kind===qs.GRAYSCALE_1BPP){const t=d.byteLength,n=new Uint32Array(h.buffer,0,h.byteLength>>2),f=n.length,g=i+7>>3,v=4294967295,b=Nr.isLittleEndian?4278190080:255;for(u=0;u<r;u++){for(m=u<s?Zu:a,l=0,p=0;p<m;p++){const e=t-c;let a=0;const s=e>g?i:8*e-7,r=-8&s;let o=0,h=0;for(;a<r;a+=8)h=d[c++],n[l++]=128&h?v:b,n[l++]=64&h?v:b,n[l++]=32&h?v:b,n[l++]=16&h?v:b,n[l++]=8&h?v:b,n[l++]=4&h?v:b,n[l++]=2&h?v:b,n[l++]=1&h?v:b;for(;a<s;a++)0===o&&(h=d[c++],o=128),n[l++]=h&o?v:b,o>>=1}for(;l<f;)n[l++]=0;e.putImageData(o,0,u*Zu)}}else if(t.kind===qs.RGBA_32BPP){for(p=0,f=i*Zu*4,u=0;u<s;u++)h.set(d.subarray(c,c+f)),c+=f,e.putImageData(o,0,p),p+=Zu;u<r&&(f=i*a*4,h.set(d.subarray(c,c+f)),e.putImageData(o,0,p))}else{if(t.kind!==qs.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(m=Zu,f=i*m,u=0;u<r;u++){for(u>=s&&(m=a,f=i*m),l=0,p=f;p--;)h[l++]=d[c++],h[l++]=d[c++],h[l++]=d[c++],h[l++]=255;e.putImageData(o,0,u*Zu)}}}function rp(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,i=t.width,a=n%Zu,s=(n-a)/Zu,r=0===a?s:s+1,o=e.createImageData(i,Zu);let l=0;const c=t.data,d=o.data;for(let h=0;h<r;h++){const t=h<s?Zu:a;({srcPos:l}=Qu({src:c,srcPos:l,dest:d,width:i,height:t,nonBlackColor:0})),e.putImageData(o,0,h*Zu)}}function op(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)void 0!==e[i]&&(t[i]=e[i]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function lp(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}function cp(e,t){if(t)return!0;kr.singularValueDecompose2dScale(e,ep);const n=Math.fround(Jr.pixelRatio*Ir.PDF_TO_CSS_UNITS);return ep[0]<=n&&ep[1]<=n}const dp=["butt","round","square"],hp=["miter","round","bevel"],up={},pp={};var mp=new WeakSet;class fp{constructor(e,t,n,i,a,s,r,o,l){let{optionalContentConfig:c,markedContentStack:d=null}=s;es(this,mp),this.ctx=e,this.current=new ap(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=c,this.cachedCanvases=new np(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=r,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=null!==l&&void 0!==l?l:null}getObject(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;var i;return"string"===typeof t?(null===(i=this.dependencyTracker)||void 0===i||i.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):n}beginDrawing(e){let{transform:t,viewport:n,transparency:i=!1,background:a=null}=e;const s=this.ctx.canvas.width,r=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,s,r),this.ctx.fillStyle=o,i){const e=this.cachedCanvases.getCanvas("transparent",s,r);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...Yr(this.compositeCtx))}this.ctx.save(),lp(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Yr(this.ctx)}executeOperatorList(e,t,n,i,a){const s=e.argsArray,r=e.fnArray;let o=t||0;const l=s.length;if(l===o)return o;const c=l-o>10&&"function"===typeof n,d=c?Date.now()+15:0;let h=0;const u=this.commonObjs,p=this.objs;let m,f;for(;;){if(void 0!==i&&o===i.nextBreakPoint)return i.breakIt(o,n),o;var g;if(!a||a.has(o))if(m=r[o],f=null!==(g=s[o])&&void 0!==g?g:null,m!==Zs.dependency)null===f?this[m](o):this[m](o,...f);else for(const e of f){var v;null===(v=this.dependencyTracker)||void 0===v||v.recordNamedData(e,o);const t=e.startsWith("g_")?u:p;if(!t.has(e))return t.get(e,n),o}if(o++,o===l)return o;if(c&&++h>10){if(Date.now()>d)return n(),o;h=0}}}endDrawing(){ns(mp,this,gp).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),ns(mp,this,vp).call(this)}_scaleImage(e,t){var n,i;const a=null!==(n=e.width)&&void 0!==n?n:e.displayWidth,s=null!==(i=e.height)&&void 0!==i?i:e.displayHeight;let r,o,l=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),d=a,h=s,u="prescale1";for(;l>2&&d>1||c>2&&h>1;){let t=d,n=h;l>2&&d>1&&(t=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/t),c>2&&h>1&&(n=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/n),r=this.cachedCanvases.getCanvas(u,t,n),o=r.context,o.clearRect(0,0,t,n),o.drawImage(e,0,0,d,h,0,0,t,n),e=r.canvas,d=t,h=n,u="prescale1"===u?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:h}}_createMaskCanvas(e,t){var n;const i=this.ctx,{width:a,height:s}=t,r=this.current.fillColor,o=this.current.patternFill,l=Yr(i);let c,d,h,u;if((t.bitmap||t.data)&&t.count>1){const n=t.bitmap||t.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),r]),c=this._cachedBitmapsMap.get(n),c||(c=new Map,this._cachedBitmapsMap.set(n,c));const i=c.get(d);if(i&&!o){var p;const t=Math.round(Math.min(l[0],l[2])+l[4]),n=Math.round(Math.min(l[1],l[3])+l[5]);return null===(p=this.dependencyTracker)||void 0===p||p.recordDependencies(e,Du),{canvas:i,offsetX:t,offsetY:n}}h=i}h||(u=this.cachedCanvases.getCanvas("maskCanvas",a,s),rp(u.context,t));let m=kr.transform(l,[1/a,0,0,-1/s,0,0]);m=kr.transform(m,[1,0,0,1,0,-s]);const f=tp.slice();kr.axialAlignedBoundingBox([0,0,a,s],m,f);const[g,v,b,y]=f,x=Math.round(b-g)||1,w=Math.round(y-v)||1,N=this.cachedCanvases.getCanvas("fillCanvas",x,w),A=N.context,k=g,j=v;A.translate(-k,-j),A.transform(...m),h||(h=this._scaleImage(u.canvas,Kr(A)),h=h.img,c&&o&&c.set(d,h)),A.imageSmoothingEnabled=cp(Yr(A),t.interpolate),ip(A,h,0,0,h.width,h.height,0,0,a,s),A.globalCompositeOperation="source-in";const C=kr.transform(Kr(A),[1,0,0,1,-k,-j]);return A.fillStyle=o?r.getPattern(i,this,C,Bu):r,A.fillRect(0,0,a,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,N.canvas)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(e,Du),{canvas:N.canvas,offsetX:Math.round(k),offsetY:Math.round(j)}}setLineWidth(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineCap",e),this.ctx.lineCap=dp[t]}setLineJoin(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("lineJoin",e),this.ctx.lineJoin=hp[t]}setMiterLimit(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("dash",e);const a=this.ctx;void 0!==a.setLineDash&&(a.setLineDash(t),a.lineDashOffset=n)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var n,i,a,s,r;for(const[o,l]of t)switch(o){case"LW":this.setLineWidth(e,l);break;case"LC":this.setLineCap(e,l);break;case"LJ":this.setLineJoin(e,l);break;case"ML":this.setMiterLimit(e,l);break;case"D":this.setDash(e,l[0],l[1]);break;case"RI":this.setRenderingIntent(e,l);break;case"FL":this.setFlatness(e,l);break;case"Font":this.setFont(e,l[0],l[1]);break;case"CA":null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=l;break;case"ca":null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=l;break;case"BM":null===(a=this.dependencyTracker)||void 0===a||a.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=l;break;case"SMask":null===(s=this.dependencyTracker)||void 0===s||s.recordSimpleData("SMask",e),this.current.activeSMask=l?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":null===(r=this.dependencyTracker)||void 0===r||r.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(l)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(i,t,n);this.suspendedCtx=this.ctx;const s=this.ctx=a.context;s.setTransform(this.suspendedCtx.getTransform()),op(this.suspendedCtx,s),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,i,a,s,r){t.transform(e,n,i,a,s,r),this.__originalTransform(e,n,i,a,s,r)},e.setTransform=function(e,n,i,a,s,r){t.setTransform(e,n,i,a,s,r),this.__originalSetTransform(e,n,i,a,s,r)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,i,a,s,r){t.bezierCurveTo(e,n,i,a,s,r),this.__originalBezierCurveTo(e,n,i,a,s,r)},e.rect=function(e,n,i,a){t.rect(e,n,i,a),this.__originalRect(e,n,i,a)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(s,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),op(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const a=i[0],s=i[1],r=i[2]-a,o=i[3]-s;0!==r&&0!==o&&(this.genericComposeSMask(t.context,n,r,o,t.subtype,t.backdrop,t.transferMap,a,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,a,s,r,o,l,c,d){let h=e.canvas,u=o-c,p=l-d;if(s)if(u<0||p<0||u+n>h.width||p+i>h.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,i),t=e.context;t.drawImage(h,-u,-p),t.globalCompositeOperation="destination-atop",t.fillStyle=s,t.fillRect(0,0,n,i),t.globalCompositeOperation="source-over",h=e.canvas,u=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const t=new Path2D;t.rect(u,p,n,i),e.clip(t),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(u,p,n,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===a&&r?t.filter=this.filterFactory.addAlphaFilter(r):"Luminosity"===a&&(t.filter=this.filterFactory.addLuminosityFilter(r));const m=new Path2D;m.rect(o,l,n,i),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(h,u,p,n,i,o,l,n,i),t.restore()}save(e){var t;this.inSMaskMode&&op(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),null===(t=this.dependencyTracker)||void 0===t||t.save(e)}restore(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.restore(e),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&op(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null):this.inSMaskMode&&this.endSMaskMode()}transform(e,t,n,i,a,s,r){var o;null===(o=this.dependencyTracker)||void 0===o||o.recordIncrementalData("transform",e),this.ctx.transform(t,n,i,a,s,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n,i){let[a]=n;if(!i)return a||(a=n[0]=new Path2D),void this[t](e,a);if(null!==this.dependencyTracker){const n=t===Zs.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-n,i[2]+n,i[1]-n,i[3]+n).recordDependencies(e,["transform"])}if(!(a instanceof Path2D)){const e=n[0]=new Path2D;for(let t=0,n=a.length;t<n;)switch(a[t++]){case $s:e.moveTo(a[t++],a[t++]);break;case er:e.lineTo(a[t++],a[t++]);break;case tr:e.bezierCurveTo(a[t++],a[t++],a[t++],a[t++],a[t++],a[t++]);break;case nr:e.closePath();break;default:or("Unrecognized drawing path operator: ".concat(a[t-1]))}a=e}kr.axialAlignedBoundingBox(i,Yr(this.ctx),this.current.minMax),this[t](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t){var n;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=this.ctx,s=this.current.strokeColor;if(a.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===typeof s&&null!==s&&void 0!==s&&s.getPattern){const e=s.isModifyingCurrentTransform()?a.getTransform():null;if(a.save(),a.strokeStyle=s.getPattern(a,this,Kr(a),Ou),e){const n=new Path2D;n.addPath(t,a.getTransform().invertSelf().multiplySelf(e)),t=n}this.rescaleAndStroke(t,!1),a.restore()}else this.rescaleAndStroke(t,!0);null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(e,Pu),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Ou,Yr(this.ctx))),a.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t){var n;let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=this.ctx,s=this.current.fillColor;let r=!1;if(this.current.patternFill){var o;const n=s.isModifyingCurrentTransform()?a.getTransform():null;if(null===(o=this.dependencyTracker)||void 0===o||o.save(e),a.save(),a.fillStyle=s.getPattern(a,this,Kr(a),Bu),n){const e=new Path2D;e.addPath(t,a.getTransform().invertSelf().multiplySelf(n)),t=e}r=!0}const l=this.current.getClippedPathBoundingBox();var c;(this.contentVisible&&null!==l&&(this.pendingEOFill?(a.fill(t,"evenodd"),this.pendingEOFill=!1):a.fill(t)),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(e,Lu),r)&&(a.restore(),null===(c=this.dependencyTracker)||void 0===c||c.restore(e));i&&this.consumePath(e,t,l)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var n;this.ctx.fill(t),null===(n=this.dependencyTracker)||void 0===n||n.recordDependencies(e,Iu).recordOperation(e)}clip(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=up}eoClip(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=pp}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,null===(t=this.dependencyTracker)||void 0===t||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,n=this.ctx;if(this.dependencyTracker){const{dependencyTracker:n}=this;void 0!==t&&n.recordFutureForcedDependency("textClip",n.getOpenMarker()).recordFutureForcedDependency("textClip",e),n.recordCloseMarker(e)}if(void 0!==t){const e=new Path2D,i=n.getTransform().invertSelf();for(const{transform:n,x:a,y:s,fontSize:r,path:o}of t)o&&e.addPath(o,new DOMMatrix(n).preMultiplySelf(i).translate(a,s).scale(r,-r));n.clip(e)}delete this.pendingTextPaths}setCharSpacing(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,n){var i,a;null===(i=this.dependencyTracker)||void 0===i||i.recordSimpleData("font",e).recordNamedDependency(e,t);const s=this.commonObjs.get(t),r=this.current;if(!s)throw new Error("Can't find font for ".concat(t));if(r.fontMatrix=s.fontMatrix||ks,0!==r.fontMatrix[0]&&0!==r.fontMatrix[3]||or("Invalid font matrix for font "+t),n<0?(n=-n,r.fontDirection=-1):r.fontDirection=1,this.current.font=s,this.current.fontSize=n,s.isType3Font)return;const o=s.loadedName||"sans-serif",l=(null===(a=s.systemFontInfo)||void 0===a?void 0:a.css)||'"'.concat(o,'", ').concat(s.fallbackName);let c="normal";s.black?c="900":s.bold&&(c="bold");const d=s.italic?"italic":"normal";let h=n;n<16?h=16:n>100&&(h=100),this.current.fontSizeScale=n/h,this.ctx.font="".concat(d," ").concat(c," ").concat(h,"px ").concat(l)}setTextRenderingMode(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(e,t,n){this.setLeading(e,-n),this.moveText(e,t,n)}setTextMatrix(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t,n;this.moveText(e,0,this.current.leading),null===(t=this.dependencyTracker)||void 0===t||t.recordIncrementalData("moveText",null!==(n=this.dependencyTracker.getSimpleIndex("leading"))&&void 0!==n?n:e)}paintChar(e,t,n,i,a,s){const r=this.ctx,o=this.current,l=o.font,c=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=c&zs,u=!!(c&Us),p=o.patternFill&&!l.missingFile,m=o.patternStroke&&!l.missingFile;let f;if((l.disableFontFace||u||p||m)&&!l.missingFile&&(f=l.getPathGenerator(this.commonObjs,t)),f&&(l.disableFontFace||p||m)){var g;let t;if(r.save(),r.translate(n,i),r.scale(d,-d),null===(g=this.dependencyTracker)||void 0===g||g.recordCharacterBBox(e,r,l),h===Bs||h===Ws)if(a){t=r.getTransform(),r.setTransform(...a);const e=ns(mp,this,bp).call(this,f,t,a);r.fill(e)}else r.fill(f);if(h===Os||h===Ws)if(s){t||(t=r.getTransform()),r.setTransform(...s);const{a:e,b:n,c:i,d:a}=t,o=kr.inverseTransform(s),l=kr.transform([e,n,i,a,0,0],o);kr.singularValueDecompose2dScale(l,ep),r.lineWidth*=Math.max(ep[0],ep[1])/d,r.stroke(ns(mp,this,bp).call(this,f,t,s))}else r.lineWidth/=d,r.stroke(f);r.restore()}else{var v;if(h===Bs||h===Ws)r.fillText(t,n,i),null===(v=this.dependencyTracker)||void 0===v||v.recordCharacterBBox(e,r,l,d,n,i,()=>r.measureText(t));if(h===Os||h===Ws){var b;if(this.dependencyTracker)null===(b=this.dependencyTracker)||void 0===b||b.recordCharacterBBox(e,r,l,d,n,i,()=>r.measureText(t)).recordDependencies(e,Pu);r.strokeText(t,n,i)}}if(u){var y;(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Yr(r),x:n,y:i,fontSize:d,path:f}),null===(y=this.dependencyTracker)||void 0===y||y.recordCharacterBBox(e,r,l,d,n,i)}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return ur(this,"isFontSubpixelAAEnabled",n)}showText(e,t){var n;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Fu).copyDependenciesFromIncrementalOperation(e,"sameLineText").resetBBox(e),this.current.textRenderingMode&Us&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,a=i.font;var s;if(a.isType3Font)return this.showType3Text(e,t),void(null===(s=this.dependencyTracker)||void 0===s||s.recordOperation(e).recordIncrementalData("sameLineText",e));const r=i.fontSize;var o;if(0===r)return void(null===(o=this.dependencyTracker)||void 0===o||o.recordOperation(e));const l=this.ctx,c=i.fontSizeScale,d=i.charSpacing,h=i.wordSpacing,u=i.fontDirection,p=i.textHScale*u,m=t.length,f=a.vertical,g=f?1:-1,v=a.defaultVMetrics,b=r*i.fontMatrix[0],y=i.textRenderingMode===Bs&&!a.disableFontFace&&!i.patternFill;let x,w;if(l.save(),i.textMatrix&&l.transform(...i.textMatrix),l.translate(i.x,i.y+i.textRise),u>0?l.scale(p,-1):l.scale(p,1),i.patternFill){l.save();const e=i.fillColor.getPattern(l,this,Kr(l),Bu);x=Yr(l),l.restore(),l.fillStyle=e}if(i.patternStroke){l.save();const e=i.strokeColor.getPattern(l,this,Kr(l),Ou);w=Yr(l),l.restore(),l.strokeStyle=e}let N=i.lineWidth;const A=i.textMatrixScale;if(0===A||0===N){const e=i.textRenderingMode&zs;e!==Os&&e!==Ws||(N=this.getSinglePixelWidth())}else N/=A;if(1!==c&&(l.scale(c,c),N/=c),l.lineWidth=N,a.isInvalidPDFjsFont){const n=[];let a=0;for(const e of t)n.push(e.unicode),a+=e.width;const s=n.join("");if(l.fillText(s,0,0),null!==this.dependencyTracker){const t=l.measureText(s);this.dependencyTracker.recordBBox(e,this.ctx,-t.actualBoundingBoxLeft,t.actualBoundingBoxRight,-t.actualBoundingBoxAscent,t.actualBoundingBoxDescent).recordOperation(e).recordIncrementalData("sameLineText",e)}return i.x+=a*b*p,l.restore(),void this.compose()}let k,j=0;for(k=0;k<m;++k){const n=t[k];if("number"===typeof n){j+=g*n*r/1e3;continue}let i=!1;const s=(n.isSpace?h:0)+d,o=n.fontChar,p=n.accent;let m,N,A,_=n.width;if(f){const e=n.vmetric||v,t=-(n.vmetric?e[1]:.5*_)*b,i=e[2]*b;_=e?-e[0]:_,m=t/c,N=(j+i)/c}else m=j/c,N=0;if(a.remeasure&&_>0){A=l.measureText(o);const e=1e3*A.width/r*c;if(_<e&&this.isFontSubpixelAAEnabled){const t=_/e;i=!0,l.save(),l.scale(t,1),m/=t}else _!==e&&(m+=(_-e)/2e3*r/c)}var C;if(this.contentVisible&&(n.isInFont||a.missingFile))if(y&&!p)l.fillText(o,m,N),null===(C=this.dependencyTracker)||void 0===C||C.recordCharacterBBox(e,l,A?{bbox:null}:a,r/c,m,N,()=>null!==A&&void 0!==A?A:l.measureText(o));else if(this.paintChar(e,o,m,N,x,w),p){const t=m+r*p.offset.x/c,n=N-r*p.offset.y/c;this.paintChar(e,p.fontChar,t,n,x,w)}j+=f?_*b-s*u:_*b+s*u,i&&l.restore()}f?i.y-=j:i.x+=j*p,l.restore(),this.compose(),null===(n=this.dependencyTracker)||void 0===n||n.recordOperation(e).recordIncrementalData("sameLineText",e)}showType3Text(e,t){const n=this.ctx,i=this.current,a=i.font,s=i.fontSize,r=i.fontDirection,o=a.vertical?1:-1,l=i.charSpacing,c=i.wordSpacing,d=i.textHScale*r,h=i.fontMatrix||ks,u=t.length;let p,m,f,g;if(i.textRenderingMode===Hs||0===s)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),i.textMatrix&&n.transform(...i.textMatrix),n.translate(i.x,i.y+i.textRise),n.scale(d,r);const v=this.dependencyTracker;for(this.dependencyTracker=v?new Mu(v,e):null,p=0;p<u;++p){if(m=t[p],"number"===typeof m){g=o*m*s/1e3,this.ctx.translate(g,0),i.x+=g*d;continue}const e=(m.isSpace?c:0)+l,r=a.charProcOperatorList[m.operatorListId];r?this.contentVisible&&(this.save(),n.scale(s,s),n.transform(...h),this.executeOperatorList(r),this.restore()):or('Type3 character "'.concat(m.operatorListId,'" is not available.'));const u=[m.width,0];kr.applyTransform(u,h),f=u[0]*s+e,n.translate(f,0),i.x+=f*d}n.restore(),v&&(this.dependencyTracker.recordNestedDependencies(),this.dependencyTracker=v)}setCharWidth(e,t,n){}setCharWidthAndBounds(e,t,n,i,a,s,r){var o;const l=new Path2D;l.rect(i,a,s-i,r-a),this.ctx.clip(l),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(e,this.ctx,i,s,a,r).recordClipBox(e,this.ctx,i,s,a,r),this.endPath(e)}getColorN_Pattern(e,t){let n;if("TilingPattern"===t[0]){const i=this.baseTransform||Yr(this.ctx),a={createCanvasGraphics:t=>new fp(t,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Mu(this.dependencyTracker,e):null)};n=new Ju(t,this.ctx,a,i)}else n=this._getPattern(e,t[1],t[2]);return n}setStrokeColorN(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordSimpleData("strokeColor",e);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.current.strokeColor=this.getColorN_Pattern(e,i),this.current.patternStroke=!0}setFillColorN(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordSimpleData("fillColor",e);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this.current.fillColor=this.getColorN_Pattern(e,i),this.current.patternFill=!0}setStrokeRGBColor(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=function(e){switch(e[0]){case"RadialAxial":return new Uu(e);case"Mesh":return new Vu(e);case"Dummy":return new Yu}throw new Error("Unknown IR type: ".concat(e[0]))}(this.getObject(e,t)),this.cachedPatterns.set(t,n)),i&&(n.matrix=i),n}shadingFill(e,t){var n;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const a=this._getPattern(e,t);i.fillStyle=a.getPattern(i,this,Kr(i),Wu);const s=Kr(i);if(s){const{width:e,height:t}=i.canvas,n=tp.slice();kr.axialAlignedBoundingBox([0,0,e,t],s,n);const[a,r,o,l]=n;this.ctx.fillRect(a,r,o-a,l-r)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ru).recordDependencies(e,Lu).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){lr("Should not call beginInlineImage")}beginImageData(){lr("Should not call beginImageData")}paintFormXObjectBegin(e,t,n){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=Yr(this.ctx),n)){var i;kr.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[t,a,s,r]=n,o=new Path2D;o.rect(t,a,s-t,r-a),this.ctx.clip(o),null===(i=this.dependencyTracker)||void 0===i||i.recordClipBox(e,this.ctx,t,s,a,r),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var n;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||rr("TODO: Support non-isolated groups."),t.knockout&&or("Knockout groups not supported.");const a=Yr(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=tp.slice();kr.axialAlignedBoundingBox(t.bbox,Yr(i),s);const r=[0,0,i.canvas.width,i.canvas.height];s=kr.intersect(s,r)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,d]);let h="groupAt"+this.groupLevel;t.smask&&(h+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(h,c,d),p=u.context;p.translate(-o,-l),p.transform(...a);let m=new Path2D;const[f,g,v,b]=t.bbox;if(m.rect(f,g,v-f,b-g),t.matrix){const e=new Path2D;e.addPath(m,new DOMMatrix(t.matrix)),m=e}p.clip(m),t.smask&&this.smaskStack.push({canvas:u.canvas,context:p,offsetX:o,offsetY:l,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),t.smask&&!this.dependencyTracker||(i.setTransform(1,0,0,1,0,0),i.translate(o,l),i.save()),op(i,p),this.ctx=p,null===(n=this.dependencyTracker)||void 0===n||n.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var n;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,a=this.groupStack.pop();if(this.ctx=a,this.ctx.imageSmoothingEnabled=!1,null===(n=this.dependencyTracker)||void 0===n||n.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const t=Yr(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...t);const n=tp.slice();kr.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],t,n),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,i,a,s){if(ns(mp,this,gp).call(this),lp(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const a=n[2]-n[0],r=n[3]-n[1];if(s&&this.annotationCanvasMap){(i=i.slice())[4]-=n[0],i[5]-=n[1],(n=n.slice())[0]=n[1]=0,n[2]=a,n[3]=r,kr.singularValueDecompose2dScale(Yr(this.ctx),ep);const{viewportScale:e}=this,s=Math.ceil(a*this.outputScaleX*e),o=Math.ceil(r*this.outputScaleY*e);this.annotationCanvas=this.canvasFactory.create(s,o);const{canvas:l,context:c}=this.annotationCanvas;this.annotationCanvasMap.set(t,l),this.annotationCanvas.savedCtx=this.ctx,this.ctx=c,this.ctx.save(),this.ctx.setTransform(ep[0],0,0,-ep[1],0,r*ep[1]),lp(this.ctx)}else{lp(this.ctx),this.endPath(e);const t=new Path2D;t.rect(n[0],n[1],a,r),this.ctx.clip(t)}}this.current=new ap(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),ns(mp,this,vp).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var n;if(!this.contentVisible)return;const i=t.count;(t=this.getObject(e,t.data,t)).count=i;const a=this.ctx,s=this._createMaskCanvas(e,t),r=s.canvas;a.save(),a.setTransform(1,0,0,1,0,0),a.drawImage(r,s.offsetX,s.offsetY),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+r.width,s.offsetY,s.offsetY+r.height).recordOperation(e),a.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n){var i,a;let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const d=Yr(c);c.transform(n,s,r,o,0,0);const h=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,h.offsetX-d[4],h.offsetY-d[5]),null===(i=this.dependencyTracker)||void 0===i||i.resetBBox(e);for(let p=0,m=l.length;p<m;p+=2){var u;const t=kr.transform(d,[n,s,r,o,l[p],l[p+1]]);c.drawImage(h.canvas,t[4],t[5]),null===(u=this.dependencyTracker)||void 0===u||u.recordBBox(e,this.ctx,t[4],t[4]+h.canvas.width,t[5],t[5]+h.canvas.height)}c.restore(),this.compose(),null===(a=this.dependencyTracker)||void 0===a||a.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var n,i;if(!this.contentVisible)return;const a=this.ctx,s=this.current.fillColor,r=this.current.patternFill;null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(e).recordDependencies(e,Du);for(const l of t){var o;const{data:t,width:n,height:i,transform:c}=l,d=this.cachedCanvases.getCanvas("maskCanvas",n,i),h=d.context;h.save();rp(h,this.getObject(e,t,l)),h.globalCompositeOperation="source-in",h.fillStyle=r?s.getPattern(h,this,Kr(a),Bu):s,h.fillRect(0,0,n,i),h.restore(),a.save(),a.transform(...c),a.scale(1,-1),ip(a,d.canvas,0,0,n,i,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(e,a,0,n,0,i),a.restore()}this.compose(),null===(i=this.dependencyTracker)||void 0===i||i.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const n=this.getObject(e,t);n?this.paintInlineImageXObject(e,n):or("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,i,a){if(!this.contentVisible)return;const s=this.getObject(e,t);if(!s)return void or("Dependent image isn't ready yet");const r=s.width,o=s.height,l=[];for(let c=0,d=a.length;c<d;c+=2)l.push({transform:[n,0,0,i,a[c],a[c+1]],x:0,y:0,w:r,h:o});this.paintInlineImageXObjectGroup(e,s,l)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:i}=e,a=this.cachedCanvases.getCanvas("inlineImage",n,i),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e,t){var n;if(!this.contentVisible)return;const i=t.width,a=t.height,s=this.ctx;this.save(e);const{filter:r}=s;let o;if("none"!==r&&""!==r&&(s.filter="none"),s.scale(1/i,-1/a),t.bitmap)o=this.applyTransferMapsToBitmap(t);else if("function"===typeof HTMLElement&&t instanceof HTMLElement||!t.data)o=t;else{const e=this.cachedCanvases.getCanvas("inlineImage",i,a).context;sp(e,t),o=this.applyTransferMapsToCanvas(e)}const l=this._scaleImage(o,Kr(s));s.imageSmoothingEnabled=cp(Yr(s),t.interpolate),null===(n=this.dependencyTracker)||void 0===n||n.resetBBox(e).recordBBox(e,s,0,i,-a,0).recordDependencies(e,Tu).recordOperation(e),ip(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-a,i,a),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,n){var i,a;if(!this.contentVisible)return;const s=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const e=t.width,n=t.height,i=this.cachedCanvases.getCanvas("inlineImage",e,n).context;sp(i,t),r=this.applyTransferMapsToCanvas(i)}null===(i=this.dependencyTracker)||void 0===i||i.resetBBox(e);for(const l of n){var o;s.save(),s.transform(...l.transform),s.scale(1,-1),ip(s,r,l.x,l.y,l.w,l.h,0,-1,1,1),null===(o=this.dependencyTracker)||void 0===o||o.recordBBox(e,s,0,1,-1,0),s.restore()}null===(a=this.dependencyTracker)||void 0===a||a.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&(null===(t=this.dependencyTracker)||void 0===t||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Lu).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,n){}beginMarkedContent(e,t){var n;null===(n=this.dependencyTracker)||void 0===n||n.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,n){var i;null===(i=this.dependencyTracker)||void 0===i||i.beginMarkedContent(e),"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;null===(t=this.dependencyTracker)||void 0===t||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,n){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const a=this.ctx;var s,r;this.pendingClip?(i||(this.pendingClip===pp?a.clip(t,"evenodd"):a.clip(t)),this.pendingClip=null,null===(s=this.dependencyTracker)||void 0===s||s.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):null===(r=this.dependencyTracker)||void 0===r||r.recordOperation(e);this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Yr(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:a}=this.ctx.getTransform();let s,r;if(0===n&&0===i){const n=Math.abs(t),i=Math.abs(a);if(n===i)if(0===e)s=r=1/n;else{const t=n*e;s=r=t<1?1/t:1}else if(0===e)s=1/n,r=1/i;else{const t=n*e,a=i*e;s=t<1?1/t:1,r=a<1?1/a:1}}else{const o=Math.abs(t*a-n*i),l=Math.hypot(t,n),c=Math.hypot(i,a);if(0===e)s=c/o,r=l/o;else{const t=e*o;s=c>t?c/t:1,r=l>t?l/t:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=r}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:n,current:{lineWidth:i}}=this,[a,s]=this.getScaleForStroking();if(a===s)return n.lineWidth=(i||1)*a,void n.stroke(e);const r=n.getLineDash();t&&n.save(),n.scale(a,s),$u.a=1/a,$u.d=1/s;const o=new Path2D;if(o.addPath(e,$u),r.length>0){const e=Math.max(a,s);n.setLineDash(r.map(t=>t/e)),n.lineDashOffset/=e}n.lineWidth=i||1,n.stroke(o),t&&n.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function gp(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function vp(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}function bp(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i}for(const n in Zs)void 0!==fp.prototype[n]&&(fp.prototype[Zs[n]]=fp.prototype[n]);class yp{static get workerPort(){return ns(yp,this,xp)._}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");xp._=ns(yp,this,e)}static get workerSrc(){return ns(yp,this,wp)._}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");wp._=ns(yp,this,e)}}var xp={_:null},wp={_:""},Np=new WeakMap,Ap=new WeakMap;class kp{constructor(e){let{parsedData:t,rawData:n}=e;ts(this,Np,void 0),ts(this,Ap,void 0),ss(Np,this,t),ss(Ap,this,n)}getRaw(){return as(Ap,this)}get(e){var t;return null!==(t=as(Np,this).get(e))&&void 0!==t?t:null}[Symbol.iterator](){return as(Np,this).entries()}}const jp=Symbol("INTERNAL");var Cp=new WeakMap,_p=new WeakMap,Sp=new WeakMap,Ep=new WeakMap;class Mp{constructor(e,t){let{name:n,intent:i,usage:a,rbGroups:s}=t;ts(this,Cp,!1),ts(this,_p,!1),ts(this,Sp,!1),ts(this,Ep,!0),ss(Cp,this,!!(e&_s)),ss(_p,this,!!(e&Ss)),this.name=n,this.intent=i,this.usage=a,this.rbGroups=s}get visible(){if(as(Sp,this))return as(Ep,this);if(!as(Ep,this))return!1;const{print:e,view:t}=this.usage;return as(Cp,this)?"OFF"!==(null===t||void 0===t?void 0:t.viewState):!as(_p,this)||"OFF"!==(null===e||void 0===e?void 0:e.printState)}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==jp&&lr("Internal method `_setVisible` called."),ss(Sp,this,n),ss(Ep,this,t)}}var Pp=new WeakMap,Lp=new WeakMap,Tp=new WeakMap,Ip=new WeakMap,Fp=new WeakSet;class Rp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_s;if(es(this,Fp),ts(this,Pp,null),ts(this,Lp,new Map),ts(this,Tp,null),ts(this,Ip,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,ss(Ip,this,e.order);for(const n of e.groups)as(Lp,this).set(n.id,new Mp(t,n));if("OFF"===e.baseState)for(const e of as(Lp,this).values())e._setVisible(jp,!1);for(const t of e.on)as(Lp,this).get(t)._setVisible(jp,!0);for(const t of e.off)as(Lp,this).get(t)._setVisible(jp,!1);ss(Tp,this,this.getHash())}}isVisible(e){if(0===as(Lp,this).size)return!0;if(!e)return rr("Optional content group not defined."),!0;if("OCG"===e.type)return as(Lp,this).has(e.id)?as(Lp,this).get(e.id).visible:(or("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return ns(Fp,this,Dp).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!as(Lp,this).has(t))return or("Optional content group not found: ".concat(t)),!0;if(as(Lp,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!as(Lp,this).has(t))return or("Optional content group not found: ".concat(t)),!0;if(!as(Lp,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!as(Lp,this).has(t))return or("Optional content group not found: ".concat(t)),!0;if(!as(Lp,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!as(Lp,this).has(t))return or("Optional content group not found: ".concat(t)),!0;if(as(Lp,this).get(t).visible)return!1}return!0}return or("Unknown optional content policy ".concat(e.policy,".")),!0}return or("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=as(Lp,this).get(e);if(i){if(n&&t&&i.rbGroups.length)for(const t of i.rbGroups)for(const n of t){var a;if(n!==e)null===(a=as(Lp,this).get(n))||void 0===a||a._setVisible(jp,!1,!0)}i._setVisible(jp,!!t,!0),ss(Pp,this,null)}else or("Optional content group not found: ".concat(e))}setOCGState(e){let t,{state:n,preserveRB:i}=e;for(const a of n){switch(a){case"ON":case"OFF":case"Toggle":t=a;continue}const e=as(Lp,this).get(a);if(e)switch(t){case"ON":this.setVisibility(a,!0,i);break;case"OFF":this.setVisibility(a,!1,i);break;case"Toggle":this.setVisibility(a,!e.visible,i)}}ss(Pp,this,null)}get hasInitialVisibility(){return null===as(Tp,this)||this.getHash()===as(Tp,this)}getOrder(){return as(Lp,this).size?as(Ip,this)?as(Ip,this).slice():[...as(Lp,this).keys()]:null}getGroup(e){return as(Lp,this).get(e)||null}getHash(){if(null!==as(Pp,this))return as(Pp,this);const e=new zd;for(const[t,n]of as(Lp,this))e.update("".concat(t,":").concat(n.visible));return ss(Pp,this,e.hexdigest())}[Symbol.iterator](){return as(Lp,this).entries()}}function Dp(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const t=e[i];let a;if(Array.isArray(t))a=ns(Fp,this,Dp).call(this,t);else{if(!as(Lp,this).has(t))return or("Optional content group not found: ".concat(t)),!0;a=as(Lp,this).get(t).visible}switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return"And"===n}class Bp{constructor(e,t){let{disableRange:n=!1,disableStream:i=!1}=t;cr(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:s,progressiveDone:r,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=o,(null===s||void 0===s?void 0:s.length)>0){const e=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((e,t)=>{this._onReceiveData({begin:e,chunk:t})}),e.addProgressListener((e,t)=>{this._onProgress({loaded:e,total:t})}),e.addProgressiveReadListener(e=>{this._onReceiveData({chunk:e})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{cr(this._rangeReaders.some(function(e){return e._begin===t&&(e._enqueue(i),!0)}),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,n,i,a;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(i=this._fullRequestReader)||void 0===i||null===(a=i.onProgress)||void 0===a||a.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){cr(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Op(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Wp(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Op{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=Or(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Wp{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Hp(e,t){const n=new Headers;if(!e||!t||"object"!==typeof t)return n;for(const i in t){const e=t[i];void 0!==e&&n.append(i,e)}return n}function zp(e){var t,n;return null!==(t=null===(n=URL.parse(e))||void 0===n?void 0:n.origin)&&void 0!==t?t:null}function Up(e){let{responseHeaders:t,isHttp:n,rangeChunkSize:i,disableRange:a}=e;const s={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(t.get("Content-Length"),10);if(!Number.isInteger(r))return s;if(s.suggestedLength=r,r<=2*i)return s;if(a||!n)return s;if("bytes"!==t.get("Accept-Ranges"))return s;return"identity"!==(t.get("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s}function qp(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,n=i("filename\\*","i").exec(e);if(n){n=n[1];let e=r(n);return e=unescape(e),e=o(e),e=l(e),s(e)}if(n=function(e){const t=[];let n;const a=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=a.exec(e));){let[,e,i,a]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[i,a]}const s=[];for(let i=0;i<t.length&&i in t;++i){let[e,n]=t[i];n=r(n),e&&(n=unescape(n),0===i&&(n=o(n))),s.push(n)}return s.join("")}(e),n)return s(l(n));if(n=i("filename","i").exec(e),n){n=n[1];let e=r(n);return e=l(e),s(e)}function i(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function a(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const i=new TextDecoder(e,{fatal:!0}),a=wr(n);n=i.decode(a),t=!1}catch(i){}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=a("utf-8",e),t&&(e=a("iso-8859-1",e))),e}function r(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:a(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,n,i){if("q"===n||"Q"===n)return a(t,i=(i=i.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}));try{i=atob(i)}catch(s){}return a(t,i)})}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(n){}if(Or(e))return e}return null}function Gp(e,t){return new vr("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e,404===e||0===e&&t.startsWith("file:"))}function Vp(e){return 200===e||206===e}function Yp(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function Kp(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(or("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}class Xp{constructor(e){(0,ws.A)(this,"_responseOrigin",null),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=Hp(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return cr(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Jp(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new Qp(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Jp{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,Yp(n,this._withCredentials,this._abortController)).then(t=>{if(e._responseOrigin=zp(t.url),!Vp(t.status))throw Gp(t.status,i);this._reader=t.body.getReader(),this._headersCapability.resolve();const n=t.headers,{allowRangeRequests:a,suggestedLength:s}=Up({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=s||this._contentLength,this._filename=qp(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new yr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:Kp(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class Qp{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range","bytes=".concat(t,"-").concat(n-1));const s=i.url;fetch(s,Yp(a,this._withCredentials,this._abortController)).then(t=>{const n=zp(t.url);if(n!==e._responseOrigin)throw new Error('Expected range response-origin "'.concat(n,'" to match "').concat(e._responseOrigin,'".'));if(!Vp(t.status))throw Gp(t.status,s);this._readCapability.resolve(),this._reader=t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:Kp(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class Zp{constructor(e){let{url:t,httpHeaders:n,withCredentials:i}=e;(0,ws.A)(this,"_responseOrigin",null),this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=Hp(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[a,s]of this.headers)t.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),i.expectedStatus=206):i.expectedStatus=200,t.responseType="arraybuffer",cr(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const i=this.pendingRequests[e];i&&(null===(n=i.onProgress)||void 0===n||n.call(i,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==i.readyState)return;if(!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],0===i.status&&this.isHttp)return void n.onError(i.status);const a=i.status||200;if(!(200===a&&206===n.expectedStatus)&&a!==n.expectedStatus)return void n.onError(i.status);const s=function(e){const t=e.response;return"string"!==typeof t?t:wr(t).buffer}(i);if(206===a){const e=i.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);t?n.onDone({begin:parseInt(t[1],10),chunk:s}):(or('Missing or invalid "Content-Range" header.'),n.onError(0))}else s?n.onDone({begin:0,chunk:s}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class $p{constructor(e){this._source=e,this._manager=new Zp(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return cr(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new em(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new tm(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class em{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=zp(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(e=>{const[t,...n]=e.split(": ");return[t,n.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:s}=Up({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=qp(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Gp(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class tm{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var e;const t=zp(null===(e=this._manager.getRequestXhr(this._requestId))||void 0===e?void 0:e.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error('Expected range response-origin "'.concat(t,'" to match "').concat(this._manager._responseOrigin,'".')),this._onError(0))}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){var t;null!==(t=this._storedError)&&void 0!==t||(this._storedError=Gp(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const nm=/^[a-z][a-z0-9\-+.]+:/i;class im{constructor(e){this.source=e,this.url=function(e){if(nm.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}(e.url),cr("file:"===this.url.protocol,"PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return cr(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new am(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new sm(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class am{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(e=>{this._contentLength=e.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},e=>{"ENOENT"===e.code&&(e=Gp(0,this._url.href)),this._storedError=e,this._headersCapability.reject(e)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new yr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class sm{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const rm=Symbol("INITIAL_DATA");var om=new WeakMap,lm=new WeakSet;class cm{constructor(){es(this,lm),ts(this,om,Object.create(null))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=ns(lm,this,dm).call(this,e);return n.promise.then(()=>t(n.data)),null}const n=as(om,this)[e];if(!n||n.data===rm)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}has(e){const t=as(om,this)[e];return!!t&&t.data!==rm}delete(e){const t=as(om,this)[e];return!(!t||t.data===rm)&&(delete as(om,this)[e],!0)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=ns(lm,this,dm).call(this,e);n.data=t,n.resolve()}clear(){for(const t in as(om,this)){var e;const{data:n}=as(om,this)[t];null===n||void 0===n||null===(e=n.bitmap)||void 0===e||e.close()}ss(om,this,Object.create(null))}*[Symbol.iterator](){for(const e in as(om,this)){const{data:t}=as(om,this)[e];t!==rm&&(yield[e,t])}}}function dm(e){var t;return(t=as(om,this))[e]||(t[e]=(0,a.A)((0,a.A)({},Promise.withResolvers()),{},{data:rm}))}var hm=new WeakMap,um=new WeakMap,pm=new WeakMap,mm=new WeakMap,fm=new WeakMap,gm=new WeakMap,vm=new WeakMap,bm=new WeakMap,ym=new WeakMap,xm=new WeakMap,wm=new WeakMap,Nm=new WeakMap,Am=new WeakMap,km=new WeakMap,jm=new WeakMap,Cm=new WeakMap,_m=new WeakMap,Sm=new WeakMap,Em=new WeakSet;class Mm{constructor(e){var t;let{textContentSource:n,container:i,viewport:a}=e;if(es(this,Em),ts(this,hm,Promise.withResolvers()),ts(this,um,null),ts(this,pm,!1),ts(this,mm,!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled)),ts(this,fm,null),ts(this,gm,null),ts(this,vm,0),ts(this,bm,0),ts(this,ym,null),ts(this,xm,null),ts(this,wm,0),ts(this,Nm,0),ts(this,Am,Object.create(null)),ts(this,km,[]),ts(this,jm,null),ts(this,Cm,[]),ts(this,_m,new WeakMap),ts(this,Sm,null),n instanceof ReadableStream)ss(jm,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');ss(jm,this,new ReadableStream({start(e){e.enqueue(n),e.close()}}))}ss(um,this,ss(xm,this,i)),ss(Nm,this,a.scale*Jr.pixelRatio),ss(wm,this,a.rotation),ss(gm,this,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:r,pageX:o,pageY:l}=a.rawDims;ss(Sm,this,[1,0,0,-1,-o,l+r]),ss(bm,this,s),ss(vm,this,r),Rm.call(Mm),Xr(i,a),as(hm,this).promise.finally(()=>{zm._.delete(this),ss(gm,this,null),ss(Am,this,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Nr.platform;return ur(this,"fontFamilyMap",new Map([["sans-serif","".concat(e&&t?"Calibri, ":"","sans-serif")],["monospace","".concat(e&&t?"Lucida Console, ":"","monospace")]]))}render(){const e=()=>{as(ym,this).read().then(t=>{var n;let{value:i,done:a}=t;a?as(hm,this).resolve():(null!==(n=as(fm,this))&&void 0!==n||ss(fm,this,i.lang),Object.assign(as(Am,this),i.styles),ns(Em,this,Pm).call(this,i.items),e())},as(hm,this).reject)};return ss(ym,this,as(jm,this).getReader()),zm._.add(this),e(),as(hm,this).promise}update(e){let{viewport:t,onBefore:n=null}=e;const i=t.scale*Jr.pixelRatio,a=t.rotation;if(a!==as(wm,this)&&(null===n||void 0===n||n(),ss(wm,this,a),Xr(as(xm,this),{rotation:a})),i!==as(Nm,this)){null===n||void 0===n||n(),ss(Nm,this,i);const e={div:null,properties:null,ctx:Im.call(Mm,as(fm,this))};for(const t of as(Cm,this))e.properties=as(_m,this).get(t),e.div=t,ns(Em,this,Tm).call(this,e)}}cancel(){var e;const t=new yr("TextLayer task cancelled.");null===(e=as(ym,this))||void 0===e||e.cancel(t).catch(()=>{}),ss(ym,this,null),as(hm,this).reject(t)}get textDivs(){return as(Cm,this)}get textContentItemsStr(){return as(km,this)}static cleanup(){if(!(ns(Mm,this,zm)._.size>0)){ns(Mm,this,Bm)._.clear();for(const{canvas:e}of ns(Mm,this,Om)._.values())e.remove();ns(Mm,this,Om)._.clear()}}}function Pm(e){var t,n;if(as(pm,this))return;null!==(n=(t=as(gm,this)).ctx)&&void 0!==n||(t.ctx=Im.call(hs,as(fm,this)));const i=as(Cm,this),a=as(km,this);for(const s of e){if(i.length>1e5)return or("Ignoring additional textDivs for performance reasons."),void ss(pm,this,!0);if(void 0!==s.str)a.push(s.str),ns(Em,this,Lm).call(this,s);else if("beginMarkedContentProps"===s.type||"beginMarkedContent"===s.type){const e=as(um,this);ss(um,this,document.createElement("span")),as(um,this).classList.add("markedContent"),s.id&&as(um,this).setAttribute("id","".concat(s.id)),e.append(as(um,this))}else"endMarkedContent"===s.type&&ss(um,this,as(um,this).parentNode)}}function Lm(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};as(Cm,this).push(t);const i=kr.transform(as(Sm,this),e.transform);let a=Math.atan2(i[1],i[0]);const s=as(Am,this)[e.fontName];s.vertical&&(a+=Math.PI/2);let r=as(mm,this)&&s.fontSubstitution||s.fontFamily;r=hs.fontFamilyMap.get(r)||r;const o=Math.hypot(i[2],i[3]),l=o*Dm.call(hs,r,s,as(fm,this));let c,d;0===a?(c=i[4],d=i[5]-l):(c=i[4]+l*Math.sin(a),d=i[5]-l*Math.cos(a));const h="calc(var(--total-scale-factor) *",u=t.style;as(um,this)===as(xm,this)?(u.left="".concat((100*c/as(bm,this)).toFixed(2),"%"),u.top="".concat((100*d/as(vm,this)).toFixed(2),"%")):(u.left="".concat(h).concat(c.toFixed(2),"px)"),u.top="".concat(h).concat(d.toFixed(2),"px)")),u.fontSize="".concat(h).concat((Hm._*o).toFixed(2),"px)"),u.fontFamily=r,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,as(mm,this)&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),0!==a&&(n.angle=a*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=s.vertical?e.height:e.width),as(_m,this).set(t,n),as(gm,this).div=t,as(gm,this).properties=n,ns(Em,this,Tm).call(this,as(gm,this)),n.hasText&&as(um,this).append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),as(um,this).append(e)}}function Tm(e){const{div:t,properties:n,ctx:i}=e,{style:a}=t;let s="";if(Hm._>1&&(s="scale(".concat(1/Hm._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:e}=a,{canvasWidth:r,fontSize:o}=n;Fm.call(hs,i,o*as(Nm,this),e);const{width:l}=i.measureText(t.textContent);l>0&&(s="scaleX(".concat(r*as(Nm,this)/l,") ").concat(s))}0!==n.angle&&(s="rotate(".concat(n.angle,"deg) ").concat(s)),s.length>0&&(a.transform=s)}function Im(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=ns(hs,this,Om)._.get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),ns(hs,this,Om)._.set(e,t),ns(hs,this,Wm)._.set(t,{size:0,family:""})}return t}function Fm(e,t,n){const i=ns(hs,this,Wm)._.get(e);t===i.size&&n===i.family||(e.font="".concat(t,"px ").concat(n),i.size=t,i.family=n)}function Rm(){if(null!==ns(hs,this,Hm)._)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),Hm._=ns(hs,this,e.getBoundingClientRect().height),e.remove()}function Dm(e,t,n){const i=ns(hs,this,Bm)._.get(e);if(i)return i;const a=ns(hs,this,Im).call(this,n);a.canvas.width=a.canvas.height=30,ns(hs,this,Fm).call(this,a,30,e);const s=a.measureText(""),r=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let l=.8;return r?l=r/(r+o):(Nr.platform.isFirefox&&or("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?l=t.ascent:t.descent&&(l=1+t.descent)),ns(hs,this,Bm)._.set(e,l),l}hs=Mm;var Bm={_:new Map},Om={_:new Map},Wm={_:new WeakMap},Hm={_:null},zm={_:new Set};class Um{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){var i;if(!n)return;let a=null;const s=n.name;if("#text"===s)a=n.value;else{if(!Um.shouldBuildText(s))return;null!==n&&void 0!==n&&null!==(i=n.attributes)&&void 0!==i&&i.textContent?a=n.attributes.textContent:n.value&&(a=n.value)}if(null!==a&&t.push({str:a}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}function qm(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof n||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const i=new Gm,{docId:a}=i,s=n.url?function(e){if(e instanceof URL)return e.href;if("string"===typeof e){if(As)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(n.url):null,r=n.data?function(e){if(As&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return wr(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(n.data):null,o=n.httpHeaders||null,l=!0===n.withCredentials,c=null!==(e=n.password)&&void 0!==e?e:null,d=n.range instanceof Zm?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:65536;let u=n.worker instanceof df?n.worker:null;const p=n.verbosity,m="string"!==typeof n.docBaseUrl||Br(n.docBaseUrl)?null:n.docBaseUrl,f=th(n.cMapUrl),g=!1!==n.cMapPacked,v=n.CMapReaderFactory||(As?ru:Mh),b=th(n.iccUrl),y=th(n.standardFontDataUrl),x=n.StandardFontDataFactory||(As?ou:eu),w=th(n.wasmUrl),N=n.WasmFactory||(As?lu:nu),A=!0!==n.stopAtErrors,k=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,j=!1!==n.isEvalSupported,C="boolean"===typeof n.isOffscreenCanvasSupported?n.isOffscreenCanvasSupported:!As,_="boolean"===typeof n.isImageDecoderSupported?n.isImageDecoderSupported:!As&&(Nr.platform.isFirefox||!globalThis.chrome),S=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,E="boolean"===typeof n.disableFontFace?n.disableFontFace:As,M=!0===n.fontExtraProperties,P=!0===n.enableXfa,L=n.ownerDocument||globalThis.document,T=!0===n.disableRange,I=!0===n.disableStream,F=!0===n.disableAutoFetch,R=!0===n.pdfBug,D=n.CanvasFactory||(As?su:Sh),B=n.FilterFactory||(As?au:Wh),O=!0===n.enableHWA,W=!1!==n.useWasm,H=d?d.length:null!==(t=n.length)&&void 0!==t?t:NaN,z="boolean"===typeof n.useSystemFonts?n.useSystemFonts:!As&&!E,U="boolean"===typeof n.useWorkerFetch?n.useWorkerFetch:!!(v===Mh&&x===eu&&N===nu&&f&&y&&w&&Hr(f,document.baseURI)&&Hr(y,document.baseURI)&&Hr(w,document.baseURI));ar(p);const q={canvasFactory:new D({ownerDocument:L,enableHWA:O}),filterFactory:new B({docId:a,ownerDocument:L}),cMapReaderFactory:U?null:new v({baseUrl:f,isCompressed:g}),standardFontDataFactory:U?null:new x({baseUrl:y}),wasmFactory:U?null:new N({baseUrl:w})};u||(u=df.create({verbosity:p,port:yp.workerPort}),i._worker=u);const G={docId:a,apiVersion:"5.4.149",data:r,password:c,disableAutoFetch:F,rangeChunkSize:h,length:H,docBaseUrl:m,enableXfa:P,evaluatorOptions:{maxImageSize:k,disableFontFace:E,ignoreErrors:A,isEvalSupported:j,isOffscreenCanvasSupported:C,isImageDecoderSupported:_,canvasMaxAreaInBytes:S,fontExtraProperties:M,useSystemFonts:z,useWasm:W,useWorkerFetch:U,cMapUrl:f,iccUrl:b,standardFontDataUrl:y,wasmUrl:w}},V={ownerDocument:L,pdfBug:R,styleElement:null,loadingParams:{disableAutoFetch:F,enableXfa:P}};return u.promise.then(function(){if(i.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const e=u.messageHandler.sendWithPromise("GetDocRequest",G,r?[r.buffer]:null);let t;if(d)t=new Bp(d,{disableRange:T,disableStream:I});else if(!r){if(!s)throw new Error("getDocument - no `url` parameter provided.");const e=Hr(s)?Xp:As?im:$p;t=new e({url:s,length:H,httpHeaders:o,withCredentials:l,rangeChunkSize:h,disableRange:T,disableStream:I})}return e.then(e=>{if(i.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const n=new wh(a,e,u.port),s=new jf(n,i,t,V,q,O);i._transport=s,n.send("Ready",null)})}).catch(i._capability.reject),i}class Gm{constructor(){(0,ws.A)(this,"_capability",Promise.withResolvers()),(0,ws.A)(this,"_transport",null),(0,ws.A)(this,"_worker",null),(0,ws.A)(this,"docId","d".concat((Vm._=(us=Vm._,ps=us++,us),ps))),(0,ws.A)(this,"destroyed",!1),(0,ws.A)(this,"onPassword",null),(0,ws.A)(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e;this.destroyed=!0;try{var t,n;null!==(t=this._worker)&&void 0!==t&&t.port&&(this._worker._pendingDestroy=!0),await(null===(n=this._transport)||void 0===n?void 0:n.destroy())}catch(a){var i;throw null!==(i=this._worker)&&void 0!==i&&i.port&&delete this._worker._pendingDestroy,a}this._transport=null,null===(e=this._worker)||void 0===e||e.destroy(),this._worker=null}async getData(){return this._transport.getData()}}var Vm={_:0},Ym=new WeakMap,Km=new WeakMap,Xm=new WeakMap,Jm=new WeakMap,Qm=new WeakMap;class Zm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ts(this,Ym,Promise.withResolvers()),ts(this,Km,[]),ts(this,Xm,[]),ts(this,Jm,[]),ts(this,Qm,[]),this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i}addRangeListener(e){as(Qm,this).push(e)}addProgressListener(e){as(Jm,this).push(e)}addProgressiveReadListener(e){as(Xm,this).push(e)}addProgressiveDoneListener(e){as(Km,this).push(e)}onDataRange(e,t){for(const n of as(Qm,this))n(e,t)}onDataProgress(e,t){as(Ym,this).promise.then(()=>{for(const n of as(Jm,this))n(e,t)})}onDataProgressiveRead(e){as(Ym,this).promise.then(()=>{for(const t of as(Xm,this))t(e)})}onDataProgressiveDone(){as(Ym,this).promise.then(()=>{for(const e of as(Km,this))e()})}transportReady(){as(Ym,this).resolve()}requestDataRange(e,t){lr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class $m{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ur(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var ef=new WeakMap,tf=new WeakSet;class nf{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];es(this,tf),ts(this,ef,!1),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new Wr:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new cm,this._intentStates=new Map,this.destroyed=!1,this.recordedGroups=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:a=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Rr({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:a})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ur(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n,i;let{canvasContext:a,canvas:s=a.canvas,viewport:r,intent:o="display",annotationMode:l=Is.ENABLE,transform:c=null,background:d=null,optionalContentConfigPromise:h=null,annotationCanvasMap:u=null,pageColors:p=null,printAnnotationStorage:m=null,isEditing:f=!1,recordOperations:g=!1,filteredOperationIndexes:v=null}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const b=this._transport.getRenderingIntent(o,l,m,f),{renderingIntent:y,cacheKey:x}=b;ss(ef,this,!1),h||(h=this._transport.getOptionalContentConfig(y));let w=this._intentStates.get(x);w||(w=Object.create(null),this._intentStates.set(x,w)),w.streamReaderCancelTimeout&&(clearTimeout(w.streamReaderCancelTimeout),w.streamReaderCancelTimeout=null);const N=!!(y&Ss);var A;w.displayReadyCapability||(w.displayReadyCapability=Promise.withResolvers(),w.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(A=this._stats)||void 0===A||A.time("Page Request"),this._pumpOperatorList(b));const k=!this.recordedGroups&&(g||this._pdfBug&&(null===(n=globalThis.StepperManager)||void 0===n?void 0:n.enabled)),j=e=>{if(w.renderTasks.delete(C),k){var t;const e=null===(t=C.gfx)||void 0===t?void 0:t.dependencyTracker.take();var n;if(e)null===(n=C.stepper)||void 0===n||n.setOperatorGroups(e),g&&(this.recordedGroups=e);else g&&(this.recordedGroups=[])}var i;(N&&ss(ef,this,!0),ns(tf,this,af).call(this),e?(C.capability.reject(e),this._abortOperatorList({intentState:w,reason:e instanceof Error?e:new Error(e)})):C.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(i=globalThis.Stats)&&void 0!==i&&i.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new Mf({callback:j,params:{canvas:s,canvasContext:a,dependencyTracker:k?new ku(s):null,viewport:r,transform:c,background:d},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:w.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!N,pdfBug:this._pdfBug,pageColors:p,enableHWA:this._transport.enableHWA,filteredOperationIndexes:v});((i=w).renderTasks||(i.renderTasks=new Set)).add(C);const _=C.task;return Promise.all([w.displayReadyCapability.promise,h]).then(e=>{var t;let[n,i]=e;if(this.destroyed)j();else{if(null===(t=this._stats)||void 0===t||t.time("Rendering"),!(i.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:n,optionalContentConfig:i}),C.operatorListChanged()}}).catch(j),_}getOperatorList(){let{intent:e="display",annotationMode:t=Is.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const a=this._transport.getRenderingIntent(e,t,n,i,!0);let s,r=this._intentStates.get(a.cacheKey);var o,l;(r||(r=Object.create(null),this._intentStates.set(a.cacheKey,r)),r.opListReadCapability)||(s=Object.create(null),s.operatorListChanged=function(){r.operatorList.lastChunk&&(r.opListReadCapability.resolve(r.operatorList),r.renderTasks.delete(s))},r.opListReadCapability=Promise.withResolvers(),((o=r).renderTasks||(o.renderTasks=new Set)).add(s),r.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(a));return r.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(e=>Um.textContent(e));const t=this.streamTextContent(e);return new Promise(function(e,n){const i=t.getReader(),a={items:[],styles:Object.create(null),lang:null};!function t(){i.read().then(function(n){var i;let{value:s,done:r}=n;r?e(a):(null!==(i=a.lang)&&void 0!==i||(a.lang=s.lang),Object.assign(a.styles,s.styles),a.items.push(...s.items),t())},n)}()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),ss(ef,this,!1),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];ss(ef,this,!0);const t=ns(tf,this,af).call(this);return e&&t&&this._stats&&(this._stats=new Wr),t}_startRenderPage(e,t){var n,i;const a=this._intentStates.get(t);a&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(i=a.displayReadyCapability)||void 0===i||i.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&ns(tf,this,af).call(this)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:i,modifiedIds:a}=e;const{map:s,transfer:r}=i,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:s,modifiedIds:a},r).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then(e=>{let{value:t,done:n}=e;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,l),c())},e=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const e of l.renderTasks)e.operatorListChanged();ns(tf,this,af).call(this)}if(l.displayReadyCapability)l.displayReadyCapability.reject(e);else{if(!l.opListReadCapability)throw e;l.opListReadCapability.reject(e)}}})};c()}_abortOperatorList(e){let{intentState:t,reason:n,force:i=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!i){if(t.renderTasks.size>0)return;if(n instanceof Dr){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},e))}}if(t.streamReader.cancel(new yr(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function af(){if(!as(ef,this)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ss(ef,this,!1),!0}var sf=new WeakMap,rf=new WeakMap,of=new WeakMap,lf=new WeakMap,cf=new WeakSet;class df{constructor(){let{name:e=null,port:t=null,verbosity:n=sr()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(es(this,cf),ts(this,sf,Promise.withResolvers()),ts(this,rf,null),ts(this,of,null),ts(this,lf,null),this.name=e,this.destroyed=!1,this.verbosity=n,t){if(bf._.has(t))throw new Error("Cannot use more than one PDFWorker per port.");bf._.set(t,this),ns(cf,this,uf).call(this,t)}else ns(cf,this,pf).call(this)}get promise(){return as(sf,this).promise}get port(){return as(of,this)}get messageHandler(){return as(rf,this)}destroy(){var e,t;this.destroyed=!0,null===(e=as(lf,this))||void 0===e||e.terminate(),ss(lf,this,null),bf._.delete(as(of,this)),ss(of,this,null),null===(t=as(rf,this))||void 0===t||t.destroy(),ss(rf,this,null)}static create(e){const t=ns(df,this,bf)._.get(null===e||void 0===e?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new df(e)}static get workerSrc(){if(yp.workerSrc)return yp.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ur(this,"_setupFakeWorkerGlobal",(async()=>{if(is(df,this,ff))return is(df,this,ff);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function hf(){as(sf,this).resolve(),as(rf,this).send("configure",{verbosity:this.verbosity})}function uf(e){ss(of,this,e),ss(rf,this,new wh("main","worker",e)),as(rf,this).on("ready",()=>{}),ns(cf,this,hf).call(this)}function pf(){if(vf._||ff(ms))return void ns(cf,this,mf).call(this);let{workerSrc:e}=ms;try{ms._isSameOrigin(window.location,e)||(e=ms._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new wh("main","worker",t),i=()=>{a.abort(),n.destroy(),t.terminate(),this.destroyed?as(sf,this).reject(new Error("Worker was destroyed")):ns(cf,this,mf).call(this)},a=new AbortController;t.addEventListener("error",()=>{as(lf,this)||i()},{signal:a.signal}),n.on("test",e=>{a.abort(),!this.destroyed&&e?(ss(rf,this,n),ss(of,this,t),ss(lf,this,t),ns(cf,this,hf).call(this)):i()}),n.on("ready",e=>{if(a.abort(),this.destroyed)i();else try{s()}catch(t){ns(cf,this,mf).call(this)}});const s=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void s()}catch(t){rr("The worker has been disabled.")}ns(cf,this,mf).call(this)}function mf(){vf._||(or("Setting up fake worker."),vf._=!0),ms._setupFakeWorkerGlobal.then(e=>{var t,n;if(this.destroyed)return void as(sf,this).reject(new Error("Worker was destroyed"));const i=new rh;ss(of,this,i);const a="fake".concat((gf._=(t=gf._,n=t++,t),n)),s=new wh(a+"_worker",a,i);e.setup(s,i),ss(rf,this,new wh(a,a+"_worker",i)),ns(cf,this,hf).call(this)}).catch(e=>{as(sf,this).reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}function ff(e){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(n){return null}}ms=df;var gf={_:0},vf={_:!1},bf={_:new WeakMap};As&&(vf._=ns(ms,ms,!0),yp.workerSrc||(yp.workerSrc="./pdf.worker.mjs")),ms._isSameOrigin=(e,t)=>{const n=URL.parse(e);if(null===n||void 0===n||!n.origin||"null"===n.origin)return!1;const i=new URL(t,n);return n.origin===i.origin},ms._createCDNWrapper=e=>{const t='await import("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},ms.fromPort=e=>{var t;if(t="`PDFWorker.fromPort` - please use `PDFWorker.create` instead.",console.log("Deprecated API usage: "+t),null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ms.create(e)};var yf=new WeakMap,xf=new WeakMap,wf=new WeakMap,Nf=new WeakMap,Af=new WeakMap,kf=new WeakSet;class jf{constructor(e,t,n,i,a,s){es(this,kf),ts(this,yf,new Map),ts(this,xf,new Map),ts(this,wf,new Map),ts(this,Nf,new Map),ts(this,Af,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new cm,this.fontLoader=new $d({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}get annotationStorage(){return ur(this,"annotationStorage",new Kd)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Is.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=_s,r=Ud;switch(e){case"any":s=Cs;break;case"display":break;case"print":s=Ss;break;default:or("getRenderingIntent - invalid intent: ".concat(e))}const o=s&Ss&&n instanceof Qd?n:this.annotationStorage;switch(t){case Is.DISABLE:s+=Ps;break;case Is.ENABLE:break;case Is.ENABLE_FORMS:s+=Es;break;case Is.ENABLE_STORAGE:s+=Ms,r=o.serializable;break;default:or("getRenderingIntent - invalid annotationMode: ".concat(t))}i&&(s+=Ls),a&&(s+=Ts);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:s,cacheKey:[s,r.hash,c].join("_"),annotationStorageSerializable:r,modifiedIds:l}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(e=as(Af,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of as(xf,this).values())t.push(i._destroy());as(xf,this).clear(),as(wf,this).clear(),as(Nf,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{var e,t;this.commonObjs.clear(),this.fontLoader.clear(),as(yf,this).clear(),this.filterFactory.destroy(),Mm.cleanup(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new yr("Worker was terminated.")),null===(t=this.messageHandler)||void 0===t||t.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(e,t)=>{cr(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then(function(e){let{value:n,done:i}=e;i?t.close():(cr(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}}),e.on("ReaderHeadersReady",async e=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:i,contentLength:a}=this._fullReader;if(!n||!i){var s;if(this._lastProgress)null===(s=t.onProgress)||void 0===s||s.call(t,this._lastProgress);this._fullReader.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}}return{isStreamingSupported:n,isRangeSupported:i,contentLength:a}}),e.on("GetRangeReader",(e,t)=>{cr(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then(function(e){let{value:n,done:i}=e;i?t.close():(cr(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))}).catch(e=>{t.error(e)})},t.onCancel=e=>{n.cancel(e),t.ready.catch(e=>{if(!this.destroyed)throw e})}):t.close()}),e.on("GetDoc",e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new $m(n,this))}),e.on("DocException",e=>{t._capability.reject(bh(e))}),e.on("PasswordRequest",e=>{ss(Af,this,Promise.withResolvers());try{if(!t.onPassword)throw bh(e);const n=e=>{e instanceof Error?as(Af,this).reject(e):as(Af,this).resolve({password:e})};t.onPassword(n,e.code)}catch(n){as(Af,this).reject(n)}return as(Af,this).promise}),e.on("DataLoaded",e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)}),e.on("StartRenderPage",e=>{if(this.destroyed)return;as(xf,this).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)}),e.on("commonobj",t=>{var n;let[i,a,s]=t;if(this.destroyed)return null;if(this.commonObjs.has(i))return null;switch(a){case"Font":if("error"in s){const e=s.error;or("Error during font loading: ".concat(e)),this.commonObjs.resolve(i,e);break}const t=this._params.pdfBug&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,r=new eh(s,t);this.fontLoader.bind(r).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!r.fontExtraProperties&&r.data&&(r.data=null),this.commonObjs.resolve(i,r)});break;case"CopyLocalImage":const{imageRef:o}=s;cr(o,"The imageRef must be defined.");for(const e of as(xf,this).values())for(const[,t]of e.objs)if((null===t||void 0===t?void 0:t.ref)===o)return t.dataLen?(this.commonObjs.resolve(i,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error("Got unknown common object type ".concat(a))}return null}),e.on("obj",e=>{let[t,n,i,a]=e;if(this.destroyed)return;const s=as(xf,this).get(n);var r;if(!s.objs.has(t))if(0!==s._intentStates.size)switch(i){case"Image":case"Pattern":s.objs.resolve(t,a);break;default:throw new Error("Got unknown object type ".concat(i))}else null===a||void 0===a||null===(r=a.bitmap)||void 0===r||r.close()}),e.on("DocProgress",e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}),e.on("FetchBinaryData",async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");const t=this[e.type];if(!t)throw new Error("".concat(e.type," not initialized, see the `useWorkerFetch` parameter."));return t.fetch(e)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&or("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=as(wf,this).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&as(Nf,this).set(n.refStr,e);const i=new nf(t,n,this,this._params.pdfBug);return as(xf,this).set(t,i),i});return as(wf,this).set(t,i),i}getPageIndex(e){return nh(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return ns(kf,this,Cf).call(this,"GetFieldObjects")}hasJSActions(){return ns(kf,this,Cf).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return ns(kf,this,Cf).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ns(kf,this,Cf).call(this,"GetOptionalContentConfig").then(t=>new Rp(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=as(yf,this).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(e=>{var t,n,i,a;return{info:e[0],metadata:e[1]?new kp(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(i=null===(a=this._fullReader)||void 0===a?void 0:a.contentLength)&&void 0!==i?i:null}});return as(yf,this).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of as(xf,this).values()){if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."))}this.commonObjs.clear(),e||this.fontLoader.clear(),as(yf,this).clear(),this.filterFactory.destroy(!0),Mm.cleanup()}}cachedPageNumber(e){var t;if(!nh(e))return null;const n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return null!==(t=as(Nf,this).get(n))&&void 0!==t?t:null}}function Cf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=as(yf,this).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return as(yf,this).set(e,i),i}var _f=new WeakMap;class Sf{constructor(e){ts(this,_f,null),(0,ws.A)(this,"onContinue",null),(0,ws.A)(this,"onError",null),ss(_f,this,e)}get promise(){return as(_f,this).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;as(_f,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=as(_f,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=as(_f,this);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}var Ef=new WeakMap;class Mf{constructor(e){let{callback:t,params:n,objs:i,commonObjs:a,annotationCanvasMap:s,operatorList:r,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:u=null,enableHWA:p=!1,filteredOperationIndexes:m=null}=e;ts(this,Ef,null),this.callback=t,this.params=n,this.objs=i,this.commonObjs=a,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=u,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===d&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Sf(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=p,this._dependencyTracker=n.dependencyTracker,this._filteredOperationIndexes=m}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(e){var t,n;let{transparency:i=!1,optionalContentConfig:a}=e;if(this.cancelled)return;if(this._canvas){if(Pf._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Pf._.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:s,transform:r,background:o,dependencyTracker:l}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new fp(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:a},this.annotationCanvasMap,this.pageColors,l),this.gfx.beginDrawing({transform:r,viewport:s,transparency:i,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var e,t,n;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),as(Ef,this)&&(window.cancelAnimationFrame(as(Ef,this)),ss(Ef,this,null)),Pf._.delete(this._canvas),i||(i=new Dr("Rendering cancelled, page ".concat(this._pageIndex+1),a)),this.callback(i),null===(t=(n=this.task).onError)||void 0===t||t.call(n,i)}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?ss(Ef,this,window.requestAnimationFrame(()=>{ss(Ef,this,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._filteredOperationIndexes),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Pf._.delete(this._canvas),this.callback())))}}var Pf={_:new WeakSet};var Lf=new WeakMap,Tf=new WeakMap,If=new WeakMap,Ff=new WeakMap,Rf=new WeakMap,Df=new WeakMap,Bf=new WeakMap,Of=new WeakMap,Wf=new WeakMap,Hf=new WeakMap,zf=new WeakSet;class Uf{static get _keyboardManager(){return ur(this,"_keyboardManager",new Do([[["Escape","mac+Escape"],Uf.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Uf.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Uf.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Uf.prototype._moveToPrevious],[["Home","mac+Home"],Uf.prototype._moveToBeginning],[["End","mac+End"],Uf.prototype._moveToEnd]]))}constructor(e){var t,n;let{editor:i=null,uiManager:a=null}=e;es(this,zf),ts(this,Lf,null),ts(this,Tf,null),ts(this,If,void 0),ts(this,Ff,null),ts(this,Rf,!1),ts(this,Df,!1),ts(this,Bf,null),ts(this,Of,void 0),ts(this,Wf,null),ts(this,Hf,null),i?(ss(Df,this,!1),ss(Bf,this,i)):ss(Df,this,!0),ss(Hf,this,(null===i||void 0===i?void 0:i._uiManager)||a),ss(Of,this,as(Hf,this)._eventBus),ss(If,this,(null===i||void 0===i||null===(t=i.color)||void 0===t?void 0:t.toUpperCase())||(null===(n=as(Hf,this))||void 0===n?void 0:n.highlightColors.values().next().value)||"#FFFF98"),Jf._||(Jf._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const e=ss(Lf,this,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",as(Bf,this)&&(e.ariaControls="".concat(as(Bf,this).id,"_colorpicker_dropdown"));const t=as(Hf,this)._signal;e.addEventListener("click",ns(zf,this,Yf).bind(this),{signal:t}),e.addEventListener("keydown",ns(zf,this,Vf).bind(this),{signal:t});const n=ss(Tf,this,document.createElement("span"));return n.className="swatch",n.ariaHidden="true",n.style.backgroundColor=as(If,this),e.append(n),e}renderMainDropdown(){const e=ss(Ff,this,ns(zf,this,qf).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===as(Lf,this))return void ns(zf,this,Yf).call(this,e);const t=e.target.getAttribute("data-color");t&&ns(zf,this,Gf).call(this,t,e)}_moveToNext(e){var t,n;is(zf,this,Xf)?e.target!==as(Lf,this)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(n=as(Ff,this).firstChild)||void 0===n||n.focus():ns(zf,this,Yf).call(this,e)}_moveToPrevious(e){var t,n;e.target!==(null===(t=as(Ff,this))||void 0===t?void 0:t.firstChild)&&e.target!==as(Lf,this)?(is(zf,this,Xf)||ns(zf,this,Yf).call(this,e),null===(n=e.target.previousSibling)||void 0===n||n.focus()):is(zf,this,Xf)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;is(zf,this,Xf)?null===(t=as(Ff,this).firstChild)||void 0===t||t.focus():ns(zf,this,Yf).call(this,e)}_moveToEnd(e){var t;is(zf,this,Xf)?null===(t=as(Ff,this).lastChild)||void 0===t||t.focus():ns(zf,this,Yf).call(this,e)}hideDropdown(){var e,t;null===(e=as(Ff,this))||void 0===e||e.classList.add("hidden"),as(Lf,this).ariaExpanded="false",null===(t=as(Wf,this))||void 0===t||t.abort(),ss(Wf,this,null)}_hideDropdownFromKeyboard(){var e;as(Df,this)||(is(zf,this,Xf)?(this.hideDropdown(),as(Lf,this).focus({preventScroll:!0,focusVisible:as(Rf,this)})):null===(e=as(Bf,this))||void 0===e||e.unselect())}updateColor(e){if(as(Tf,this)&&(as(Tf,this).style.backgroundColor=e),!as(Ff,this))return;const t=as(Hf,this).highlightColors.values();for(const n of as(Ff,this).children)n.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;null===(e=as(Lf,this))||void 0===e||e.remove(),ss(Lf,this,null),ss(Tf,this,null),null===(t=as(Ff,this))||void 0===t||t.remove(),ss(Ff,this,null)}}function qf(){const e=document.createElement("div"),t=as(Hf,this)._signal;e.addEventListener("contextmenu",zr,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),as(Bf,this)&&(e.id="".concat(as(Bf,this).id,"_colorpicker_dropdown"));for(const[n,i]of as(Hf,this).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",i),a.title=n,a.setAttribute("data-l10n-id",Jf._[n]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=i,a.ariaSelected=i===as(If,this),a.addEventListener("click",ns(zf,this,Gf).bind(this,i),{signal:t}),e.append(a)}return e.addEventListener("keydown",ns(zf,this,Vf).bind(this),{signal:t}),e}function Gf(e,t){t.stopPropagation(),as(Of,this).dispatch("switchannotationeditorparams",{source:this,type:Ds.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}function Vf(e){fs._keyboardManager.exec(this,e)}function Yf(e){if(is(zf,this,Xf))return void this.hideDropdown();if(ss(Rf,this,0===e.detail),as(Wf,this)||(ss(Wf,this,new AbortController),window.addEventListener("pointerdown",ns(zf,this,Kf).bind(this),{signal:as(Hf,this).combinedSignal(as(Wf,this))})),as(Lf,this).ariaExpanded="true",as(Ff,this))return void as(Ff,this).classList.remove("hidden");const t=ss(Ff,this,ns(zf,this,qf).call(this));as(Lf,this).append(t)}function Kf(e){var t;null!==(t=as(Ff,this))&&void 0!==t&&t.contains(e.target)||this.hideDropdown()}function Xf(e){return as(Ff,e)&&!as(Ff,e).classList.contains("hidden")}fs=Uf;var Jf={_:null},Qf=new WeakMap,Zf=new WeakMap,$f=new WeakMap;class eg{constructor(e){ts(this,Qf,null),ts(this,Zf,null),ts(this,$f,null),ss(Zf,this,e),ss($f,this,e._uiManager),tg._||(tg._=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(as(Qf,this))return as(Qf,this);const{editorType:e,colorType:t,colorValue:n}=as(Zf,this),i=ss(Qf,this,document.createElement("input"));return i.type="color",i.value=n||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",tg._[e]),i.addEventListener("input",()=>{as($f,this).updateParams(t,i.value)},{signal:as($f,this)._signal}),i}update(e){as(Qf,this)&&(as(Qf,this).value=e)}destroy(){var e;null===(e=as(Qf,this))||void 0===e||e.remove(),ss(Qf,this,null)}hideDropdown(){}}var tg={_:null};function ng(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function ig(e){return Math.max(0,Math.min(255,255*e))}class ag{static CMYK_G(e){let[t,n,i,a]=e;return["G",1-Math.min(1,.3*t+.59*i+.11*n+a)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=ig(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=ng(t);return"#".concat(n).concat(n).concat(n)}static RGB_G(e){let[t,n,i]=e;return["G",.3*t+.59*n+.11*i]}static RGB_rgb(e){return e.map(ig)}static RGB_HTML(e){return"#".concat(e.map(ng).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,i,a]=e;return["RGB",1-Math.min(1,t+a),1-Math.min(1,i+a),1-Math.min(1,n+a)]}static CMYK_rgb(e){let[t,n,i,a]=e;return[ig(1-Math.min(1,t+a)),ig(1-Math.min(1,i+a)),ig(1-Math.min(1,n+a))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,i]=e;const a=1-t,s=1-n,r=1-i;return["CMYK",a,s,r,Math.min(a,s,r)]}}class sg{create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width","".concat(e,"px")),i.setAttribute("height","".concat(t,"px"))),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),i}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){lr("Abstract method `_createSVG` called.")}}class rg extends sg{_createSVG(e){return document.createElementNS(Tr,e)}}class og{static setupStorage(e,t,n,i,a){const s=i.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==s.value&&(e.textContent=s.value),"print"===a)break;e.addEventListener("input",e=>{i.setValue(t,{value:e.target.value})});break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===a)break;e.addEventListener("change",e=>{i.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(null!==s.value&&e.setAttribute("value",s.value),"print"===a)break;e.addEventListener("input",e=>{i.setValue(t,{value:e.target.value})})}break;case"select":if(null!==s.value){e.setAttribute("value",s.value);for(const e of n.children)e.attributes.value===s.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",e=>{const n=e.target.options,a=-1===n.selectedIndex?"":n[n.selectedIndex].value;i.setValue(t,{value:a})})}}static setAttributes(e){let{html:t,element:n,storage:i=null,intent:a,linkService:s}=e;const{attributes:r}=n,o=t instanceof HTMLAnchorElement;"radio"===r.type&&(r.name="".concat(r.name,"-").concat(a));for(const[l,c]of Object.entries(r))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&s.addLinkAttributes(t,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(t,r.dataId,n,i)}static render(e){const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,a=e.intent||"display",s=document.createElement(i.name);i.attributes&&this.setAttributes({html:s,element:i,intent:a,linkService:n});const r="richText"!==a,o=e.div;if(o.append(s),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");o.style.transform=t}r&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===i.children.length){if(i.value){const e=document.createTextNode(i.value);s.append(e),r&&Um.shouldBuildText(i.name)&&l.push(e)}return{textDivs:l}}const c=[[i,-1,s]];for(;c.length>0;){var d,h;const[e,i,s]=c.at(-1);if(i+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:u}=o;if("#text"===u){const e=document.createTextNode(o.value);l.push(e),s.append(e);continue}const p=null!==o&&void 0!==o&&null!==(d=o.attributes)&&void 0!==d&&d.xmlns?document.createElementNS(o.attributes.xmlns,u):document.createElement(u);if(s.append(p),o.attributes&&this.setAttributes({html:p,element:o,storage:t,intent:a,linkService:n}),(null===(h=o.children)||void 0===h?void 0:h.length)>0)c.push([o,-1,p]);else if(o.value){const e=document.createTextNode(o.value);r&&Um.shouldBuildText(u)&&l.push(e),p.append(e)}}for(const u of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))u.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}const lg=new WeakSet,cg=60*(new Date).getTimezoneOffset()*1e3;class dg{static create(e){switch(e.data.annotationType){case Gs.LINK:return new yg(e);case Gs.TEXT:return new Ag(e);case Gs.WIDGET:switch(e.data.fieldType){case"Tx":return new jg(e);case"Btn":return e.data.radioButton?new Sg(e):e.data.checkBox?new _g(e):new Eg(e);case"Ch":return new Mg(e);case"Sig":return new Cg(e)}return new kg(e);case Gs.POPUP:return new Pg(e);case Gs.FREETEXT:return new gv(e);case Gs.LINE:return new bv(e);case Gs.SQUARE:return new xv(e);case Gs.CIRCLE:return new Nv(e);case Gs.POLYLINE:return new kv(e);case Gs.CARET:return new Cv(e);case Gs.INK:return new Mv(e);case Gs.POLYGON:return new jv(e);case Gs.HIGHLIGHT:return new Lv(e);case Gs.UNDERLINE:return new Tv(e);case Gs.SQUIGGLY:return new Iv(e);case Gs.STRIKEOUT:return new Fv(e);case Gs.STAMP:return new Rv(e);case Gs.FILEATTACHMENT:return new Ov(e);default:return new fg(e)}}}var hg=new WeakMap,ug=new WeakMap,pg=new WeakMap,mg=new WeakSet;class fg{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};es(this,mg),ts(this,hg,null),ts(this,ug,!1),ts(this,pg,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData(e){let{contentsObj:t,richText:n}=e;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return fg._hasPopupData(this.data)}get hasCommentButton(){return this.enableComment&&this._isEditable&&this.hasPopupElement}get commentButtonPosition(){const{quadPoints:e,rect:t}=this.data;let n=-1/0,i=-1/0;if((null===e||void 0===e?void 0:e.length)>=8){for(let t=0;t<e.length;t+=8)e[t+1]>i?(i=e[t+1],n=e[t+2]):e[t+1]===i&&(n=Math.max(n,e[t+2]));return[n,i]}return t?[t[2],t[3]]:null}get commentButtonColor(){var e;if(!this.data.color)return null;const[t,n,i]=this.data.color,a=255*(1-(null!==(e=this.data.opacity)&&void 0!==e?e:1));return ns(mg,this,gg).call(this,Math.min(t+a,255),Math.min(n+a,255),Math.min(i+a,255))}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:a,pageY:s}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-a)/n,e[1]=100*(e[1]-s)/i,e}updateEdited(e){var t;if(!this.container)return;e.rect&&(as(hg,this)||ss(hg,this,{rect:this.data.rect.slice(0)}));const{rect:n,popup:i}=e;n&&ns(mg,this,vg).call(this,n);let a=(null===(t=as(pg,this))||void 0===t?void 0:t.popup)||this.popup;!a&&null!==i&&void 0!==i&&i.text&&(this._createPopup(i),a=as(pg,this).popup),a&&(a.updateEdited(e),null!==i&&void 0!==i&&i.deleted&&(a.remove(),ss(pg,this,null),this.popup=null))}resetEdited(){var e;as(hg,this)&&(ns(mg,this,vg).call(this,as(hg,this).rect),null===(e=as(pg,this))||void 0===e||e.popup.resetEdited(),ss(hg,this,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",t.id),this instanceof kg||this instanceof yg||(a.tabIndex=0);const{style:s}=a;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(a.title=t.alternativeText),t.noRotate&&a.classList.add("norotate"),!t.rect||this instanceof Pg){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,a),a}const{width:r,height:o}=this;if(!e&&t.borderStyle.width>0){s.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t="calc(".concat(e,"px * var(--total-scale-factor)) / calc(").concat(n,"px * var(--total-scale-factor))");s.borderRadius=t}else if(this instanceof Sg){const e="calc(".concat(r,"px * var(--total-scale-factor)) / calc(").concat(o,"px * var(--total-scale-factor))");s.borderRadius=e}switch(t.borderStyle.style){case Vs:s.borderStyle="solid";break;case Ys:s.borderStyle="dashed";break;case Ks:or("Unimplemented border style: beveled");break;case Xs:or("Unimplemented border style: inset");break;case Js:s.borderBottomStyle="solid"}const i=t.borderColor||null;i?(ss(ug,this,!0),s.borderColor=kr.makeHexColor(0|i[0],0|i[1],0|i[2])):s.borderWidth=0}const l=kr.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:d,pageX:h,pageY:u}=i.rawDims;s.left="".concat(100*(l[0]-h)/c,"%"),s.top="".concat(100*(l[1]-u)/d,"%");const{rotation:p}=t;return t.hasOwnCanvas||0===p?(s.width="".concat(100*r/c,"%"),s.height="".concat(100*o/d,"%")):this.setRotation(p,a),a}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims;let{width:a,height:s}=this;e%180!==0&&([a,s]=[s,a]),t.style.width="".concat(100*a/n,"%"),t.style.height="".concat(100*s/i,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const i=n.detail[e],a=i[0],s=i.slice(1);n.target.style[t]=ag["".concat(a,"_HTML")](s),this.annotationStorage.setValue(this.data.id,{[t]:ag["".concat(a,"_rgb")](s)})};return ur(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const a=e[i]||n[i];null===a||void 0===a||a(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,a]of Object.entries(t)){const s=n[i];if(s){s({detail:{[i]:a},target:e}),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,a]=this.data.rect.map(e=>Math.fround(e));if(8===e.length){const[s,r,o,l]=e.subarray(2,6);if(i===s&&a===r&&t===o&&n===l)return}const{style:s}=this.container;let r;if(as(ug,this)){const{borderColor:e,borderWidth:t}=s;s.borderWidth=0,r=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=i-t,l=a-n,{svgFactory:c}=this,d=c.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const h=c.createElement("defs");d.append(h);const u=c.createElement("clipPath"),p="clippath_".concat(this.data.id);u.setAttribute("id",p),u.setAttribute("clipPathUnits","objectBoundingBox"),h.append(u);for(let f=2,g=e.length;f<g;f+=8){var m;const n=e[f],i=e[f+1],s=e[f+2],d=e[f+3],h=c.createElement("rect"),p=(s-t)/o,g=(a-i)/l,v=(n-s)/o,b=(i-d)/l;h.setAttribute("x",p),h.setAttribute("y",g),h.setAttribute("width",v),h.setAttribute("height",b),u.append(h),null===(m=r)||void 0===m||m.push('<rect vector-effect="non-scaling-stroke" x="'.concat(p,'" y="').concat(g,'" width="').concat(v,'" height="').concat(b,'"/>'))}as(ug,this)&&(r.push("</g></svg>')"),s.backgroundImage=r.join("")),this.container.append(d),this.container.style.clipPath="url(#".concat(p,")")}_createPopup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const{data:t}=this;let n,i;e?(n={str:e.text},i=e.date):(n=t.contentsObj,i=t.modificationDate);const a=ss(pg,this,new Pg({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:n,richText:t.richText,parentRect:t.rect,borderStyle:0,id:"popup_".concat(t.id),rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent.div.append(a.render())}get hasPopupElement(){return!!(as(pg,this)||this.popup||this.data.popupRef)}render(){lr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:e,id:a,exportValues:s}of i){if(-1===e)continue;if(a===t)continue;const i="string"===typeof s?s:null,r=document.querySelector('[data-element-id="'.concat(a,'"]'));!r||lg.has(r)?n.push({id:a,exportValue:i,domElement:r}):or("_getElementsByName - element not allowed: ".concat(a))}return n}for(const i of document.getElementsByName(e)){const{exportValue:e}=i,a=i.getAttribute("data-element-id");a!==t&&(lg.has(i)&&n.push({id:a,exportValue:e,domElement:i}))}return n}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}function gg(e,t,n){e/=255,t/=255,n/=255;const i=Math.max(e,t,n),a=Math.min(e,t,n),s=(i+a)/2,r=((1+Math.sqrt(s))/2*100).toFixed(2);if(i===a)return"hsl(0, 0%, ".concat(r,"%)");const o=i-a;let l;l=i===e?(t-n)/o+(t<n?6:0):i===t?(n-e)/o+2:(e-t)/o+4,l=(60*l).toFixed(2);const c=(o/(1-Math.abs(2*s-1))*100).toFixed(2);return"hsl(".concat(l,", ").concat(c,"%, ").concat(r,"%)")}function vg(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:r,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...e),t.left="".concat(100*(e[0]-r)/a,"%"),t.top="".concat(100*(s-e[3]+o)/s,"%"),0===i?(t.width="".concat(100*(e[2]-e[0])/a,"%"),t.height="".concat(100*(e[3]-e[1])/s,"%")):this.setRotation(i)}var bg=new WeakSet;class yg extends fg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),es(this,bg),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(n,e.action,e.overlaidText),i=!0):e.attachment?(ns(bg,this,wg).call(this,n,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(ns(bg,this,Ng).call(this,n,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(n,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),i=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(n,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(n),this.container}_bindLink(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&ns(bg,this,xg).call(this),n&&(e.title=n)}_bindNamedAction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),n&&(e.title=n),ns(bg,this,xg).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const a=n.get(i);a&&(e[a]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1})}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),ns(bg,this,xg).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),ns(bg,this,xg).call(this),!this._fieldObjects)return or('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{null===n||void 0===n||n();const{fields:e,refs:i,include:a}=t,s=[];if(0!==e.length||0!==i.length){const t=new Set(i);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===a&&s.push(n)}else for(const t of Object.values(this._fieldObjects))s.push(...t);const r=this.annotationStorage,o=[];for(const t of s){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";r.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;r.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";r.setValue(e,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(e,'"]'));n&&(lg.has(n)?n.dispatchEvent(new Event("resetform")):or("_bindResetFormAction - element not allowed: ".concat(e)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function xg(){this.container.setAttribute("data-internal-link","")}function wg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:n&&(e.title=n),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(t.content,t.filename,i),!1},ns(bg,this,xg).call(this)}function Ng(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),n&&(e.title=n),ns(bg,this,xg).call(this)}class Ag extends fg{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class kg extends fg{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Nr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,a){n.includes("mouse")?e.addEventListener(n,e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})}):e.addEventListener(n,e=>{var s;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}a&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:a(e)}}))})}_setEventListeners(e,t,n,i){for(const[o,l]of n){var a,s,r;if("Action"===l||null!==(a=this.data.actions)&&void 0!==a&&a[l])"Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,i),"Focus"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Blur?"Blur"!==l||null!==(r=this.data.actions)&&void 0!==r&&r.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":kr.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||9,a=e.style;let s;const r=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(js*i))||1);s=Math.min(i,r(t/js))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);s=Math.min(i,r(e/js))}a.fontSize="calc(".concat(s,"px * var(--total-scale-factor))"),a.color=kr.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(a.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class jg extends kg{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,i){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),a.setValue(s.id,{[i]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var i;const s=e.getValue(t,{value:this.data.fieldValue});let r=s.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&r.length>o&&(r=r.slice(0,o));let l=s.formattedValue||(null===(i=this.data.textContent)||void 0===i?void 0:i.join("\n"))||null;l&&this.data.comb&&(l=l.replaceAll(/\s+/g,""));const c={userValue:r,formattedValue:l,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=null!==l&&void 0!==l?l:r,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type=this.data.password?"password":"text",n.setAttribute("value",null!==l&&void 0!==l?l:r),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),lg.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=0;const{datetimeFormat:d,datetimeType:h,timeStep:u}=this.data,p=!!h&&this.enableScripting;d&&(n.title=d),this._setRequired(n,this.data.required),o&&(n.maxLength=o),n.addEventListener("input",i=>{e.setValue(t,{value:i.target.value}),this.setPropertyOnSiblings(n,"value",i.target.value,"value"),c.formattedValue=null}),n.addEventListener("resetform",e=>{var t;const i=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=c.userValue=i,c.formattedValue=null});let m=e=>{const{formattedValue:t}=c;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var a;n.addEventListener("focus",e=>{var t;if(c.focused)return;const{target:n}=e;if(p&&(n.type=h,u&&(n.step=u)),c.userValue){const e=c.userValue;if(p)if("time"===h){const t=new Date(e),i=[t.getHours(),t.getMinutes(),t.getSeconds()];n.value=i.map(e=>e.toString().padStart(2,"0")).join(":")}else n.value=new Date(e-cg).toISOString().split("date"===h?"T":".",1)[0];else n.value=e}c.lastCommittedValue=n.value,c.commitKey=1,null!==(t=this.data.actions)&&void 0!==t&&t.Focus||(c.focused=!0)}),n.addEventListener("updatefromsandbox",n=>{this.showElementAndHideCanvas(n.target);const i={value(n){var i;c.userValue=null!==(i=n.detail.value)&&void 0!==i?i:"",p||e.setValue(t,{value:c.userValue.toString()}),n.target.value=c.userValue},formattedValue(n){const{formattedValue:i}=n.detail;c.formattedValue=i,null!==i&&void 0!==i&&n.target!==document.activeElement&&(n.target.value=i);const a={formattedValue:i};p&&(a.value=i),e.setValue(t,a)},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var i;const{charLimit:a}=n.detail,{target:s}=n;if(0===a)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",a);let r=c.userValue;!r||r.length<=a||(r=r.slice(0,a),s.value=c.userValue=r,e.setValue(t,{value:r}),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:r,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(i,n)}),n.addEventListener("keydown",e=>{var n;c.commitKey=1;let i=-1;if("Escape"===e.key?i=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(c.commitKey=3):i=2,-1===i)return;const{value:a}=e.target;c.lastCommittedValue!==a&&(c.lastCommittedValue=a,c.userValue=a,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,willCommit:!0,commitKey:i,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))});const i=m;m=null,n.addEventListener("blur",e=>{var n;if(!c.focused||!e.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(c.focused=!1);const{target:a}=e;let{value:s}=a;if(p){if(s&&"time"===h){const e=s.split(":").map(e=>parseInt(e,10));s=new Date(2e3,0,1,e[0],e[1],e[2]||0).valueOf(),a.step=""}else s=new Date(s).valueOf();a.type="text"}var r;(c.userValue=s,c.lastCommittedValue!==s)&&(null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,willCommit:!0,commitKey:c.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));i(e)}),null!==(a=this.data.actions)&&void 0!==a&&a.Keystroke&&n.addEventListener("beforeinput",e=>{var n;c.lastCommittedValue=null;const{data:i,target:a}=e,{value:s,selectionStart:r,selectionEnd:o}=a;let l=r,d=o;switch(e.inputType){case"deleteWordBackward":{const e=s.substring(0,r).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=s.substring(r).match(/^[^\w]*\w*/);e&&(d+=e[0].length);break}case"deleteContentBackward":r===o&&(l-=1);break;case"deleteContentForward":r===o&&(d+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,change:i||"",willCommit:!1,selStart:l,selEnd:d}})}),this._setEventListeners(n,c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.value)}if(m&&n.addEventListener("blur",m),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/o;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(e,"px * var(--total-scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Cg extends kg{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class _g extends kg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof i&&(i="Off"!==i,e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return lg.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.setAttribute("exportValue",t.exportValue),a.tabIndex=0,a.addEventListener("change",i=>{const{name:a,checked:s}=i.target;for(const r of this._getElementsByName(a,n)){const n=s&&r.exportValue===t.exportValue;r.domElement&&(r.domElement.checked=n),e.setValue(r.id,{value:n})}e.setValue(n,{value:s})}),a.addEventListener("resetform",e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",t=>{const i={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(i,t)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Sg extends kg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof i&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(lg.add(a),a.setAttribute("data-element-id",n),a.disabled=t.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=t.fieldName,i&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",t=>{const{name:i,checked:a}=t.target;for(const s of this._getElementsByName(i,n))e.setValue(s.id,{value:!1});e.setValue(n,{value:a})}),a.addEventListener("resetform",e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue}),this.enableScripting&&this.hasJSActions){const i=t.buttonValue;a.addEventListener("updatefromsandbox",t=>{const a={value:t=>{const a=i===t.detail.value;for(const i of this._getElementsByName(t.target.name)){const t=a&&i.id===n;i.domElement&&(i.domElement.checked=t),e.setValue(i.id,{value:t})}}};this._dispatchEventFromSandbox(a,t)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],e=>e.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Eg extends yg{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",e=>{this._dispatchEventFromSandbox({},e)})),e}}class Mg extends kg{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");lg.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",e=>{const t=this.data.defaultFieldValue;for(const n of i.options)n.selected=n.value===t});for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),a=!1),i.append(e)}let s=null;if(a){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),i.prepend(e),s=()=>{e.remove(),i.removeEventListener("input",s),s=null},i.addEventListener("input",s)}const r=e=>{const t=e?"value":"textContent",{options:n,multiple:a}=i;return a?Array.prototype.filter.call(n,e=>e.selected).map(e=>e[t]):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=r(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,e=>({displayValue:e.textContent,exportValue:e.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",n=>{const a={value(n){var a;null===(a=s)||void 0===a||a();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of i.options)e.selected=c.has(e.value);e.setValue(t,{value:r(!0)}),o=r(!1)},multipleSelection(e){i.multiple=!0},remove(n){const a=i.options,s=n.detail.remove;if(a[s].selected=!1,i.remove(s),a.length>0){-1===Array.prototype.findIndex.call(a,e=>e.selected)&&(a[0].selected=!0)}e.setValue(t,{value:r(!0),items:l(n)}),o=r(!1)},clear(n){for(;0!==i.length;)i.remove(0);e.setValue(t,{value:null,items:[]}),o=r(!1)},insert(n){const{index:a,displayValue:s,exportValue:c}=n.detail.insert,d=i.children[a],h=document.createElement("option");h.textContent=s,h.value=c,d?d.before(h):i.append(h),e.setValue(t,{value:r(!0),items:l(n)}),o=r(!1)},items(n){const{items:a}=n.detail;for(;0!==i.length;)i.remove(0);for(const e of a){const{displayValue:t,exportValue:n}=e,a=document.createElement("option");a.textContent=t,a.value=n,i.append(a)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:r(!0),items:l(n)}),o=r(!1)},indices(n){const i=new Set(n.detail.indices);for(const e of n.target.options)e.selected=i.has(e.index);e.setValue(t,{value:r(!0)}),o=r(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(a,n)}),i.addEventListener("input",n=>{var i;const a=r(!0),s=r(!1);e.setValue(t,{value:a}),n.preventDefault(),null===(i=this.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:s,changeEx:a,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],e=>e.target.value)):i.addEventListener("input",function(n){e.setValue(t,{value:r(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Pg extends fg{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:fg._hasPopupData(t)}),this.elements=n,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new iv({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,eventBus:this.linkService.eventBus}),n=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",n.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",n.map(e=>"".concat(Mr).concat(e)).join(",")),this.container}}var Lg=new WeakMap,Tg=new WeakMap,Ig=new WeakMap,Fg=new WeakMap,Rg=new WeakMap,Dg=new WeakMap,Bg=new WeakMap,Og=new WeakMap,Wg=new WeakMap,Hg=new WeakMap,zg=new WeakMap,Ug=new WeakMap,qg=new WeakMap,Gg=new WeakMap,Vg=new WeakMap,Yg=new WeakMap,Kg=new WeakMap,Xg=new WeakMap,Jg=new WeakMap,Qg=new WeakMap,Zg=new WeakMap,$g=new WeakMap,ev=new WeakMap,tv=new WeakMap,nv=new WeakSet;class iv{constructor(e){let{container:t,color:n,elements:i,titleObj:a,modificationDate:s,contentsObj:r,richText:o,parent:l,rect:c,parentRect:d,open:h,eventBus:u=null}=e;es(this,nv),ts(this,Lg,ns(nv,this,hv).bind(this)),ts(this,Tg,ns(nv,this,fv).bind(this)),ts(this,Ig,ns(nv,this,mv).bind(this)),ts(this,Fg,ns(nv,this,pv).bind(this)),ts(this,Rg,null),ts(this,Dg,null),ts(this,Bg,null),ts(this,Og,null),ts(this,Wg,null),ts(this,Hg,null),ts(this,zg,null),ts(this,Ug,null),ts(this,qg,!1),ts(this,Gg,null),ts(this,Vg,null),ts(this,Yg,null),ts(this,Kg,null),ts(this,Xg,null),ts(this,Jg,null),ts(this,Qg,null),ts(this,Zg,null),ts(this,$g,null),ts(this,ev,null),ts(this,tv,!1),ss(Dg,this,t),ss($g,this,a),ss(Bg,this,r),ss(Zg,this,o),ss(zg,this,l),ss(Rg,this,n),ss(Qg,this,c),ss(Ug,this,d),ss(Wg,this,i),ss(Hg,this,u),ss(Og,this,qr.toDateObject(s)),this.trigger=i.flatMap(e=>e.getElementsToTriggerPopup()),ns(nv,this,av).call(this),as(Dg,this).hidden=!0,h&&ns(nv,this,pv).call(this)}render(){var e;if(as(Gg,this))return;const t=ss(Gg,this,document.createElement("div"));if(t.className="popup",as(Rg,this)){const e=t.style.outlineColor=kr.makeHexColor(...as(Rg,this));t.style.backgroundColor="color-mix(in srgb, ".concat(e," 30%, white)")}const n=document.createElement("span");if(n.className="header",null!==(e=as($g,this))&&void 0!==e&&e.str){const e=document.createElement("span");e.className="title",n.append(e),({dir:e.dir,str:e.textContent}=as($g,this))}if(t.append(n),as(Og,this)){const e=document.createElement("time");e.className="popupDate",e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:as(Og,this).valueOf()})),e.dateTime=as(Og,this).toISOString(),n.append(e)}const i=is(nv,this,ov);if(i)og.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const e=this._formatContents(as(Bg,this));t.append(e)}as(Dg,this).append(t)}_formatContents(e){let{str:t,dir:n}=e;const i=document.createElement("p");i.classList.add("popupContent"),i.dir=n;const a=t.split(/(?:\r\n?|\n)/);for(let s=0,r=a.length;s<r;++s){const e=a[s];i.append(document.createTextNode(e)),s<r-1&&i.append(document.createElement("br"))}return i}updateEdited(e){var t;let{rect:n,popup:i,deleted:a}=e;a||null!==i&&void 0!==i&&i.deleted?this.remove():(ns(nv,this,av).call(this),as(ev,this)||ss(ev,this,{contentsObj:as(Bg,this),richText:as(Zg,this)}),n&&ss(Yg,this,null),i&&(ss(Zg,this,ns(nv,this,dv).call(this,i.text)),ss(Og,this,qr.toDateObject(i.date)),ss(Bg,this,null)),null===(t=as(Gg,this))||void 0===t||t.remove(),ss(Gg,this,null))}resetEdited(){var e;as(ev,this)&&(({contentsObj:Za(ss,[Bg,this])._,richText:Za(ss,[Zg,this])._}=as(ev,this)),ss(ev,this,null),null===(e=as(Gg,this))||void 0===e||e.remove(),ss(Gg,this,null),ss(Yg,this,null))}remove(){var e,t;null===(e=as(Vg,this))||void 0===e||e.abort(),ss(Vg,this,null),null===(t=as(Gg,this))||void 0===t||t.remove(),ss(Gg,this,null),ss(tv,this,!1),ss(qg,this,!1);for(const n of this.trigger)n.classList.remove("popupTriggerArea")}forceHide(){ss(tv,this,this.isVisible),as(tv,this)&&(as(Dg,this).hidden=!0)}maybeShow(){ns(nv,this,av).call(this),as(tv,this)&&(as(Gg,this)||ns(nv,this,mv).call(this),ss(tv,this,!1),as(Dg,this).hidden=!1)}get isVisible(){return!1===as(Dg,this).hidden}}function av(){if(as(Vg,this))return;ss(Vg,this,new AbortController);const{signal:e}=as(Vg,this);for(const n of this.trigger)n.addEventListener("click",as(Fg,this),{signal:e}),n.addEventListener("mouseenter",as(Ig,this),{signal:e}),n.addEventListener("mouseleave",as(Tg,this),{signal:e}),n.classList.add("popupTriggerArea");for(const n of as(Wg,this)){var t;null===(t=n.container)||void 0===t||t.addEventListener("keydown",as(Lg,this),{signal:e})}ns(nv,this,rv).call(this)}function sv(){const e=as(Wg,this).find(e=>e.hasCommentButton);e&&(ss(Xg,this,e._normalizePoint(e.commentButtonPosition)),ss(Jg,this,e.commentButtonColor))}function rv(){if(as(Kg,this))return;if(as(Xg,this)||ns(nv,this,sv).call(this),!as(Xg,this))return;const e=ss(Kg,this,document.createElement("button"));e.className="annotationCommentButton";const t=as(Wg,this)[0].container;e.style.zIndex=t.style.zIndex+1,e.tabIndex=0;const{signal:n}=as(Vg,this);e.addEventListener("hover",as(Fg,this),{signal:n}),e.addEventListener("keydown",as(Lg,this),{signal:n}),e.addEventListener("click",()=>{var e;const[{data:{id:t},annotationEditorType:n}]=as(Wg,this);null===(e=as(Hg,this))||void 0===e||e.dispatch("switchannotationeditormode",{source:this,editId:t,mode:n,editComment:!0})},{signal:n});const{style:i}=e;i.left="calc(".concat(as(Xg,this)[0],"%)"),i.top="calc(".concat(as(Xg,this)[1],"% - var(--comment-button-dim))"),as(Jg,this)&&(i.backgroundColor=as(Jg,this)),t.after(e)}function ov(e){const t=as(Zg,e),n=as(Bg,e);return null===t||void 0===t||!t.str||null!==n&&void 0!==n&&n.str&&n.str!==t.str?null:as(Zg,e).html||null}function lv(e){var t;return(null===(t=is(nv,e,ov))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.fontSize)||0}function cv(e){var t;return(null===(t=is(nv,e,ov))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.color)||null}function dv(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:is(nv,this,cv),fontSize:is(nv,this,lv)?"calc(".concat(is(nv,this,lv),"px * var(--total-scale-factor))"):""}};for(const a of e.split("\n"))t.push({name:"span",value:a,attributes:i});return n}function hv(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&as(qg,this))&&ns(nv,this,pv).call(this)}function uv(){if(null!==as(Yg,this))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:a}}}=as(zg,this);let s=!!as(Ug,this),r=as(s?Ug:Qg,this);for(const u of as(Wg,this))if(!r||null!==kr.intersect(u.data.rect,r)){r=u.data.rect,s=!0;break}const o=kr.normalizeRect([r[0],e[3]-r[1]+e[1],r[2],e[3]-r[3]+e[1]]),l=s?r[2]-r[0]+5:0,c=o[0]+l,d=o[1];ss(Yg,this,[100*(c-i)/t,100*(d-a)/n]);const{style:h}=as(Dg,this);h.left="".concat(as(Yg,this)[0],"%"),h.top="".concat(as(Yg,this)[1],"%")}function pv(){ss(qg,this,!as(qg,this)),as(qg,this)?(ns(nv,this,mv).call(this),as(Dg,this).addEventListener("click",as(Fg,this)),as(Dg,this).addEventListener("keydown",as(Lg,this))):(ns(nv,this,fv).call(this),as(Dg,this).removeEventListener("click",as(Fg,this)),as(Dg,this).removeEventListener("keydown",as(Lg,this)))}function mv(){as(Gg,this)||this.render(),this.isVisible?as(qg,this)&&as(Dg,this).classList.add("focused"):(ns(nv,this,uv).call(this),as(Dg,this).hidden=!1,as(Dg,this).style.zIndex=parseInt(as(Dg,this).style.zIndex)+1e3)}function fv(){as(Dg,this).classList.remove("focused"),!as(qg,this)&&this.isVisible&&(as(Dg,this).hidden=!0,as(Dg,this).style.zIndex=parseInt(as(Dg,this).style.zIndex)-1e3)}class gv extends fg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Rs.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var vv=new WeakMap;class bv extends fg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),ts(this,vv,null)}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),a=ss(vv,this,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return as(vv,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var yv=new WeakMap;class xv extends fg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),ts(this,yv,null)}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),a=e.borderStyle.width,s=ss(yv,this,this.svgFactory.createElement("svg:rect"));return s.setAttribute("x",a/2),s.setAttribute("y",a/2),s.setAttribute("width",t-a),s.setAttribute("height",n-a),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return as(yv,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var wv=new WeakMap;class Nv extends fg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),ts(this,wv,null)}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:n}=this,i=this.svgFactory.create(t,n,!0),a=e.borderStyle.width,s=ss(wv,this,this.svgFactory.createElement("svg:ellipse"));return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-a/2),s.setAttribute("ry",n/2-a/2),s.setAttribute("stroke-width",a||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return as(wv,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var Av=new WeakMap;class kv extends fg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),ts(this,Av,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:i},width:a,height:s}=this;if(!t)return this.container;const r=this.svgFactory.create(a,s,!0);let o=[];for(let c=0,d=t.length;c<d;c+=2){const n=t[c]-e[0],i=e[3]-t[c+1];o.push("".concat(n,",").concat(i))}o=o.join(" ");const l=ss(Av,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),r.append(l),this.container.append(r),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return as(Av,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class jv extends kv{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Cv extends fg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _v=new WeakMap,Sv=new WeakMap,Ev=new WeakSet;class Mv extends fg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),es(this,Ev),ts(this,_v,null),ts(this,Sv,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?Rs.HIGHLIGHT:Rs.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:n,borderStyle:i,popupRef:a}}=this,{transform:s,width:r,height:o}=ns(Ev,this,Pv).call(this,t,e),l=this.svgFactory.create(r,o,!0),c=ss(_v,this,this.svgFactory.createElement("svg:g"));l.append(c),c.setAttribute("stroke-width",i.width||1),c.setAttribute("stroke-linecap","round"),c.setAttribute("stroke-linejoin","round"),c.setAttribute("stroke-miterlimit",10),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),c.setAttribute("transform",s);for(let d=0,h=n.length;d<h;d++){const e=this.svgFactory.createElement(this.svgElementName);as(Sv,this).push(e),e.setAttribute("points",n[d].join(",")),c.append(e)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(l),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:n,rect:i}=e,a=as(_v,this);if(t>=0&&a.setAttribute("stroke-width",t||1),n)for(let s=0,r=as(Sv,this).length;s<r;s++)as(Sv,this)[s].setAttribute("points",n[s].join(","));if(i){const{transform:e,width:t,height:n}=ns(Ev,this,Pv).call(this,this.data.rotation,i);a.parentElement.setAttribute("viewBox","0 0 ".concat(t," ").concat(n)),a.setAttribute("transform",e)}}getElementsToTriggerPopup(){return as(Sv,this)}addHighlightArea(){this.container.classList.add("highlightArea")}get commentButtonPosition(){const{inkLists:e,rect:t}=this.data;if((null===e||void 0===e?void 0:e.length)>=1){let t=-1/0,n=-1/0;for(const i of e)for(let e=0,a=i.length;e<a;e+=2)i[e+1]>n?(n=i[e+1],t=i[e]):i[e+1]===n&&(t=Math.max(t,i[e]));if(t!==1/0)return[t,n]}return t?[t[2],t[3]]:null}}function Pv(e,t){switch(e){case 90:return{transform:"rotate(90) translate(".concat(-t[0],",").concat(t[1],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:"rotate(180) translate(".concat(-t[2],",").concat(t[1],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:"rotate(270) translate(".concat(-t[2],",").concat(t[3],") scale(1,-1)"),width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:"translate(".concat(-t[0],",").concat(t[3],") scale(1,-1)"),width:t[2]-t[0],height:t[3]-t[1]}}}class Lv extends fg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Rs.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const t=document.createElement("mark");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Tv extends fg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Iv extends fg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const t=document.createElement("u");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Fv extends fg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const t=document.createElement("s");t.classList.add("overlaidText"),t.textContent=e,this.container.append(t)}return this.container}}class Rv extends fg{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Rs.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Dv=new WeakMap,Bv=new WeakSet;class Ov extends fg{constructor(e){var t;super(e,{isRenderable:!0}),es(this,Bv),ts(this,Dv,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",(0,a.A)({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),n.addEventListener("dblclick",ns(Bv,this,Wv).bind(this)),ss(Dv,this,n);const{isMac:i}=Nr.platform;return e.addEventListener("keydown",e=>{"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&ns(Bv,this,Wv).call(this)}),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return as(Dv,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function Wv(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.content,this.filename)}var Hv=new WeakMap,zv=new WeakMap,Uv=new WeakMap,qv=new WeakMap,Gv=new WeakSet;class Vv{constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:a,page:s,viewport:r,structTreeLayer:o}=e;es(this,Gv),ts(this,Hv,null),ts(this,zv,null),ts(this,Uv,new Map),ts(this,qv,null),this.div=t,ss(Hv,this,n),ss(zv,this,i),ss(qv,this,o||null),this.page=s,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return as(Uv,this).size>0}async render(e){const{annotations:t}=e,n=this.div;Xr(n,this.viewport);const i=new Map,a={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new rg,annotationStorage:e.annotationStorage||new Kd,enableComment:!0===e.enableComment,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const r of t){if(r.noHTML)continue;const e=r.annotationType===Gs.POPUP;if(e){const e=i.get(r.id);if(!e)continue;a.elements=e}else if(r.rect[2]===r.rect[0]||r.rect[3]===r.rect[1])continue;a.data=r;const t=dg.create(a);if(!t.isRenderable)continue;if(!e&&r.popupRef){const e=i.get(r.popupRef);e?e.push(t):i.set(r.popupRef,[t])}const n=t.render();var s;if(r.hidden&&(n.style.visibility="hidden"),await ns(Gv,this,Yv).call(this,n,r.id,a.elements),t._isEditable)as(Uv,this).set(t.data.id,t),null===(s=this._annotationEditorUIManager)||void 0===s||s.renderAnnotationElement(t)}ns(Gv,this,Kv).call(this)}async addLinkAnnotations(e,t){const n={data:null,layer:this.div,linkService:t,svgFactory:new rg,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=Vv._defaultBorderStyle),n.data=i;const e=dg.create(n);if(!e.isRenderable)continue;const t=e.render();await ns(Gv,this,Yv).call(this,t,i.id,null)}}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,Xr(n,{rotation:t.rotation}),ns(Gv,this,Kv).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(as(Uv,this).values())}getEditableAnnotation(e){return as(Uv,this).get(e)}static get _defaultBorderStyle(){return ur(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Vs,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}async function Yv(e,t,n){var i;const a=e.firstChild||e,s=a.id="".concat(Mr).concat(t),r=await(null===(i=as(qv,this))||void 0===i?void 0:i.getAriaAttributes(s));if(r)for(const[l,c]of r)a.setAttribute(l,c);var o;n?n.at(-1).container.after(e):(this.div.append(e),null===(o=as(Hv,this))||void 0===o||o.moveElementInDOM(this.div,e,a,!1))}function Kv(){if(!as(zv,this))return;const e=this.div;for(const[n,i]of as(zv,this)){const a=e.querySelector('[data-annotation-id="'.concat(n,'"]'));if(!a)continue;i.className="annotationContent";const{firstChild:s}=a;s?"CANVAS"===s.nodeName?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):a.append(i);const r=as(Uv,this).get(n);var t;if(r)if(r._hasNoCanvas)null===(t=this._annotationEditorUIManager)||void 0===t||t.setMissingCanvas(n,a.id,i),r._hasNoCanvas=!1;else r.canvas=i}as(zv,this).clear()}const Xv=/\r\n?|\n/g;var Jv=new WeakMap,Qv=new WeakMap,Zv=new WeakMap,$v=new WeakMap,eb=new WeakMap,tb=new WeakSet;class nb extends bd{static get _keyboardManager(){const e=nb.prototype,t=e=>e.isEmpty(),n=Rl.TRANSLATE_SMALL,i=Rl.TRANSLATE_BIG;return ur(this,"_keyboardManager",new Do([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}constructor(e){super((0,a.A)((0,a.A)({},e),{},{name:"freeTextEditor"})),es(this,tb),ts(this,Jv,void 0),ts(this,Qv,""),ts(this,Zv,"".concat(this.id,"-editor")),ts(this,$v,null),ts(this,eb,void 0),(0,ws.A)(this,"_colorPicker",null),ss(Jv,this,e.color||nb._defaultColor||bd._defaultLineColor),ss(eb,this,e.fontSize||nb._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){bd.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Ds.FREETEXT_SIZE:nb._defaultFontSize=t;break;case Ds.FREETEXT_COLOR:nb._defaultColor=t}}updateParams(e,t){switch(e){case Ds.FREETEXT_SIZE:ns(tb,this,ib).call(this,t);break;case Ds.FREETEXT_COLOR:ns(tb,this,ab).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Ds.FREETEXT_SIZE,nb._defaultFontSize],[Ds.FREETEXT_COLOR,nb._defaultColor||bd._defaultLineColor]]}get propertiesToUpdate(){return[[Ds.FREETEXT_SIZE,as(eb,this)],[Ds.FREETEXT_COLOR,as(Jv,this)]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new eg(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ds.FREETEXT_COLOR}get colorValue(){return as(Jv,this)}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-nb._internalPadding*e,-(nb._internalPadding+as(eb,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),ss($v,this,new AbortController);const e=this._uiManager.combinedSignal(as($v,this));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){var e;return!!super.disableEditMode()&&(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",as(Zv,this)),this._isDraggable=!0,null===(e=as($v,this))||void 0===e||e.abort(),ss($v,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0)}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){var t;this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=as(Qv,this),t=ss(Qv,this,ns(tb,this,sb).call(this).trimEnd());if(e===t)return;const n=e=>{ss(Qv,this,e),e?(ns(tb,this,lb).call(this),this._uiManager.rebuild(this),ns(tb,this,rb).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),ns(tb,this,rb).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){nb._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",as(Zv,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(as(eb,this),"px * var(--total-scale-factor))"),n.color=as(Jv,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[n,i]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[s,r]=this.getInitialTranslation();[s,r]=this.pageTranslationToScreen(s,r);const[o,l]=this.pageDimensions,[c,d]=this.pageTranslation;let h,u;switch(this.rotation){case 0:h=e+(a[0]-c)/o,u=t+this.height-(a[1]-d)/l;break;case 90:h=e+(a[0]-c)/o,u=t-(a[1]-d)/l,[s,r]=[r,-s];break;case 180:h=e-this.width+(a[0]-c)/o,u=t-(a[1]-d)/l,[s,r]=[-s,-r];break;case 270:h=e+(a[0]-c-this.height*l)/o,u=t+(a[1]-d-this.width*o)/l,[s,r]=[-r,s]}this.setAt(h*n,u*i,s,r)}else this._moveAfterPaste(e,t);ns(tb,this,lb).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const i=db.call(nb,t.getData("text")||"").replaceAll(Xv,"\n");if(!i)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const s=a.getRangeAt(0);if(!i.includes("\n"))return s.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void a.collapseToStart();const{startContainer:r,startOffset:o}=s,l=[],c=[];if(r.nodeType===Node.TEXT_NODE){const e=r.parentElement;if(c.push(r.nodeValue.slice(o).replaceAll(Xv,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(ob.call(nb,n)):t=c}l.push(r.nodeValue.slice(0,o).replaceAll(Xv,""))}else if(r===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(ob.call(nb,n))}ss(Qv,this,"".concat(l.join("\n")).concat(i).concat(c.join("\n"))),ns(tb,this,lb).call(this);const d=new Range;let h=Math.sumPrecise(l.map(e=>e.length));for(const{firstChild:u}of this.editorDiv.childNodes)if(u.nodeType===Node.TEXT_NODE){const e=u.nodeValue.length;if(h<=e){d.setStart(u,h),d.setEnd(u,h);break}h-=e}a.removeAllRanges(),a.addRange(d)}get contentDiv(){return this.editorDiv}getPDFRect(){const e=nb._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,n){let i=null;if(e instanceof gv){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:a,rotation:s,id:r,popupRef:o,contentsObj:l},textContent:c,textPosition:d,parent:{page:{pageNumber:h}}}=e;if(!c||0===c.length)return null;i=e={annotationType:Rs.FREETEXT,color:Array.from(n),fontSize:t,value:c.join("\n"),position:d,pageIndex:h-1,rect:a.slice(0),rotation:s,annotationElementId:r,id:r,deleted:!1,popupRef:o,comment:(null===l||void 0===l?void 0:l.str)||null}}const a=await super.deserialize(e,t,n);return ss(eb,a,e.fontSize),ss(Jv,a,kr.makeHexColor(...e.color)),ss(Qv,a,db.call(nb,e.value)),a._initialData=i,e.comment&&a.setCommentData(e.comment),a}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=this.getPDFRect(),n=bd._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:as(Jv,this)),i={annotationType:Rs.FREETEXT,color:n,fontSize:as(eb,this),value:ns(tb,this,cb).call(this),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(i),e?(i.isCopy=!0,i):this.annotationElementId&&!ns(tb,this,hb).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:n}=t;n.fontSize="calc(".concat(as(eb,this),"px * var(--total-scale-factor))"),n.color=as(Jv,this),t.replaceChildren();for(const a of as(Qv,this).split("\n")){const e=document.createElement("div");e.append(a?document.createTextNode(a):document.createElement("br")),t.append(e)}const i={rect:this.getPDFRect()};return i.popup=this.hasEditedComment?this.comment:{text:as(Qv,this)},e.updateEdited(i),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}function ib(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--total-scale-factor))"),this.translate(0,-(e-as(eb,this))*this.parentScale),ss(eb,this,e),ns(tb,this,rb).call(this)},n=as(eb,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ds.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function ab(e){const t=e=>{var t;ss(Jv,this,this.editorDiv.style.color=e),null===(t=this._colorPicker)||void 0===t||t.update(e)},n=as(Jv,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ds.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function sb(){const e=[];this.editorDiv.normalize();let t=null;for(const i of this.editorDiv.childNodes){var n;(null===(n=t)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===i.nodeName||(e.push(ob.call(gs,i)),t=i)}return e.join("\n")}function rb(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,i=t.style.display,a=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=i,t.classList.toggle("hidden",a)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}function ob(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Xv,"")}function lb(){if(this.editorDiv.replaceChildren(),as(Qv,this))for(const e of as(Qv,this).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function cb(){return as(Qv,this).replaceAll("\xa0"," ")}function db(e){return e.replaceAll(" ","\xa0")}function hb(e){const{value:t,fontSize:n,color:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some((e,t)=>e!==i[t])||e.pageIndex!==a}gs=nb,(0,ws.A)(nb,"_freeTextDefaultContent",""),(0,ws.A)(nb,"_internalPadding",0),(0,ws.A)(nb,"_defaultColor",null),(0,ws.A)(nb,"_defaultFontSize",10),(0,ws.A)(nb,"_type","freetext"),(0,ws.A)(nb,"_editorType",Rs.FREETEXT);class ub{toSVGPath(){lr("Abstract method `toSVGPath` must be implemented.")}get box(){lr("Abstract getter `box` must be implemented.")}serialize(e,t){lr("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,a,s){s||(s=new Float32Array(e.length));for(let r=0,o=e.length;r<o;r+=2)s[r]=t+e[r]*i,s[r+1]=n+e[r+1]*a;return s}static _rescaleAndSwap(e,t,n,i,a,s){s||(s=new Float32Array(e.length));for(let r=0,o=e.length;r<o;r+=2)s[r]=t+e[r+1]*i,s[r+1]=n+e[r]*a;return s}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let a=0,s=e.length;a<s;a+=2)i[a]=t+e[a],i[a+1]=n+e[a+1];return i}static svgRound(e){return Math.round(1e4*e)}static _normalizePoint(e,t,n,i,a){switch(a){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,a,s){return[(e+5*n)/6,(t+5*i)/6,(5*n+a)/6,(5*i+s)/6,(n+a)/2,(i+s)/2]}}(0,ws.A)(ub,"PRECISION",1e-4);var pb=new WeakMap,mb=new WeakMap,fb=new WeakMap,gb=new WeakMap,vb=new WeakMap,bb=new WeakMap,yb=new WeakMap,xb=new WeakMap,wb=new WeakMap,Nb=new WeakMap,Ab=new WeakMap,kb=new WeakMap,jb=new WeakMap,Cb=new WeakSet;class _b{constructor(e,t,n,i,a){let{x:s,y:r}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;es(this,Cb),ts(this,pb,void 0),ts(this,mb,[]),ts(this,fb,void 0),ts(this,gb,void 0),ts(this,vb,[]),ts(this,bb,new Float32Array(18)),ts(this,yb,void 0),ts(this,xb,void 0),ts(this,wb,void 0),ts(this,Nb,void 0),ts(this,Ab,void 0),ts(this,kb,void 0),ts(this,jb,[]),ss(pb,this,t),ss(kb,this,i*n),ss(gb,this,a),as(bb,this).set([NaN,NaN,NaN,NaN,s,r],6),ss(fb,this,o),ss(Nb,this,Fb._*n),ss(wb,this,Rb._*n),ss(Ab,this,n),as(jb,this).push(s,r)}isEmpty(){return isNaN(as(bb,this)[8])}add(e){var t;let{x:n,y:i}=e;ss(yb,this,n),ss(xb,this,i);const[a,s,r,o]=as(pb,this);let[l,c,d,h]=as(bb,this).subarray(8,12);const u=n-d,p=i-h,m=Math.hypot(u,p);if(m<as(wb,this))return!1;const f=m-as(Nb,this),g=f/m,v=g*u,b=g*p;let y=l,x=c;l=d,c=h,d+=v,h+=b,null===(t=as(jb,this))||void 0===t||t.push(n,i);const w=v/f,N=-b/f*as(kb,this),A=w*as(kb,this);if(as(bb,this).set(as(bb,this).subarray(2,8),0),as(bb,this).set([d+N,h+A],4),as(bb,this).set(as(bb,this).subarray(14,18),12),as(bb,this).set([d-N,h-A],16),isNaN(as(bb,this)[6]))return 0===as(vb,this).length&&(as(bb,this).set([l+N,c+A],2),as(vb,this).push(NaN,NaN,NaN,NaN,(l+N-a)/r,(c+A-s)/o),as(bb,this).set([l-N,c-A],14),as(mb,this).push(NaN,NaN,NaN,NaN,(l-N-a)/r,(c-A-s)/o)),as(bb,this).set([y,x,l,c,d,h],6),!this.isEmpty();as(bb,this).set([y,x,l,c,d,h],6);return Math.abs(Math.atan2(x-c,y-l)-Math.atan2(b,v))<Math.PI/2?([l,c,d,h]=as(bb,this).subarray(2,6),as(vb,this).push(NaN,NaN,NaN,NaN,((l+d)/2-a)/r,((c+h)/2-s)/o),[l,c,y,x]=as(bb,this).subarray(14,18),as(mb,this).push(NaN,NaN,NaN,NaN,((y+l)/2-a)/r,((x+c)/2-s)/o),!0):([y,x,l,c,d,h]=as(bb,this).subarray(0,6),as(vb,this).push(((y+5*l)/6-a)/r,((x+5*c)/6-s)/o,((5*l+d)/6-a)/r,((5*c+h)/6-s)/o,((l+d)/2-a)/r,((c+h)/2-s)/o),[d,h,l,c,y,x]=as(bb,this).subarray(12,18),as(mb,this).push(((y+5*l)/6-a)/r,((x+5*c)/6-s)/o,((5*l+d)/6-a)/r,((5*c+h)/6-s)/o,((l+d)/2-a)/r,((c+h)/2-s)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const e=as(vb,this),t=as(mb,this);if(isNaN(as(bb,this)[6])&&!this.isEmpty())return ns(Cb,this,Eb).call(this);const n=[];n.push("M".concat(e[4]," ").concat(e[5]));for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push("L".concat(e[i+4]," ").concat(e[i+5])):n.push("C".concat(e[i]," ").concat(e[i+1]," ").concat(e[i+2]," ").concat(e[i+3]," ").concat(e[i+4]," ").concat(e[i+5]));ns(Cb,this,Pb).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push("L".concat(t[i+4]," ").concat(t[i+5])):n.push("C".concat(t[i]," ").concat(t[i+1]," ").concat(t[i+2]," ").concat(t[i+3]," ").concat(t[i+4]," ").concat(t[i+5]));return ns(Cb,this,Mb).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,a,s){return new Gb(e,t,n,i,a,s)}getOutlines(){var e,t;const n=as(vb,this),i=as(mb,this),a=as(bb,this),[s,r,o,l]=as(pb,this),c=new Float32Array((null!==(e=null===(t=as(jb,this))||void 0===t?void 0:t.length)&&void 0!==e?e:0)+2);for(let u=0,p=c.length-2;u<p;u+=2)c[u]=(as(jb,this)[u]-s)/o,c[u+1]=(as(jb,this)[u+1]-r)/l;if(c[c.length-2]=(as(yb,this)-s)/o,c[c.length-1]=(as(xb,this)-r)/l,isNaN(a[6])&&!this.isEmpty())return ns(Cb,this,Lb).call(this,c);const d=new Float32Array(as(vb,this).length+24+as(mb,this).length);let h=n.length;for(let u=0;u<h;u+=2)isNaN(n[u])?d[u]=d[u+1]=NaN:(d[u]=n[u],d[u+1]=n[u+1]);h=ns(Cb,this,Ib).call(this,d,h);for(let u=i.length-6;u>=6;u-=6)for(let e=0;e<6;e+=2)isNaN(i[u+e])?(d[h]=d[h+1]=NaN,h+=2):(d[h]=i[u+e],d[h+1]=i[u+e+1],h+=2);return ns(Cb,this,Tb).call(this,d,h),this.newFreeDrawOutline(d,c,as(pb,this),as(Ab,this),as(fb,this),as(gb,this))}}function Sb(){const e=as(bb,this).subarray(4,6),t=as(bb,this).subarray(16,18),[n,i,a,s]=as(pb,this);return[(as(yb,this)+(e[0]-t[0])/2-n)/a,(as(xb,this)+(e[1]-t[1])/2-i)/s,(as(yb,this)+(t[0]-e[0])/2-n)/a,(as(xb,this)+(t[1]-e[1])/2-i)/s]}function Eb(){const[e,t,n,i]=as(pb,this),[a,s,r,o]=ns(Cb,this,Sb).call(this);return"M".concat((as(bb,this)[2]-e)/n," ").concat((as(bb,this)[3]-t)/i," L").concat((as(bb,this)[4]-e)/n," ").concat((as(bb,this)[5]-t)/i," L").concat(a," ").concat(s," L").concat(r," ").concat(o," L").concat((as(bb,this)[16]-e)/n," ").concat((as(bb,this)[17]-t)/i," L").concat((as(bb,this)[14]-e)/n," ").concat((as(bb,this)[15]-t)/i," Z")}function Mb(e){const t=as(mb,this);e.push("L".concat(t[4]," ").concat(t[5]," Z"))}function Pb(e){const[t,n,i,a]=as(pb,this),s=as(bb,this).subarray(4,6),r=as(bb,this).subarray(16,18),[o,l,c,d]=ns(Cb,this,Sb).call(this);e.push("L".concat((s[0]-t)/i," ").concat((s[1]-n)/a," L").concat(o," ").concat(l," L").concat(c," ").concat(d," L").concat((r[0]-t)/i," ").concat((r[1]-n)/a))}function Lb(e){const t=as(bb,this),[n,i,a,s]=as(pb,this),[r,o,l,c]=ns(Cb,this,Sb).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-n)/a,(t[3]-i)/s,NaN,NaN,NaN,NaN,(t[4]-n)/a,(t[5]-i)/s,NaN,NaN,NaN,NaN,r,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-n)/a,(t[17]-i)/s,NaN,NaN,NaN,NaN,(t[14]-n)/a,(t[15]-i)/s],0),this.newFreeDrawOutline(d,e,as(pb,this),as(Ab,this),as(fb,this),as(gb,this))}function Tb(e,t){const n=as(mb,this);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6}function Ib(e,t){const n=as(bb,this).subarray(4,6),i=as(bb,this).subarray(16,18),[a,s,r,o]=as(pb,this),[l,c,d,h]=ns(Cb,this,Sb).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-a)/r,(n[1]-s)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,(i[0]-a)/r,(i[1]-s)/o],t),t+24}var Fb={_:8},Rb={_:Fb._+2},Db=new WeakMap,Bb=new WeakMap,Ob=new WeakMap,Wb=new WeakMap,Hb=new WeakMap,zb=new WeakMap,Ub=new WeakMap,qb=new WeakSet;class Gb extends ub{constructor(e,t,n,i,a,s){super(),es(this,qb),ts(this,Db,void 0),ts(this,Bb,new Float32Array(4)),ts(this,Ob,void 0),ts(this,Wb,void 0),ts(this,Hb,void 0),ts(this,zb,void 0),ts(this,Ub,void 0),ss(Ub,this,e),ss(Hb,this,t),ss(Db,this,n),ss(zb,this,i),ss(Ob,this,a),ss(Wb,this,s),this.lastPoint=[NaN,NaN],ns(qb,this,Vb).call(this,s);const[r,o,l,c]=as(Bb,this);for(let d=0,h=e.length;d<h;d+=2)e[d]=(e[d]-r)/l,e[d+1]=(e[d+1]-o)/c;for(let d=0,h=t.length;d<h;d+=2)t[d]=(t[d]-r)/l,t[d+1]=(t[d+1]-o)/c}toSVGPath(){const e=["M".concat(as(Ub,this)[4]," ").concat(as(Ub,this)[5])];for(let t=6,n=as(Ub,this).length;t<n;t+=6)isNaN(as(Ub,this)[t])?e.push("L".concat(as(Ub,this)[t+4]," ").concat(as(Ub,this)[t+5])):e.push("C".concat(as(Ub,this)[t]," ").concat(as(Ub,this)[t+1]," ").concat(as(Ub,this)[t+2]," ").concat(as(Ub,this)[t+3]," ").concat(as(Ub,this)[t+4]," ").concat(as(Ub,this)[t+5]));return e.push("Z"),e.join(" ")}serialize(e,t){let[n,i,a,s]=e;const r=a-n,o=s-i;let l,c;switch(t){case 0:l=ub._rescale(as(Ub,this),n,s,r,-o),c=ub._rescale(as(Hb,this),n,s,r,-o);break;case 90:l=ub._rescaleAndSwap(as(Ub,this),n,i,r,o),c=ub._rescaleAndSwap(as(Hb,this),n,i,r,o);break;case 180:l=ub._rescale(as(Ub,this),a,i,-r,o),c=ub._rescale(as(Hb,this),a,i,-r,o);break;case 270:l=ub._rescaleAndSwap(as(Ub,this),a,s,-r,-o),c=ub._rescaleAndSwap(as(Hb,this),a,s,-r,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return as(Bb,this)}newOutliner(e,t,n,i,a){return new _b(e,t,n,i,a,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(e,t){const[n,i,a,s]=as(Bb,this),[r,o,l,c]=as(Db,this),d=a*l,h=s*c,u=n*l+r,p=i*c+o,m=this.newOutliner({x:as(Hb,this)[0]*d+u,y:as(Hb,this)[1]*h+p},as(Db,this),as(zb,this),e,as(Wb,this),null!==t&&void 0!==t?t:as(Ob,this));for(let f=2;f<as(Hb,this).length;f+=2)m.add({x:as(Hb,this)[f]*d+u,y:as(Hb,this)[f+1]*h+p});return m.getOutlines()}}function Vb(e){const t=as(Ub,this);let n=t[4],i=t[5];const a=[n,i,n,i];let s=n,r=i;const o=e?Math.max:Math.min;for(let c=6,d=t.length;c<d;c+=6){const e=t[c+4],l=t[c+5];if(isNaN(t[c]))kr.pointBoundingBox(e,l,a),r<l?(s=e,r=l):r===l&&(s=o(s,e));else{const e=[1/0,1/0,-1/0,-1/0];kr.bezierBoundingBox(n,i,...t.slice(c,c+6),e),kr.rectBoundingBox(...e,a),r<e[3]?(s=e[2],r=e[3]):r===e[3]&&(s=o(s,e[2]))}n=e,i=l}const l=as(Bb,this);l[0]=a[0]-as(Ob,this),l[1]=a[1]-as(Ob,this),l[2]=a[2]-a[0]+2*as(Ob,this),l[3]=a[3]-a[1]+2*as(Ob,this),this.lastPoint=[s,r]}var Yb=new WeakMap,Kb=new WeakMap,Xb=new WeakMap,Jb=new WeakMap,Qb=new WeakSet;class Zb{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];es(this,Qb),ts(this,Yb,void 0),ts(this,Kb,void 0),ts(this,Xb,[]),ts(this,Jb,[]);const a=[1/0,1/0,-1/0,-1/0],s=10**-4;for(const{x:u,y:p,width:m,height:f}of e){const e=Math.floor((u-t)/s)*s,n=Math.ceil((u+m+t)/s)*s,i=Math.floor((p-t)/s)*s,r=Math.ceil((p+f+t)/s)*s,o=[e,i,r,!0],l=[n,i,r,!1];as(Xb,this).push(o,l),kr.rectBoundingBox(e,i,n,r,a)}const r=a[2]-a[0]+2*n,o=a[3]-a[1]+2*n,l=a[0]-n,c=a[1]-n,d=as(Xb,this).at(i?-1:-2),h=[d[0],d[2]];for(const u of as(Xb,this)){const[e,t,n]=u;u[0]=(e-l)/r,u[1]=(t-c)/o,u[2]=(n-c)/o}ss(Yb,this,new Float32Array([l,c,r,o])),ss(Kb,this,h)}getOutlines(){as(Xb,this).sort((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]);const e=[];for(const t of as(Xb,this))t[3]?(e.push(...ns(Qb,this,iy).call(this,t)),ns(Qb,this,ty).call(this,t)):(ns(Qb,this,ny).call(this,t),e.push(...ns(Qb,this,iy).call(this,t)));return ns(Qb,this,$b).call(this,e)}}function $b(e){const t=[],n=new Set;for(const s of e){const[e,n,i]=s;t.push([e,n,s],[e,i,s])}t.sort((e,t)=>e[1]-t[1]||e[0]-t[0]);for(let s=0,r=t.length;s<r;s+=2){const e=t[s][2],i=t[s+1][2];e.push(i),i.push(e),n.add(e),n.add(i)}const i=[];let a;for(;n.size>0;){const e=n.values().next().value;let[t,s,r,o,l]=e;n.delete(e);let c=t,d=s;for(a=[t,r],i.push(a);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,s,r,o,l]=e,c!==t&&(a.push(c,d,t,d===s?s:r),c=t),d=d===s?r:s}a.push(c,d)}return new ry(i,as(Yb,this),as(Kb,this))}function ey(e){const t=as(Jb,this);let n=0,i=t.length-1;for(;n<=i;){const a=n+i>>1,s=t[a][0];if(s===e)return a;s<e?n=a+1:i=a-1}return i+1}function ty(e){let[,t,n]=e;const i=ns(Qb,this,ey).call(this,t);as(Jb,this).splice(i,0,[t,n])}function ny(e){let[,t,n]=e;const i=ns(Qb,this,ey).call(this,t);for(let a=i;a<as(Jb,this).length;a++){const[e,i]=as(Jb,this)[a];if(e!==t)break;if(e===t&&i===n)return void as(Jb,this).splice(a,1)}for(let a=i-1;a>=0;a--){const[e,i]=as(Jb,this)[a];if(e!==t)break;if(e===t&&i===n)return void as(Jb,this).splice(a,1)}}function iy(e){const[t,n,i]=e,a=[[t,n,i]],s=ns(Qb,this,ey).call(this,i);for(let r=0;r<s;r++){const[e,n]=as(Jb,this)[r];for(let i=0,s=a.length;i<s;i++){const[,r,o]=a[i];if(!(n<=r||o<=e))if(r>=e)if(o>n)a[i][1]=n;else{if(1===s)return[];a.splice(i,1),i--,s--}else a[i][2]=e,o>n&&a.push([t,n,o])}}return a}var ay=new WeakMap,sy=new WeakMap;class ry extends ub{constructor(e,t,n){super(),ts(this,ay,void 0),ts(this,sy,void 0),ss(sy,this,e),ss(ay,this,t),this.lastPoint=n}toSVGPath(){const e=[];for(const t of as(sy,this)){let[n,i]=t;e.push("M".concat(n," ").concat(i));for(let a=2;a<t.length;a+=2){const s=t[a],r=t[a+1];s===n?(e.push("V".concat(r)),i=r):r===i&&(e.push("H".concat(s)),n=s)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,i,a,s]=e;const r=[],o=a-n,l=s-i;for(const c of as(sy,this)){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=s-c[t+1]*l;r.push(e)}return r}get box(){return as(ay,this)}get classNamesForOutlining(){return["highlightOutline"]}}class oy extends _b{newFreeDrawOutline(e,t,n,i,a,s){return new ly(e,t,n,i,a,s)}}class ly extends Gb{newOutliner(e,t,n,i,a){return new oy(e,t,n,i,a,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var cy=new WeakMap,dy=new WeakMap,hy=new WeakMap,uy=new WeakMap,py=new WeakMap,my=new WeakMap,fy=new WeakMap,gy=new WeakMap,vy=new WeakMap,by=new WeakMap,yy=new WeakMap,xy=new WeakMap,wy=new WeakMap,Ny=new WeakMap,Ay=new WeakMap,ky=new WeakMap,jy=new WeakMap,Cy=new WeakMap,_y=new WeakSet;class Sy extends bd{static get _keyboardManager(){const e=Sy.prototype;return ur(this,"_keyboardManager",new Do([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super((0,a.A)((0,a.A)({},e),{},{name:"highlightEditor"})),es(this,_y),ts(this,cy,null),ts(this,dy,0),ts(this,hy,void 0),ts(this,uy,null),ts(this,py,null),ts(this,my,null),ts(this,fy,null),ts(this,gy,0),ts(this,vy,null),ts(this,by,null),ts(this,yy,null),ts(this,xy,!1),ts(this,wy,null),ts(this,Ny,void 0),ts(this,Ay,null),ts(this,ky,""),ts(this,jy,void 0),ts(this,Cy,""),this.color=e.color||Sy._defaultColor,ss(jy,this,e.thickness||Sy._defaultThickness),ss(Ny,this,e.opacity||Sy._defaultOpacity),ss(hy,this,e.boxes||null),ss(Cy,this,e.methodOfCreation||""),ss(ky,this,e.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(ss(xy,this,!0),ns(_y,this,My).call(this,e),ns(_y,this,Fy).call(this)):as(hy,this)&&(ss(cy,this,e.anchorNode),ss(dy,this,e.anchorOffset),ss(fy,this,e.focusNode),ss(gy,this,e.focusOffset),ns(_y,this,Ey).call(this),ns(_y,this,Fy).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:as(xy,this)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:as(jy,this),methodOfCreation:as(Cy,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}get commentColor(){return this.color}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,t){var n;bd.initialize(e,t),Sy._defaultColor||(Sy._defaultColor=(null===(n=t.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(e,t){switch(e){case Ds.HIGHLIGHT_COLOR:Sy._defaultColor=t;break;case Ds.HIGHLIGHT_THICKNESS:Sy._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return as(wy,this)}updateParams(e,t){switch(e){case Ds.HIGHLIGHT_COLOR:ns(_y,this,Py).call(this,t);break;case Ds.HIGHLIGHT_THICKNESS:ns(_y,this,Ly).call(this,t)}}static get defaultPropertiesToUpdate(){return[[Ds.HIGHLIGHT_COLOR,Sy._defaultColor],[Ds.HIGHLIGHT_THICKNESS,Sy._defaultThickness]]}get propertiesToUpdate(){return[[Ds.HIGHLIGHT_COLOR,this.color||Sy._defaultColor],[Ds.HIGHLIGHT_THICKNESS,as(jy,this)||Sy._defaultThickness],[Ds.HIGHLIGHT_FREE,as(xy,this)]]}get toolbarButtons(){if(this._uiManager.highlightColors){return[["colorPicker",ss(py,this,new Uf({editor:this}))]]}return super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ns(_y,this,Oy).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,ns(_y,this,Oy).call(this))}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){ns(_y,this,Iy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(ns(_y,this,Fy).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)ns(_y,this,Iy).call(this);else if(e){var n;ns(_y,this,Fy).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),this.show(this._isVisible),t&&this.select()}rotate(e){const{drawLayer:t}=this.parent;let n;as(xy,this)?(e=(e-this.rotation+360)%360,n=Ry.call(Sy,as(by,this).box,e)):n=Ry.call(Sy,[this.x,this.y,this.width,this.height],e),t.updateProperties(as(yy,this),{bbox:n,root:{"data-main-rotation":e}}),t.updateProperties(as(Ay,this),{bbox:Ry.call(Sy,as(my,this).box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();as(ky,this)&&(e.setAttribute("aria-label",as(ky,this)),e.setAttribute("role","mark")),as(xy,this)?e.classList.add("free"):this.div.addEventListener("keydown",ns(_y,this,Dy).bind(this),{signal:this._uiManager._signal});const t=ss(vy,this,document.createElement("div"));e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=as(uy,this);const[n,i]=this.parentDimensions;return this.setDims(this.width*n,this.height*i),No(this,as(vy,this),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(as(Ay,this),{rootClass:{hovered:!0}}))}pointerleave(){var e;this.isSelected||(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(as(Ay,this),{rootClass:{hovered:!1}}))}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:ns(_y,this,By).call(this,!0);break;case 1:case 3:ns(_y,this,By).call(this,!1)}}select(){var e;super.select(),as(Ay,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(as(Ay,this),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var e;super.unselect(),as(Ay,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(as(Ay,this),{rootClass:{selected:!1}}),as(xy,this)||ns(_y,this,By).call(this,!1))}get _mustFixPosition(){return!as(xy,this)}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(as(yy,this),{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(as(Ay,this),{rootClass:{hidden:!e}}))}static startHighlighting(e,t,n){let{target:i,x:a,y:s}=n;const{x:r,y:o,width:l,height:c}=i.getBoundingClientRect(),d=new AbortController,h=e.combinedSignal(d),u=t=>{d.abort(),ns(Sy,this,Uy).call(this,e,t)};window.addEventListener("blur",u,{signal:h}),window.addEventListener("pointerup",u,{signal:h}),window.addEventListener("pointerdown",Ur,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",zr,{signal:h}),i.addEventListener("pointermove",ns(Sy,this,zy).bind(this,e),{signal:h}),this._freeHighlight=new oy({x:a,y:s},[r,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0))}static async deserialize(e,t,n){let i=null;if(e instanceof Lv){const{data:{quadPoints:t,rect:n,rotation:a,id:s,color:r,opacity:o,popupRef:l,contentsObj:c},parent:{page:{pageNumber:d}}}=e;i=e={annotationType:Rs.HIGHLIGHT,color:Array.from(r),opacity:o,quadPoints:t,boxes:null,pageIndex:d-1,rect:n.slice(0),rotation:a,annotationElementId:s,id:s,deleted:!1,popupRef:l,comment:(null===c||void 0===c?void 0:c.str)||null}}else if(e instanceof Mv){const{data:{inkLists:t,rect:n,rotation:a,id:s,color:r,borderStyle:{rawWidth:o},popupRef:l,contentsObj:c},parent:{page:{pageNumber:d}}}=e;i=e={annotationType:Rs.HIGHLIGHT,color:Array.from(r),thickness:o,inkLists:t,boxes:null,pageIndex:d-1,rect:n.slice(0),rotation:a,annotationElementId:s,id:s,deleted:!1,popupRef:l,comment:(null===c||void 0===c?void 0:c.str)||null}}const{color:a,quadPoints:s,inkLists:r,opacity:o}=e,l=await super.deserialize(e,t,n);l.color=kr.makeHexColor(...a),ss(Ny,l,o||1),r&&ss(jy,l,e.thickness),l._initialData=i,e.comment&&l.setCommentData(e.comment);const[c,d]=l.pageDimensions,[h,u]=l.pageTranslation;if(s){const e=ss(hy,l,[]);for(let t=0;t<s.length;t+=8)e.push({x:(s[t]-h)/c,y:1-(s[t+1]-u)/d,width:(s[t+2]-s[t])/c,height:(s[t+1]-s[t+5])/d});ns(_y,l,Ey).call(l),ns(_y,l,Fy).call(l),l.rotate(l.rotation)}else if(r){ss(xy,l,!0);const e=r[0],n={x:e[0]-h,y:d-(e[1]-u)},i=new oy(n,[0,0,c,d],1,as(jy,l)/2,!0,.001);for(let t=0,r=e.length;t<r;t+=2)n.x=e[t]-h,n.y=d-(e[t+1]-u),i.add(n);const{id:a,clipPathId:s}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:l.color,"fill-opacity":l._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:i.toSVGPath()}},!0,!0);ns(_y,l,My).call(l,{highlightOutlines:i.getOutlines(),highlightId:a,clipPathId:s}),ns(_y,l,Fy).call(l),l.rotate(l.parentRotation)}return l}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getPDFRect(),n=bd._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i={annotationType:Rs.HIGHLIGHT,color:n,opacity:as(Ny,this),thickness:as(jy,this),quadPoints:ns(_y,this,Wy).call(this),outlines:ns(_y,this,Hy).call(this,t),pageIndex:this.pageIndex,rect:t,rotation:ns(_y,this,Oy).call(this),structTreeParentId:this._structTreeParentId};return this.addComment(i),this.annotationElementId&&!ns(_y,this,qy).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const t={rect:this.getPDFRect()};return this.hasEditedComment&&(t.popup=this.comment),e.updateEdited(t),null}static canCreateNewEmptyEditor(){return!1}}function Ey(){const e=new Zb(as(hy,this),.001);ss(by,this,e.getOutlines()),[this.x,this.y,this.width,this.height]=as(by,this).box;const t=new Zb(as(hy,this),.0025,.001,"ltr"===this._uiManager.direction);ss(my,this,t.getOutlines());const{lastPoint:n}=as(my,this);ss(wy,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function My(e){let{highlightOutlines:t,highlightId:n,clipPathId:i}=e;ss(by,this,t);if(ss(my,this,t.getNewOutline(as(jy,this)/2+1.5,.0025)),n>=0)ss(yy,this,n),ss(uy,this,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),ss(Ay,this,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:as(my,this).box,path:{d:as(my,this).toSVGPath()}},!0));else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(as(yy,this),{bbox:Ry.call(vs,as(by,this).box,(e-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(as(Ay,this),{bbox:Ry.call(vs,as(my,this).box,e),path:{d:as(my,this).toSVGPath()}})}const[a,s,r,o]=t.box;switch(this.rotation){case 0:this.x=a,this.y=s,this.width=r,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=s,this.y=1-a,this.width=r*t/e,this.height=o*e/t;break}case 180:this.x=1-a,this.y=1-s,this.width=r,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-s,this.y=a,this.width=r*t/e,this.height=o*e/t;break}}const{lastPoint:l}=as(my,this);ss(wy,this,[(l[0]-a)/r,(l[1]-s)/o])}function Py(e){const t=(e,t)=>{var n,i;this.color=e,ss(Ny,this,t),null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(as(yy,this),{root:{fill:e,"fill-opacity":t}}),null===(i=as(py,this))||void 0===i||i.updateColor(e)},n=this.color,i=as(Ny,this);this.addCommands({cmd:t.bind(this,e,vs._defaultOpacity),undo:t.bind(this,n,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ds.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}function Ly(e){const t=as(jy,this),n=e=>{ss(jy,this,e),ns(_y,this,Ty).call(this,e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ds.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}function Ty(e){if(!as(xy,this))return;ns(_y,this,My).call(this,{highlightOutlines:as(by,this).getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}function Iy(){null!==as(yy,this)&&this.parent&&(this.parent.drawLayer.remove(as(yy,this)),ss(yy,this,null),this.parent.drawLayer.remove(as(Ay,this)),ss(Ay,this,null))}function Fy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===as(yy,this)&&(({id:Za(ss,[yy,this])._,clipPathId:Za(ss,[uy,this])._}=e.drawLayer.draw({bbox:as(by,this).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":as(Ny,this)},rootClass:{highlight:!0,free:as(xy,this)},path:{d:as(by,this).toSVGPath()}},!1,!0)),ss(Ay,this,e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:as(xy,this)},bbox:as(my,this).box,path:{d:as(my,this).toSVGPath()}},as(xy,this))),as(vy,this)&&(as(vy,this).style.clipPath=as(uy,this)))}function Ry(e,t){let[n,i,a,s]=e;switch(t){case 90:return[1-i-s,n,s,a];case 180:return[1-n-a,1-i-s,a,s];case 270:return[i,1-n-a,s,a]}return[n,i,a,s]}function Dy(e){vs._keyboardManager.exec(this,e)}function By(e){if(!as(cy,this))return;const t=window.getSelection();e?t.setPosition(as(cy,this),as(dy,this)):t.setPosition(as(fy,this),as(gy,this))}function Oy(){return as(xy,this)?this.rotation:0}function Wy(){if(as(xy,this))return null;const[e,t]=this.pageDimensions,[n,i]=this.pageTranslation,a=as(hy,this),s=new Float32Array(8*a.length);let r=0;for(const{x:o,y:l,width:c,height:d}of a){const a=o*e+n,h=(1-l)*t+i;s[r]=s[r+4]=a,s[r+1]=s[r+3]=h,s[r+2]=s[r+6]=a+c*e,s[r+5]=s[r+7]=h-d*t,r+=8}return s}function Hy(e){return as(by,this).serialize(e,ns(_y,this,Oy).call(this))}function zy(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}function Uy(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function qy(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((e,n)=>e!==t[n])}vs=Sy,(0,ws.A)(Sy,"_defaultColor",null),(0,ws.A)(Sy,"_defaultOpacity",1),(0,ws.A)(Sy,"_defaultThickness",12),(0,ws.A)(Sy,"_type","highlight"),(0,ws.A)(Sy,"_editorType",Rs.HIGHLIGHT),(0,ws.A)(Sy,"_freeHighlightId",-1),(0,ws.A)(Sy,"_freeHighlight",null),(0,ws.A)(Sy,"_freeHighlightClipId","");var Gy=new WeakMap;class Vy{constructor(){ts(this,Gy,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,n)}updateSVGProperty(e,t){as(Gy,this)[e]=t}toSVGProperties(){const e=as(Gy,this);return ss(Gy,this,Object.create(null)),{root:e}}reset(){ss(Gy,this,Object.create(null))}updateAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this;this.updateProperties(e)}clone(){lr("Not implemented")}}var Yy=new WeakMap,Ky=new WeakMap,Xy=new WeakSet;class Jy extends bd{constructor(e){super(e),es(this,Xy),ts(this,Yy,null),ts(this,Ky,void 0),(0,ws.A)(this,"_colorPicker",null),(0,ws.A)(this,"_drawId",null),ss(Ky,this,e.mustBeCommitted||!1),this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(ns(Xy,this,Qy).call(this,e),ns(Xy,this,ex).call(this))}static _mergeSVGProperties(e,t){const n=new Set(Object.keys(e));for(const[i,a]of Object.entries(t))n.has(i)?Object.assign(e[i],a):e[i]=a;return e}static getDefaultDrawingOptions(e){lr("Not implemented")}static get typesMap(){lr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const n=this.typesMap.get(e);n&&this._defaultDrawingOptions.updateProperty(n,t),this._currentParent&&(sx._.updateProperty(n,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const n=this.constructor.typesMap.get(e);n&&this._updateProperty(e,n,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[n,i]of this.typesMap)e.push([n,t[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[n,i]of this.constructor.typesMap)e.push([n,t[i]]);return e}_updateProperty(e,t,n){const i=this._drawingOptions,a=i[t],s=n=>{var a;i.updateProperty(t,n);const s=as(Yy,this).updateProperty(t,n);var r;(s&&ns(Xy,this,ix).call(this,s),null===(a=this.parent)||void 0===a||a.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType)&&(null===(r=this._colorPicker)||void 0===r||r.update(n))};this.addCommands({cmd:s.bind(this,n),undo:s.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,Jy._mergeSVGProperties(as(Yy,this).getPathResizingSVGProperties(ns(Xy,this,nx).call(this)),{bbox:ns(Xy,this,ax).call(this)}))}_onResized(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,Jy._mergeSVGProperties(as(Yy,this).getPathResizedSVGProperties(ns(Xy,this,nx).call(this)),{bbox:ns(Xy,this,ax).call(this)}))}_onTranslating(e,t){var n;null===(n=this.parent)||void 0===n||n.drawLayer.updateProperties(this._drawId,{bbox:ns(Xy,this,ax).call(this)})}_onTranslated(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,Jy._mergeSVGProperties(as(Yy,this).getPathTranslatedSVGProperties(ns(Xy,this,nx).call(this),this.parentDimensions),{bbox:ns(Xy,this,ax).call(this)}))}_onStartDragging(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var e;null===(e=this.parent)||void 0===e||e.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,as(Ky,this)&&(ss(Ky,this,!1),this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){ns(Xy,this,$y).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(ns(Xy,this,ex).call(this),ns(Xy,this,ix).call(this,as(Yy,this).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)this._uiManager.removeShouldRescale(this),ns(Xy,this,$y).call(this);else if(e){var n;this._uiManager.addShouldRescale(this),ns(Xy,this,ex).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),t&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Jy._mergeSVGProperties({bbox:ns(Xy,this,ax).call(this)},as(Yy,this).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&ns(Xy,this,ix).call(this,as(Yy,this).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const n=super.render();n.classList.add("draw");const i=document.createElement("div");n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal";const[a,s]=this.parentDimensions;return this.setDims(this.width*a,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),n}static createDrawerInstance(e,t,n,i,a){lr("Not implemented")}static startDrawing(e,t,n,i){var a,s;const{target:r,offsetX:o,offsetY:l,pointerId:c,pointerType:d}=i;if(cx._&&cx._!==d)return;const{viewport:{rotation:h}}=e,{width:u,height:p}=r.getBoundingClientRect(),m=rx._=new AbortController,f=e.combinedSignal(m);lx._||(lx._=c),null!==(a=cx._)&&void 0!==a||(cx._=d),window.addEventListener("pointerup",e=>{var t;lx._===e.pointerId?this._endDraw(e):null===(t=dx._)||void 0===t||t.delete(e.pointerId)},{signal:f}),window.addEventListener("pointercancel",e=>{var t;lx._===e.pointerId?this._currentParent.endDrawingSession():null===(t=dx._)||void 0===t||t.delete(e.pointerId)},{signal:f}),window.addEventListener("pointerdown",e=>{cx._===e.pointerType&&((dx._||(dx._=new Set)).add(e.pointerId),sx._.isCancellable()&&(sx._.removeLastElement(),sx._.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",zr,{signal:f}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:f}),r.addEventListener("touchmove",e=>{e.timeStamp===hx._&&Ur(e)},{signal:f}),e.toggleDrawing(),null===(s=t._editorUndoBar)||void 0===s||s.hide(),sx._?e.drawLayer.updateProperties(this._currentDrawId,sx._.startNew(o,l,u,p,h)):(t.updateUIForDefaultProperties(this),sx._=this.createDrawerInstance(o,l,u,p,h),ox._=this.getDefaultDrawingOptions(),this._currentParent=e,({id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(ox._.toSVGProperties(),sx._.defaultSVGProperties),!0,!1)))}static _drawMove(e){var t;if(hx._=-1,!sx._)return;const{offsetX:n,offsetY:i,pointerId:a}=e;lx._===a&&((null===(t=dx._)||void 0===t?void 0:t.size)>=1?this._endDraw(e):(this._currentParent.drawLayer.updateProperties(this._currentDrawId,sx._.add(n,i)),hx._=e.timeStamp,Ur(e)))}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,sx._=null,ox._=null,cx._=null,hx._=NaN),rx._&&(rx._.abort(),rx._=null,lx._=NaN,dx._=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),(null===e||void 0===e?void 0:e.target)===t.div&&t.drawLayer.updateProperties(this._currentDrawId,sx._.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const e=sx._,n=this._currentDrawId,i=e.getLastElement();return void t.addCommands({cmd:()=>{t.drawLayer.updateProperties(n,e.setLastElement(i))},undo:()=>{t.drawLayer.updateProperties(n,e.removeLastElement())},mustExec:!1,type:Ds.DRAW_STEP})}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Ds.DRAW_STEP),!sx._.isEmpty()){const{pageDimensions:[n,i],scale:a}=t,s=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:sx._.getOutlines(n*a,i*a,a,this._INNER_MARGIN),drawingOptions:ox._,mustBeCommitted:!e});return this._cleanup(!0),s}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,n,i,a,s){lr("Not implemented")}static async deserialize(e,t,n){const{rawDims:{pageWidth:i,pageHeight:a,pageX:s,pageY:r}}=t.viewport,o=this.deserializeDraw(s,r,i,a,this._INNER_MARGIN,e),l=await super.deserialize(e,t,n);return l.createDrawingOptions(e),ns(Xy,l,Qy).call(l,{drawOutlines:o}),ns(Xy,l,ex).call(l),l.onScaleChanging(),l.rotate(),l}serializeDraw(e){const[t,n]=this.pageTranslation,[i,a]=this.pageDimensions;return as(Yy,this).serialize([t,n,i,a],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}function Qy(e){let{drawOutlines:t,drawId:n,drawingOptions:i}=e;ss(Yy,this,t),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-".concat(this.editorType,"-added-alert")),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=ns(Xy,this,Zy).call(this,t,this.parent),ns(Xy,this,ix).call(this,t.box)}function Zy(e,t){const{id:n}=t.drawLayer.draw(bs._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return n}function $y(){null!==this._drawId&&this.parent&&(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}function ex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null!==this._drawId&&this.parent===e||(null===this._drawId?(this._drawingOptions.updateAll(),this._drawId=ns(Xy,this,Zy).call(this,as(Yy,this),e)):this.parent.drawLayer.updateParent(this._drawId,e.drawLayer))}function tx(e){let[t,n,i,a]=e;const{parentDimensions:[s,r],rotation:o}=this;switch(o){case 90:return[n,1-t,i*(r/s),a*(s/r)];case 180:return[1-t,1-n,i,a];case 270:return[1-n,t,i*(r/s),a*(s/r)];default:return[t,n,i,a]}}function nx(){const{x:e,y:t,width:n,height:i,parentDimensions:[a,s],rotation:r}=this;switch(r){case 90:return[1-t,e,n*(a/s),i*(s/a)];case 180:return[1-e,1-t,n,i];case 270:return[t,1-e,n*(a/s),i*(s/a)];default:return[e,t,n,i]}}function ix(e){if([this.x,this.y,this.width,this.height]=ns(Xy,this,tx).call(this,e),this.div){this.fixAndSetPosition();const[e,t]=this.parentDimensions;this.setDims(this.width*e,this.height*t)}this._onResized()}function ax(){const{x:e,y:t,width:n,height:i,rotation:a,parentRotation:s,parentDimensions:[r,o]}=this;switch((4*a+s)/90){case 1:return[1-t-i,e,i,n];case 2:return[1-e-n,1-t-i,n,i];case 3:return[t,1-e-n,i,n];case 4:return[e,t-n*(r/o),i*(o/r),n*(r/o)];case 5:return[1-t,e,n*(r/o),i*(o/r)];case 6:return[1-e-i*(o/r),1-t,i*(o/r),n*(r/o)];case 7:return[t-n*(r/o),1-e-i*(o/r),n*(r/o),i*(o/r)];case 8:return[e-n,t-i,n,i];case 9:return[1-t,e-n,i,n];case 10:return[1-e,1-t,n,i];case 11:return[t-i,1-e,i,n];case 12:return[e-i*(o/r),t,i*(o/r),n*(r/o)];case 13:return[1-t-n*(r/o),e-i*(o/r),n*(r/o),i*(o/r)];case 14:return[1-e,1-t-n*(r/o),i*(o/r),n*(r/o)];case 15:return[t,1-e,n*(r/o),i*(o/r)];default:return[e,t,n,i]}}bs=Jy,(0,ws.A)(Jy,"_currentDrawId",-1),(0,ws.A)(Jy,"_currentParent",null);var sx={_:null},rx={_:null},ox={_:null},lx={_:NaN},cx={_:null},dx={_:null},hx={_:NaN};(0,ws.A)(Jy,"_INNER_MARGIN",3);var ux=new WeakMap,px=new WeakMap,mx=new WeakMap,fx=new WeakMap,gx=new WeakMap,vx=new WeakMap,bx=new WeakMap,yx=new WeakMap,xx=new WeakMap,wx=new WeakMap,Nx=new WeakMap,Ax=new WeakSet;class kx{constructor(e,t,n,i,a,s){es(this,Ax),ts(this,ux,new Float64Array(6)),ts(this,px,void 0),ts(this,mx,void 0),ts(this,fx,void 0),ts(this,gx,void 0),ts(this,vx,void 0),ts(this,bx,""),ts(this,yx,0),ts(this,xx,new Rx),ts(this,wx,void 0),ts(this,Nx,void 0),ss(wx,this,n),ss(Nx,this,i),ss(fx,this,a),ss(gx,this,s),[e,t]=ns(Ax,this,jx).call(this,e,t);const r=ss(px,this,[NaN,NaN,NaN,NaN,e,t]);ss(vx,this,[e,t]),ss(mx,this,[{line:r,points:as(vx,this)}]),as(ux,this).set(r,0)}updateProperty(e,t){"stroke-width"===e&&ss(gx,this,t)}isEmpty(){return!as(mx,this)||0===as(mx,this).length}isCancellable(){return as(vx,this).length<=10}add(e,t){[e,t]=ns(Ax,this,jx).call(this,e,t);const[n,i,a,s]=as(ux,this).subarray(2,6),r=e-a,o=t-s;return Math.hypot(as(wx,this)*r,as(Nx,this)*o)<=2?null:(as(vx,this).push(e,t),isNaN(n)?(as(ux,this).set([a,s,e,t],2),as(px,this).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(as(ux,this)[0])&&as(px,this).splice(6,6),as(ux,this).set([n,i,a,s,e,t],0),as(px,this).push(...ub.createBezierPoints(n,i,a,s,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(2===as(vx,this).length?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,a){ss(wx,this,n),ss(Nx,this,i),ss(fx,this,a),[e,t]=ns(Ax,this,jx).call(this,e,t);const s=ss(px,this,[NaN,NaN,NaN,NaN,e,t]);ss(vx,this,[e,t]);const r=as(mx,this).at(-1);return r&&(r.line=new Float32Array(r.line),r.points=new Float32Array(r.points)),as(mx,this).push({line:s,points:as(vx,this)}),as(ux,this).set(s,0),ss(yx,this,0),this.toSVGPath(),null}getLastElement(){return as(mx,this).at(-1)}setLastElement(e){return as(mx,this)?(as(mx,this).push(e),ss(px,this,e.line),ss(vx,this,e.points),ss(yx,this,0),{path:{d:this.toSVGPath()}}):as(xx,this).setLastElement(e)}removeLastElement(){if(!as(mx,this))return as(xx,this).removeLastElement();as(mx,this).pop(),ss(bx,this,"");for(let e=0,t=as(mx,this).length;e<t;e++){const{line:t,points:n}=as(mx,this)[e];ss(px,this,t),ss(vx,this,n),ss(yx,this,0),this.toSVGPath()}return{path:{d:as(bx,this)}}}toSVGPath(){const e=ub.svgRound(as(px,this)[4]),t=ub.svgRound(as(px,this)[5]);if(2===as(vx,this).length)return ss(bx,this,"".concat(as(bx,this)," M ").concat(e," ").concat(t," Z")),as(bx,this);if(as(vx,this).length<=6){const n=as(bx,this).lastIndexOf("M");ss(bx,this,"".concat(as(bx,this).slice(0,n)," M ").concat(e," ").concat(t)),ss(yx,this,6)}if(4===as(vx,this).length){const e=ub.svgRound(as(px,this)[10]),t=ub.svgRound(as(px,this)[11]);return ss(bx,this,"".concat(as(bx,this)," L ").concat(e," ").concat(t)),ss(yx,this,12),as(bx,this)}const n=[];0===as(yx,this)&&(n.push("M ".concat(e," ").concat(t)),ss(yx,this,6));for(let i=as(yx,this),a=as(px,this).length;i<a;i+=6){const[e,t,a,s,r,o]=as(px,this).slice(i,i+6).map(ub.svgRound);n.push("C".concat(e," ").concat(t," ").concat(a," ").concat(s," ").concat(r," ").concat(o))}return ss(bx,this,as(bx,this)+n.join(" ")),ss(yx,this,as(px,this).length),as(bx,this)}getOutlines(e,t,n,i){const a=as(mx,this).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),as(xx,this).build(as(mx,this),e,t,n,as(fx,this),as(gx,this),i),ss(ux,this,null),ss(px,this,null),ss(mx,this,null),ss(bx,this,null),as(xx,this)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}function jx(e,t){return ub._normalizePoint(e,t,as(wx,this),as(Nx,this),as(fx,this))}var Cx=new WeakMap,_x=new WeakMap,Sx=new WeakMap,Ex=new WeakMap,Mx=new WeakMap,Px=new WeakMap,Lx=new WeakMap,Tx=new WeakMap,Ix=new WeakMap,Fx=new WeakSet;class Rx extends ub{constructor(){super(...arguments),es(this,Fx),ts(this,Cx,void 0),ts(this,_x,0),ts(this,Sx,void 0),ts(this,Ex,void 0),ts(this,Mx,void 0),ts(this,Px,void 0),ts(this,Lx,void 0),ts(this,Tx,void 0),ts(this,Ix,void 0)}build(e,t,n,i,a,s,r){ss(Mx,this,t),ss(Px,this,n),ss(Lx,this,i),ss(Tx,this,a),ss(Ix,this,s),ss(Sx,this,null!==r&&void 0!==r?r:0),ss(Ex,this,e),ns(Fx,this,Ox).call(this)}get thickness(){return as(Ix,this)}setLastElement(e){return as(Ex,this).push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return as(Ex,this).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of as(Ex,this))if(e.push("M".concat(ub.svgRound(t[4])," ").concat(ub.svgRound(t[5]))),6!==t.length)if(12===t.length&&isNaN(t[6]))e.push("L".concat(ub.svgRound(t[10])," ").concat(ub.svgRound(t[11])));else for(let n=6,i=t.length;n<i;n+=6){const[i,a,s,r,o,l]=t.subarray(n,n+6).map(ub.svgRound);e.push("C".concat(i," ").concat(a," ").concat(s," ").concat(r," ").concat(o," ").concat(l))}else e.push("Z");return e.join("")}serialize(e,t){let[n,i,a,s]=e;const r=[],o=[],[l,c,d,h]=ns(Fx,this,Bx).call(this);let u,p,m,f,g,v,b,y,x;switch(as(Tx,this)){case 0:x=ub._rescale,u=n,p=i+s,m=a,f=-s,g=n+l*a,v=i+(1-c-h)*s,b=n+(l+d)*a,y=i+(1-c)*s;break;case 90:x=ub._rescaleAndSwap,u=n,p=i,m=a,f=s,g=n+c*a,v=i+l*s,b=n+(c+h)*a,y=i+(l+d)*s;break;case 180:x=ub._rescale,u=n+a,p=i,m=-a,f=s,g=n+(1-l-d)*a,v=i+c*s,b=n+(1-l)*a,y=i+(c+h)*s;break;case 270:x=ub._rescaleAndSwap,u=n+a,p=i+s,m=-a,f=-s,g=n+(1-c-h)*a,v=i+(1-l-d)*s,b=n+(1-c)*a,y=i+(1-l)*s}for(const{line:w,points:N}of as(Ex,this))r.push(x(w,u,p,m,f,t?new Array(w.length):null)),o.push(x(N,u,p,m,f,t?new Array(N.length):null));return{lines:r,points:o,rect:[g,v,b,y]}}static deserialize(e,t,n,i,a,s){let{paths:{lines:r,points:o},rotation:l,thickness:c}=s;const d=[];let h,u,p,m,f;switch(l){case 0:f=ub._rescale,h=-e/n,u=t/i+1,p=1/n,m=-1/i;break;case 90:f=ub._rescaleAndSwap,h=-t/i,u=-e/n,p=1/i,m=1/n;break;case 180:f=ub._rescale,h=e/n+1,u=-t/i,p=-1/n,m=1/i;break;case 270:f=ub._rescaleAndSwap,h=t/i+1,u=e/n+1,p=-1/i,m=-1/n}if(!r){r=[];for(const e of o){const t=e.length;if(2===t){r.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1]]));continue}if(4===t){r.push(new Float32Array([NaN,NaN,NaN,NaN,e[0],e[1],NaN,NaN,NaN,NaN,e[2],e[3]]));continue}const n=new Float32Array(3*(t-2));r.push(n);let[i,a,s,o]=e.subarray(0,4);n.set([NaN,NaN,NaN,NaN,i,a],0);for(let r=4;r<t;r+=2){const t=e[r],l=e[r+1];n.set(ub.createBezierPoints(i,a,s,o,t,l),3*(r-2)),[i,a,s,o]=[s,o,t,l]}}}for(let v=0,b=r.length;v<b;v++)d.push({line:f(r[v].map(e=>null!==e&&void 0!==e?e:NaN),h,u,p,m),points:f(o[v].map(e=>null!==e&&void 0!==e?e:NaN),h,u,p,m)});const g=new this.prototype.constructor;return g.build(d,n,i,1,l,c,a),g}get box(){return as(Cx,this)}updateProperty(e,t){return"stroke-width"===e?ns(Fx,this,Wx).call(this,t):null}updateParentDimensions(e,t){let[n,i]=e;const[a,s]=ns(Fx,this,Dx).call(this);ss(Mx,this,n),ss(Px,this,i),ss(Lx,this,t);const[r,o]=ns(Fx,this,Dx).call(this),l=r-a,c=o-s,d=as(Cx,this);return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateRotation(e){return ss(_x,this,e),{path:{transform:this.rotationTransform}}}get viewBox(){return as(Cx,this).map(ub.svgRound).join(" ")}get defaultProperties(){const[e,t]=as(Cx,this);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(ub.svgRound(e)," ").concat(ub.svgRound(t))}}}get rotationTransform(){const[,,e,t]=as(Cx,this);let n=0,i=0,a=0,s=0,r=0,o=0;switch(as(_x,this)){case 90:i=t/e,a=-e/t,r=e;break;case 180:n=-1,s=-1,r=e,o=t;break;case 270:i=-t/e,a=e/t,o=t;break;default:return""}return"matrix(".concat(n," ").concat(i," ").concat(a," ").concat(s," ").concat(ub.svgRound(r)," ").concat(ub.svgRound(o),")")}getPathResizingSVGProperties(e){let[t,n,i,a]=e;const[s,r]=ns(Fx,this,Dx).call(this),[o,l,c,d]=as(Cx,this);if(Math.abs(c-s)<=ub.PRECISION||Math.abs(d-r)<=ub.PRECISION){const e=t+i/2-(o+c/2),s=n+a/2-(l+d/2);return{path:{"transform-origin":"".concat(ub.svgRound(t)," ").concat(ub.svgRound(n)),transform:"".concat(this.rotationTransform," translate(").concat(e," ").concat(s,")")}}}const h=(i-2*s)/(c-2*s),u=(a-2*r)/(d-2*r),p=c/i,m=d/a;return{path:{"transform-origin":"".concat(ub.svgRound(o)," ").concat(ub.svgRound(l)),transform:"".concat(this.rotationTransform," scale(").concat(p," ").concat(m,") ")+"translate(".concat(ub.svgRound(s)," ").concat(ub.svgRound(r),") scale(").concat(h," ").concat(u,") ")+"translate(".concat(ub.svgRound(-s)," ").concat(ub.svgRound(-r),")")}}}getPathResizedSVGProperties(e){let[t,n,i,a]=e;const[s,r]=ns(Fx,this,Dx).call(this),o=as(Cx,this),[l,c,d,h]=o;if(o[0]=t,o[1]=n,o[2]=i,o[3]=a,Math.abs(d-s)<=ub.PRECISION||Math.abs(h-r)<=ub.PRECISION){const e=t+i/2-(l+d/2),s=n+a/2-(c+h/2);for(const{line:t,points:n}of as(Ex,this))ub._translate(t,e,s,t),ub._translate(n,e,s,n);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(ub.svgRound(t)," ").concat(ub.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}const u=(i-2*s)/(d-2*s),p=(a-2*r)/(h-2*r),m=-u*(l+s)+t+s,f=-p*(c+r)+n+r;if(1!==u||1!==p||0!==m||0!==f)for(const{line:g,points:v}of as(Ex,this))ub._rescale(g,m,f,u,p,g),ub._rescale(v,m,f,u,p,v);return{root:{viewBox:this.viewBox},path:{"transform-origin":"".concat(ub.svgRound(t)," ").concat(ub.svgRound(n)),transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties(e,t){let[n,i]=e;const[a,s]=t,r=as(Cx,this),o=n-r[0],l=i-r[1];if(as(Mx,this)===a&&as(Px,this)===s)for(const{line:c,points:d}of as(Ex,this))ub._translate(c,o,l,c),ub._translate(d,o,l,d);else{const e=as(Mx,this)/a,t=as(Px,this)/s;ss(Mx,this,a),ss(Px,this,s);for(const{line:n,points:i}of as(Ex,this))ub._rescale(n,o,l,e,t,n),ub._rescale(i,o,l,e,t,i);r[2]*=e,r[3]*=t}return r[0]=n,r[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":"".concat(ub.svgRound(n)," ").concat(ub.svgRound(i))}}}get defaultSVGProperties(){const e=as(Cx,this);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":"".concat(ub.svgRound(e[0])," ").concat(ub.svgRound(e[1])),transform:this.rotationTransform||null},bbox:e}}}function Dx(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as(Ix,this);const t=as(Sx,this)+e/2*as(Lx,this);return as(Tx,this)%180===0?[t/as(Mx,this),t/as(Px,this)]:[t/as(Px,this),t/as(Mx,this)]}function Bx(){const[e,t,n,i]=as(Cx,this),[a,s]=ns(Fx,this,Dx).call(this,0);return[e+a,t+s,n-2*a,i-2*s]}function Ox(){const e=ss(Cx,this,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:i}of as(Ex,this)){if(i.length<=12){for(let t=4,n=i.length;t<n;t+=6)kr.pointBoundingBox(i[t],i[t+1],e);continue}let t=i[4],n=i[5];for(let a=6,s=i.length;a<s;a+=6){const[s,r,o,l,c,d]=i.subarray(a,a+6);kr.bezierBoundingBox(t,n,s,r,o,l,c,d,e),t=c,n=d}}const[t,n]=ns(Fx,this,Dx).call(this);e[0]=Pr(e[0]-t,0,1),e[1]=Pr(e[1]-n,0,1),e[2]=Pr(e[2]+t,0,1),e[3]=Pr(e[3]+n,0,1),e[2]-=e[0],e[3]-=e[1]}function Wx(e){const[t,n]=ns(Fx,this,Dx).call(this);ss(Ix,this,e);const[i,a]=ns(Fx,this,Dx).call(this),[s,r]=[i-t,a-n],o=as(Cx,this);return o[0]-=s,o[1]-=r,o[2]+=2*s,o[3]+=2*r,o}class Hx extends Vy{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:bd._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){"stroke-width"===e&&(null!==t&&void 0!==t||(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Hx(this._viewParameters);return e.updateAll(this),e}}var zx=new WeakSet;class Ux extends Jy{constructor(e){super((0,a.A)((0,a.A)({},e),{},{name:"inkEditor"})),es(this,zx),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){bd.initialize(e,t),this._defaultDrawingOptions=new Hx(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return ur(this,"typesMap",new Map([[Ds.INK_THICKNESS,"stroke-width"],[Ds.INK_COLOR,"stroke"],[Ds.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,n,i,a){return new kx(e,t,n,i,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,n,i,a,s){return Rx.deserialize(e,t,n,i,a,s)}static async deserialize(e,t,n){let i=null;if(e instanceof Mv){const{data:{inkLists:t,rect:n,rotation:a,id:s,color:r,opacity:o,borderStyle:{rawWidth:l},popupRef:c,contentsObj:d},parent:{page:{pageNumber:h}}}=e;i=e={annotationType:Rs.INK,color:Array.from(r),thickness:l,opacity:o,paths:{points:t},boxes:null,pageIndex:h-1,rect:n.slice(0),rotation:a,annotationElementId:s,id:s,deleted:!1,popupRef:c,comment:(null===d||void 0===d?void 0:d.str)||null}}const a=await super.deserialize(e,t,n);return a._initialData=i,e.comment&&a.setCommentData(e.comment),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new eg(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Ds.INK_COLOR}get colorValue(){return this._drawingOptions.stroke}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:n}=this;t.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions(e){let{color:t,thickness:n,opacity:i}=e;this._drawingOptions=Ux.getDefaultDrawingOptions({stroke:kr.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:n,rect:i}=this.serializeDraw(e),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":r}}=this,o={annotationType:Rs.INK,color:bd._colorManager.convert(a),opacity:s,thickness:r,paths:{lines:t,points:n},pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(o),e?(o.isCopy=!0,o):this.annotationElementId&&!ns(zx,this,qx).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:n}=this.serializeDraw(!1),i={rect:n,thickness:this._drawingOptions["stroke-width"],points:t};return this.hasEditedComment&&(i.popup=this.comment),e.updateEdited(i),null}}function qx(e){const{color:t,thickness:n,opacity:i,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((e,n)=>e!==t[n])||e.thickness!==n||e.opacity!==i||e.pageIndex!==a}(0,ws.A)(Ux,"_type","ink"),(0,ws.A)(Ux,"_editorType",Rs.INK),(0,ws.A)(Ux,"_defaultDrawingOptions",null);class Gx extends Rx{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}class Vx{static extractContoursFromText(e,t,n,i,a,s){let{fontFamily:r,fontStyle:o,fontWeight:l}=t,c=new OffscreenCanvas(1,1),d=c.getContext("2d",{alpha:!1});const h=d.font="".concat(o," ").concat(l," ").concat(200,"px ").concat(r),{actualBoundingBoxLeft:u,actualBoundingBoxRight:p,actualBoundingBoxAscent:m,actualBoundingBoxDescent:f,fontBoundingBoxAscent:g,fontBoundingBoxDescent:v,width:b}=d.measureText(e),y=1.5,x=Math.ceil(Math.max(Math.abs(u)+Math.abs(p)||0,b)*y),w=Math.ceil(Math.max(Math.abs(m)+Math.abs(f)||200,Math.abs(g)+Math.abs(v)||200)*y);c=new OffscreenCanvas(x,w),d=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=h,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,x,w),d.fillStyle="black",d.fillText(e,.5*x/2,1.5*w/2);const N=ns(Vx,this,tw).call(this,d.getImageData(0,0,x,w).data),A=ns(Vx,this,ew).call(this,N),k=ns(Vx,this,nw).call(this,A),j=ns(Vx,this,Jx).call(this,N,x,w,k);return this.processDrawnLines({lines:{curves:j,width:x,height:w},pageWidth:n,pageHeight:i,rotation:a,innerMargin:s,mustSmooth:!0,areContours:!0})}static process(e,t,n,i,a){const[s,r,o]=ns(Vx,this,iw).call(this,e),[l,c]=ns(Vx,this,$x).call(this,s,r,o,Math.hypot(r,o)*ns(Vx,this,aw)._.sigmaSFactor,ns(Vx,this,aw)._.sigmaR,ns(Vx,this,aw)._.kernelSize),d=ns(Vx,this,nw).call(this,c),h=ns(Vx,this,Jx).call(this,l,r,o,d);return this.processDrawnLines({lines:{curves:h,width:r,height:o},pageWidth:t,pageHeight:n,rotation:i,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines(e){var t;let{lines:n,pageWidth:i,pageHeight:a,rotation:s,innerMargin:r,mustSmooth:o,areContours:l}=e;s%180!==0&&([i,a]=[a,i]);const{curves:c,width:d,height:h}=n,u=null!==(t=n.thickness)&&void 0!==t?t:0,p=[],m=Math.min(i/d,a/h),f=m/i,g=m/a,v=[];for(const{points:y}of c){const e=o?ns(Vx,this,Zx).call(this,y):y;if(!e)continue;v.push(e);const t=e.length,n=new Float32Array(t),i=new Float32Array(3*(2===t?2:t-2));if(p.push({line:i,points:n}),2===t){n[0]=e[0]*f,n[1]=e[1]*g,i.set([NaN,NaN,NaN,NaN,n[0],n[1]],0);continue}let[a,s,r,l]=e;a*=f,s*=g,r*=f,l*=g,n.set([a,s,r,l],0),i.set([NaN,NaN,NaN,NaN,a,s],0);for(let o=4;o<t;o+=2){const t=n[o]=e[o]*f,c=n[o+1]=e[o+1]*g;i.set(ub.createBezierPoints(a,s,r,l,t,c),3*(o-2)),[a,s,r,l]=[r,l,t,c]}}if(0===p.length)return null;const b=l?new Gx:new Rx;return b.build(p,i,a,1,s,l?0:u,r),{outline:b,newCurves:v,areContours:l,thickness:u,width:d,height:h}}static async compressSignature(e){let t,{outlines:n,areContours:i,thickness:a,width:s,height:r}=e,o=1/0,l=-1/0,c=0;for(const b of n){c+=b.length;for(let e=2,t=b.length;e<t;e++){const t=b[e]-b[e-2];o=Math.min(o,t),l=Math.max(l,t)}}t=o>=-128&&l<=127?Int8Array:o>=-32768&&l<=32767?Int16Array:Int32Array;const d=n.length,h=8+3*d,u=new Uint32Array(h);let p=0;u[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*t.BYTES_PER_ELEMENT,u[p++]=0,u[p++]=s,u[p++]=r,u[p++]=i?0:1,u[p++]=Math.max(0,Math.floor(null!==a&&void 0!==a?a:0)),u[p++]=d,u[p++]=t.BYTES_PER_ELEMENT;for(const b of n)u[p++]=b.length-2,u[p++]=b[0],u[p++]=b[1];const m=new CompressionStream("deflate-raw"),f=m.writable.getWriter();await f.ready,f.write(u);const g=t.prototype.constructor;for(const b of n){const e=new g(b.length-2);for(let t=2,n=b.length;t<n;t++)e[t-2]=b[t]-b[t-2];f.write(e)}f.close();const v=await new Response(m.readable).arrayBuffer();return Lr(new Uint8Array(v))}static async decompressSignature(e){try{const l=(r=e,Uint8Array.fromBase64?Uint8Array.fromBase64(r):wr(atob(r))),{readable:c,writable:d}=new DecompressionStream("deflate-raw"),h=d.getWriter();await h.ready,h.write(l).then(async()=>{await h.ready,await h.close()}).catch(()=>{});let u=null,p=0;var t,n=!1,i=!1;try{for(var a,s=function(e){var t,n,i,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new Ns(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}(c);n=!(a=await s.next()).done;n=!1){const e=a.value;u||(u=new Uint8Array(new Uint32Array(e.buffer,0,4)[0])),u.set(e,p),p+=e.length}}catch(o){i=!0,t=o}finally{try{n&&null!=s.return&&await s.return()}finally{if(i)throw t}}const m=new Uint32Array(u.buffer,0,u.length>>2),f=m[1];if(0!==f)throw new Error("Invalid version: ".concat(f));const g=m[2],v=m[3],b=0===m[4],y=m[5],x=m[6],w=m[7],N=[],A=(8+3*x)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(w){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(u.buffer,A);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(u.buffer,A);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(u.buffer,A)}p=0;for(let e=0;e<x;e++){const t=m[3*e+8],n=new Float32Array(t+2);N.push(n);for(let i=0;i<2;i++)n[i]=m[3*e+8+i+1];for(let e=0;e<t;e++)n[e+2]=n[e]+k[p++]}return{areContours:b,thickness:y,outlines:N,width:g,height:v}}catch(yN){return or("decompressSignature: ".concat(yN)),null}var r}}function Yx(e,t,n,i){return i-=t,0===(n-=e)?i>0?0:4:1===n?i+6:2-i}function Kx(e,t,n,i,a,s,r){const o=ns(ys,this,Yx).call(this,n,i,a,s);for(let l=0;l<8;l++){const a=(-l+o-r+16)%8;if(0!==e[(n+ns(ys,this,sw)._[2*a])*t+(i+ns(ys,this,sw)._[2*a+1])])return a}return-1}function Xx(e,t,n,i,a,s,r){const o=ns(ys,this,Yx).call(this,n,i,a,s);for(let l=0;l<8;l++){const a=(l+o+r+16)%8;if(0!==e[(n+ns(ys,this,sw)._[2*a])*t+(i+ns(ys,this,sw)._[2*a+1])])return a}return-1}function Jx(e,t,n,i){const a=e.length,s=new Int32Array(a);for(let c=0;c<a;c++)s[c]=e[c]<=i?1:0;for(let c=1;c<n-1;c++)s[c*t]=s[c*t+t-1]=0;for(let c=0;c<t;c++)s[c]=s[t*n-1-c]=0;let r,o=1;const l=[];for(let c=1;c<n-1;c++){r=1;for(let e=1;e<t-1;e++){const n=c*t+e,i=s[n];if(0===i)continue;let a=c,d=e;if(1===i&&0===s[n-1])o+=1,d-=1;else{if(!(i>=1&&0===s[n+1])){1!==i&&(r=Math.abs(i));continue}o+=1,d+=1,i>1&&(r=i)}const h=[e,c],u=d===e+1,p={isHole:u,points:h,id:o,parent:0};let m;l.push(p);for(const e of l)if(e.id===r){m=e;break}m?m.isHole?p.parent=u?m.parent:r:p.parent=u?r:m.parent:p.parent=u?r:0;const f=ns(ys,this,Kx).call(this,s,t,c,e,a,d,0);if(-1===f){s[n]=-o,1!==s[n]&&(r=Math.abs(s[n]));continue}let g=ns(ys,this,sw)._[2*f],v=ns(ys,this,sw)._[2*f+1];const b=c+g,y=e+v;a=b,d=y;let x=c,w=e;for(;;){const i=ns(ys,this,Xx).call(this,s,t,x,w,a,d,1);g=ns(ys,this,sw)._[2*i],v=ns(ys,this,sw)._[2*i+1];const l=x+g,u=w+v;h.push(u,l);const p=x*t+w;if(0===s[p+1]?s[p]=-o:1===s[p]&&(s[p]=o),l===c&&u===e&&x===b&&w===y){1!==s[n]&&(r=Math.abs(s[n]));break}a=x,d=w,x=l,w=u}}}return l}function Qx(e,t,n,i){if(n-t<=4){for(let a=t;a<n-2;a+=2)i.push(e[a],e[a+1]);return}const a=e[t],s=e[t+1],r=e[n-4]-a,o=e[n-3]-s,l=Math.hypot(r,o),c=r/l,d=o/l,h=c*s-d*a,u=o/r,p=1/l,m=Math.atan(u),f=Math.cos(m),g=Math.sin(m),v=p*(Math.abs(f)+Math.abs(g)),b=p*(1-v+v**2),y=Math.max(Math.atan(Math.abs(g+f)*b),Math.atan(Math.abs(g-f)*b));let x=0,w=t;for(let N=t+2;N<n-2;N+=2){const t=Math.abs(h-c*e[N+1]+d*e[N]);t>x&&(w=N,x=t)}x>(l*y)**2?(ns(ys,this,Qx).call(this,e,t,w+2,i),ns(ys,this,Qx).call(this,e,w,n,i)):i.push(a,s)}function Zx(e){const t=[],n=e.length;return ns(ys,this,Qx).call(this,e,0,n,t),t.push(e[n-2],e[n-1]),t.length<=4?null:t}function $x(e,t,n,i,a,s){const r=new Float32Array(s**2),o=-2*i**2,l=s>>1;for(let m=0;m<s;m++){const e=(m-l)**2;for(let t=0;t<s;t++)r[m*s+t]=Math.exp((e+(t-l)**2)/o)}const c=new Float32Array(256),d=-2*a**2;for(let m=0;m<256;m++)c[m]=Math.exp(m**2/d);const h=e.length,u=new Uint8Array(h),p=new Uint32Array(256);for(let m=0;m<n;m++)for(let i=0;i<t;i++){const a=m*t+i,o=e[a];let d=0,h=0;for(let u=0;u<s;u++){const a=m+u-l;if(!(a<0||a>=n))for(let n=0;n<s;n++){const p=i+n-l;if(p<0||p>=t)continue;const m=e[a*t+p],f=r[u*s+n]*c[Math.abs(m-o)];d+=m*f,h+=f}}p[u[a]=Math.round(d/h)]++}return[u,p]}function ew(e){const t=new Uint32Array(256);for(const n of e)t[n]++;return t}function tw(e){const t=e.length,n=new Uint8ClampedArray(t>>2);let i=-1/0,a=1/0;for(let r=0,o=n.length;r<o;r++){const t=n[r]=e[r<<2];i=Math.max(i,t),a=Math.min(a,t)}const s=255/(i-a);for(let r=0,o=n.length;r<o;r++)n[r]=(n[r]-a)*s;return n}function nw(e){let t,n=-1/0,i=-1/0;const a=e.findIndex(e=>0!==e);let s=a,r=a;for(t=a;t<256;t++){const a=e[t];a>n&&(t-s>i&&(i=t-s,r=t-1),n=a,s=t)}for(t=r-1;t>=0&&!(e[t]>e[t+1]);t--);return t}function iw(e){const t=e,{width:n,height:i}=e,{maxDim:a}=ns(ys,this,aw)._;let s=n,r=i;if(n>a||i>a){let o=n,l=i,c=Math.log2(Math.max(n,i)/a);const d=Math.floor(c);c=c===d?d-1:d;for(let n=0;n<c;n++){s=Math.ceil(o/2),r=Math.ceil(l/2);const n=new OffscreenCanvas(s,r);n.getContext("2d").drawImage(e,0,0,o,l,0,0,s,r),o=s,l=r,e!==t&&e.close(),e=n.transferToImageBitmap()}const h=Math.min(a/s,a/r);s=Math.round(s*h),r=Math.round(r*h)}const o=new OffscreenCanvas(s,r).getContext("2d",{willReadFrequently:!0});o.fillStyle="white",o.fillRect(0,0,s,r),o.filter="grayscale(1)",o.drawImage(e,0,0,e.width,e.height,0,0,s,r);const l=o.getImageData(0,0,s,r).data;return[ns(ys,this,tw).call(this,l),s,r]}ys=Vx;var aw={_:{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}},sw={_:new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1])};class rw extends Vy{constructor(){super(),super.updateProperties({fill:bd._defaultLineColor,"stroke-width":0})}clone(){const e=new rw;return e.updateAll(this),e}}class ow extends Hx{constructor(e){super(e),super.updateProperties({stroke:bd._defaultLineColor,"stroke-width":1})}clone(){const e=new ow(this._viewParameters);return e.updateAll(this),e}}var lw=new WeakMap,cw=new WeakMap,dw=new WeakMap,hw=new WeakMap;class uw extends Jy{constructor(e){super((0,a.A)((0,a.A)({},e),{},{mustBeCommitted:!0,name:"signatureEditor"})),ts(this,lw,!1),ts(this,cw,null),ts(this,dw,null),ts(this,hw,null),this._willKeepAspectRatio=!0,ss(dw,this,e.signatureData||null),ss(cw,this,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){bd.initialize(e,t),this._defaultDrawingOptions=new rw,this._defaultDrawnSignatureOptions=new ow(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return ur(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!as(cw,this)}}static computeTelemetryFinalData(e){var t,n;const i=e.get("hasDescription");return{hasAltText:null!==(t=i.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}get isResizable(){return!0}onScaleChanging(){null!==this._drawId&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:n}=this;if(n&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),null===this._drawId)if(as(dw,this)){const{lines:e,mustSmooth:t,areContours:n,description:i,uuid:a,heightInPage:s}=as(dw,this),{rawDims:{pageWidth:r,pageHeight:o},rotation:l}=this.parent.viewport,c=Vx.processDrawnLines({lines:e,pageWidth:r,pageHeight:o,rotation:l,innerMargin:uw._INNER_MARGIN,mustSmooth:t,areContours:n});this.addSignature(c,s,i,a)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:as(cw,this)||""}));return n&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){ss(hw,this,e),this.addEditToolbar()}getUuid(){return as(hw,this)}get description(){return as(cw,this)}set description(e){ss(cw,this,e),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{null===t||void 0===t||t.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:n,width:i,height:a}=as(dw,this),s=Math.max(i,a);return{areContours:t,outline:Vx.processDrawnLines({lines:{curves:e.map(e=>({points:e})),thickness:n,width:i,height:a},pageWidth:s,pageHeight:s,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t}).outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,n,i){const{x:a,y:s}=this,{outline:r}=ss(dw,this,e);let o;ss(lw,this,r instanceof Gx),this.description=n,as(lw,this)?o=uw.getDefaultDrawingOptions():(o=uw._defaultDrawnSignatureOptions.clone(),o.updateProperties({"stroke-width":r.thickness})),this._addOutlines({drawOutlines:r,drawingOptions:o});const[l,c]=this.parentDimensions,[,d]=this.pageDimensions;let h=t/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(l*this.width,c*this.height),this.x=a,this.y=s,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!n}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return Vx.process(e,t,n,i,uw._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:n,pageHeight:i},rotation:a}=this.parent.viewport;return Vx.extractContoursFromText(e,t,n,i,a,uw._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:n},rotation:i}=this.parent.viewport;return Vx.processDrawnLines({lines:e,pageWidth:t,pageHeight:n,rotation:i,innerMargin:uw._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions(e){let{areContours:t,thickness:n}=e;t?this._drawingOptions=uw.getDefaultDrawingOptions():(this._drawingOptions=uw._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;const{lines:t,points:n,rect:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":a}}=this,s={annotationType:Rs.SIGNATURE,isSignature:!0,areContours:as(lw,this),color:[0,0,0],thickness:as(lw,this)?0:a,pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return this.addComment(s),e?(s.paths={lines:t,points:n},s.uuid=as(hw,this),s.isCopy=!0):s.lines=t,as(cw,this)&&(s.accessibilityData={type:"Figure",alt:as(cw,this)}),s}static deserializeDraw(e,t,n,i,a,s){return s.areContours?Gx.deserialize(e,t,n,i,a,s):Rx.deserialize(e,t,n,i,a,s)}static async deserialize(e,t,n){var i;const a=await super.deserialize(e,t,n);return ss(lw,a,e.areContours),a.description=(null===(i=e.accessibilityData)||void 0===i?void 0:i.alt)||"",ss(hw,a,e.uuid),a}}(0,ws.A)(uw,"_type","signature"),(0,ws.A)(uw,"_editorType",Rs.SIGNATURE),(0,ws.A)(uw,"_defaultDrawingOptions",null);var pw=new WeakMap,mw=new WeakMap,fw=new WeakMap,gw=new WeakMap,vw=new WeakMap,bw=new WeakMap,yw=new WeakMap,xw=new WeakMap,ww=new WeakMap,Nw=new WeakMap,Aw=new WeakMap,kw=new WeakSet;class jw extends bd{constructor(e){super((0,a.A)((0,a.A)({},e),{},{name:"stampEditor"})),es(this,kw),ts(this,pw,null),ts(this,mw,null),ts(this,fw,null),ts(this,gw,null),ts(this,vw,null),ts(this,bw,""),ts(this,yw,null),ts(this,xw,!1),ts(this,ww,null),ts(this,Nw,!1),ts(this,Aw,!1),ss(gw,this,e.bitmapUrl),ss(vw,this,e.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){bd.initialize(e,t)}static isHandlingMimeForPasting(e){return Qr.includes(e)}static paste(e,t){t.pasteEditor({mode:Rs.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!(null===(e=this.altTextData)||void 0===e||!e.altText)}}static computeTelemetryFinalData(e){var t,n;const i=e.get("hasAltText");return{hasAltText:null!==(t=i.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=i.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:a,height:s}=e||this.copyCanvas(null,null,!0).imageData,r=await n.guess({name:"altText",request:{data:i,width:a,height:s,channels:i.length/(a*s)}});if(!r)throw new Error("No response from the AI service.");if(r.error)throw new Error("Error from the AI service.");if(r.cancel)return null;if(!r.output)throw new Error("No valid response from the AI service.");const o=r.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var e;as(mw,this)&&(ss(pw,this,null),this._uiManager.imageManager.deleteId(as(mw,this)),null===(e=as(yw,this))||void 0===e||e.remove(),ss(yw,this,null),as(ww,this)&&(clearTimeout(as(ww,this)),ss(ww,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(as(mw,this)&&null===as(yw,this)&&ns(kw,this,Sw).call(this),this.isAttachedToDOM||this.parent.add(this))):as(mw,this)&&ns(kw,this,Sw).call(this)}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(as(fw,this)||as(pw,this)||as(gw,this)||as(vw,this)||as(mw,this)||as(xw,this))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),as(xw,this)||(as(pw,this)?ns(kw,this,Ew).call(this):ns(kw,this,Sw).call(this)),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:n,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),n&&this._uiManager.imageManager.isValidId(n)&&(ss(mw,this,n),i&&ss(pw,this,i),ss(xw,this,!1),ns(kw,this,Ew).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;null!==as(ww,this)&&clearTimeout(as(ww,this));ss(ww,this,setTimeout(()=>{ss(ww,this,null),ns(kw,this,Pw).call(this)},200))}copyCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e||(e=224);const{width:i,height:a}=as(pw,this),s=new Jr;let r=as(pw,this),o=i,l=a,c=null;if(t){var d,h;if(i>t||a>t){const e=Math.min(t/i,t/a);o=Math.floor(i*e),l=Math.floor(a*e)}c=document.createElement("canvas");const e=c.width=Math.ceil(o*s.sx),n=c.height=Math.ceil(l*s.sy);as(Nw,this)||(r=ns(kw,this,Mw).call(this,e,n));const u=c.getContext("2d");u.filter=this._uiManager.hcmFilter;let p="white",m="#cfcfd8";"none"!==this._uiManager.hcmFilter?m="black":null!==(d=(h=window).matchMedia)&&void 0!==d&&d.call(h,"(prefers-color-scheme: dark)").matches&&(p="#8f8f9d",m="#42414d");const f=15,g=f*s.sx,v=f*s.sy,b=new OffscreenCanvas(2*g,2*v),y=b.getContext("2d");y.fillStyle=p,y.fillRect(0,0,2*g,2*v),y.fillStyle=m,y.fillRect(0,0,g,v),y.fillRect(g,v,g,v),u.fillStyle=u.createPattern(b,"repeat"),u.fillRect(0,0,e,n),u.drawImage(r,0,0,r.width,r.height,0,0,e,n)}let u=null;if(n){let t,n;if(s.symmetric&&r.width<e&&r.height<e)t=r.width,n=r.height;else if(r=as(pw,this),i>e||a>e){const s=Math.min(e/i,e/a);t=Math.floor(i*s),n=Math.floor(a*s),as(Nw,this)||(r=ns(kw,this,Mw).call(this,t,n))}const o=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});o.drawImage(r,0,0,r.width,r.height,0,0,t,n),u={width:t,height:n,data:o.getImageData(0,0,t,n).data}}return{canvas:c,width:o,height:l,imageData:u}}static async deserialize(e,t,n){let i=null,a=!1;if(e instanceof Rv){var s;const{data:{rect:r,rotation:o,id:l,structParent:c,popupRef:d,contentsObj:h},container:u,parent:{page:{pageNumber:p}},canvas:m}=e;let f,g;m?(delete e.canvas,({id:f,bitmap:g}=n.imageManager.getFromCanvas(u.id,m)),m.remove()):(a=!0,e._hasNoCanvas=!0);const v=(null===(s=await t._structTree.getAriaAttributes("".concat(Mr).concat(l)))||void 0===s?void 0:s.get("aria-label"))||"";i=e={annotationType:Rs.STAMP,bitmapId:f,bitmap:g,pageIndex:p-1,rect:r.slice(0),rotation:o,annotationElementId:l,id:l,deleted:!1,accessibilityData:{decorative:!1,altText:v},isSvg:!1,structParent:c,popupRef:d,comment:(null===h||void 0===h?void 0:h.str)||null}}const r=await super.deserialize(e,t,n),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:h,accessibilityData:u}=e;a?(n.addMissingCanvas(e.id,r),ss(xw,r,!0)):d&&n.imageManager.isValidId(d)?(ss(mw,r,d),l&&ss(pw,r,l)):ss(gw,r,c),ss(Nw,r,h);const[p,m]=r.pageDimensions;return r.width=(o[2]-o[0])/p,r.height=(o[3]-o[1])/m,u&&(r.altTextData=u),r._initialData=i,e.comment&&r.setCommentData(e.comment),ss(Aw,r,!!i),r}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:Rs.STAMP,bitmapId:as(mw,this),pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,isSvg:as(Nw,this),structTreeParentId:this._structTreeParentId};if(this.addComment(n),e)return n.bitmapUrl=ns(kw,this,Lw).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n.isCopy=!0,n;const{decorative:i,altText:a}=this.serializeAltText(!1);if(!i&&a&&(n.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const e=ns(kw,this,Tw).call(this,n);if(e.isSame)return null;var s;if(e.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(s=this._initialData.structParent)&&void 0!==s?s:-1}if(n.id=this.annotationElementId,null===t)return n;t.stamps||(t.stamps=new Map);const r=as(Nw,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(as(mw,this))){if(as(Nw,this)){const e=t.stamps.get(as(mw,this));r>e.area&&(e.area=r,e.serialized.bitmap.close(),e.serialized.bitmap=ns(kw,this,Lw).call(this,!1))}}else t.stamps.set(as(mw,this),{area:r,serialized:n}),n.bitmap=ns(kw,this,Lw).call(this,!1);return n}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const t={rect:this.getPDFRect()};return this.hasEditedComment&&(t.popup=this.comment),e.updateEdited(t),null}}function Cw(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(ss(pw,this,e.bitmap),t||(ss(mw,this,e.id),ss(Nw,this,e.isSvg)),e.file&&ss(bw,this,e.file.name),ns(kw,this,Ew).call(this)):this.remove()}function _w(){if(ss(fw,this,null),this._uiManager.enableWaiting(!1),as(yw,this))if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&as(pw,this))this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});else{if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&as(pw,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(e){}}this.div.focus()}}function Sw(){if(as(mw,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(as(mw,this)).then(e=>ns(kw,this,Cw).call(this,e,!0)).finally(()=>ns(kw,this,_w).call(this));if(as(gw,this)){const e=as(gw,this);return ss(gw,this,null),this._uiManager.enableWaiting(!0),void ss(fw,this,this._uiManager.imageManager.getFromUrl(e).then(e=>ns(kw,this,Cw).call(this,e)).finally(()=>ns(kw,this,_w).call(this)))}if(as(vw,this)){const e=as(vw,this);return ss(vw,this,null),this._uiManager.enableWaiting(!0),void ss(fw,this,this._uiManager.imageManager.getFromFile(e).then(e=>ns(kw,this,Cw).call(this,e)).finally(()=>ns(kw,this,_w).call(this)))}const e=document.createElement("input");e.type="file",e.accept=Qr.join(",");const t=this._uiManager._signal;ss(fw,this,new Promise(n=>{e.addEventListener("change",async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ns(kw,this,Cw).call(this,t)}else this.remove();n()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),n()},{signal:t})}).finally(()=>ns(kw,this,_w).call(this))),e.click()}function Ew(){var e;const{div:t}=this;let{width:n,height:i}=as(pw,this);const[a,s]=this.pageDimensions,r=.75;if(this.width)n=this.width*a,i=this.height*s;else if(n>r*a||i>r*s){const e=Math.min(r*a/n,r*s/i);n*=e,i*=e}const[o,l]=this.parentDimensions;this.setDims(n*o/a,i*l/s),this._uiManager.enableWaiting(!1);const c=ss(yw,this,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=n/a,this.height=i/s,null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(t.hidden=!1),ns(kw,this,Pw).call(this),as(Aw,this)||(this.parent.addUndoableEditor(this),ss(Aw,this,!0)),this._reportTelemetry({action:"inserted_image"}),as(bw,this)&&this.div.setAttribute("aria-description",as(bw,this)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}function Mw(e,t){const{width:n,height:i}=as(pw,this);let a=n,s=i,r=as(pw,this);for(;a>2*e||s>2*t;){const n=a,i=s;a>2*e&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const o=new OffscreenCanvas(a,s);o.getContext("2d").drawImage(r,0,0,n,i,0,0,a,s),r=o.transferToImageBitmap()}return r}function Pw(){const[e,t]=this.parentDimensions,{width:n,height:i}=this,a=new Jr,s=Math.ceil(n*e*a.sx),r=Math.ceil(i*t*a.sy),o=as(yw,this);if(!o||o.width===s&&o.height===r)return;o.width=s,o.height=r;const l=as(Nw,this)?as(pw,this):ns(kw,this,Mw).call(this,s,r),c=o.getContext("2d");c.filter=this._uiManager.hcmFilter,c.drawImage(l,0,0,l.width,l.height,0,0,s,r)}function Lw(e){if(e){if(as(Nw,this)){const e=this._uiManager.imageManager.getSvgUrl(as(mw,this));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=as(pw,this));return e.getContext("2d").drawImage(as(pw,this),0,0),e.toDataURL()}if(as(Nw,this)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*Ir.PDF_TO_CSS_UNITS),i=Math.round(this.height*t*Ir.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(n,i);return a.getContext("2d").drawImage(as(pw,this),0,0,as(pw,this).width,as(pw,this).height,0,0,n,i),a.transferToImageBitmap()}return structuredClone(as(pw,this))}function Tw(e){var t;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,a=e.pageIndex===n,s=((null===(t=e.accessibilityData)||void 0===t?void 0:t.alt)||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}}(0,ws.A)(jw,"_type","stamp"),(0,ws.A)(jw,"_editorType",Rs.STAMP);var Iw=new WeakMap,Fw=new WeakMap,Rw=new WeakMap,Dw=new WeakMap,Bw=new WeakMap,Ow=new WeakMap,Ww=new WeakMap,Hw=new WeakMap,zw=new WeakMap,Uw=new WeakMap,qw=new WeakMap,Gw=new WeakMap,Vw=new WeakMap,Yw=new WeakMap,Kw=new WeakMap,Xw=new WeakMap,Jw=new WeakSet;class Qw{constructor(e){let{uiManager:t,pageIndex:n,div:i,structTreeLayer:a,accessibilityManager:s,annotationLayer:r,drawLayer:o,textLayer:l,viewport:c,l10n:d}=e;es(this,Jw),ts(this,Iw,void 0),ts(this,Fw,!1),ts(this,Rw,null),ts(this,Dw,null),ts(this,Bw,null),ts(this,Ow,new Map),ts(this,Ww,!1),ts(this,Hw,!1),ts(this,zw,!1),ts(this,Uw,null),ts(this,qw,null),ts(this,Gw,null),ts(this,Vw,null),ts(this,Yw,null),ts(this,Kw,-1),ts(this,Xw,void 0);const h=[...iN._.values()];if(!Qw._initialized){Qw._initialized=!0;for(const e of h)e.initialize(d,t)}t.registerEditorTypes(h),ss(Xw,this,t),this.pageIndex=n,this.div=i,ss(Iw,this,s),ss(Rw,this,r),this.viewport=c,ss(Gw,this,l),this.drawLayer=o,this._structTree=a,as(Xw,this).addLayer(this)}get isEmpty(){return 0===as(Ow,this).size}get isInvisible(){return this.isEmpty&&as(Xw,this).getMode()===Rs.NONE}updateToolbar(e){as(Xw,this).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:as(Xw,this).getMode();switch(ns(Jw,this,nN).call(this),e){case Rs.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Rs.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Rs.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of iN._.values())t.toggle("".concat(n._type,"Editing"),e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===(null===(t=as(Gw,this))||void 0===t?void 0:t.div)}setEditingState(e){as(Xw,this).setEditingState(e)}addCommands(e){as(Xw,this).addCommands(e)}cleanUndoStack(e){as(Xw,this).cleanUndoStack(e)}toggleDrawing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=as(Rw,this))||void 0===e||e.div.classList.toggle("disabled",!t)}async enable(){var e;ss(zw,this,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),null===(e=as(Yw,this))||void 0===e||e.abort(),ss(Yw,this,null);const t=new Set;for(const i of as(Ow,this).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(as(Xw,this).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!as(Rw,this))return void ss(zw,this,!1);const n=as(Rw,this).getEditableAnnotations();for(const i of n){if(i.hide(),as(Xw,this).isDeletedAnnotationElement(i.data.id))continue;if(t.has(i.data.id))continue;const e=await this.deserialize(i);e&&(this.addOrRebuild(e),e.enableEditing())}ss(zw,this,!1)}disable(){if(ss(Hw,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),as(Gw,this)&&!as(Yw,this)){ss(Yw,this,new AbortController);const e=as(Xw,this).combinedSignal(as(Yw,this));as(Gw,this).div.addEventListener("pointerdown",e=>{const{clientX:t,clientY:n,timeStamp:i}=e;if(i-as(Kw,this)>500)return void ss(Kw,this,i);ss(Kw,this,-1);const{classList:a}=this.div;a.toggle("getElements",!0);const s=document.elementsFromPoint(t,n);if(a.toggle("getElements",!1),!this.div.contains(s[0]))return;let r;const o=new RegExp("^".concat(Fs,"[0-9]+$"));for(const c of s)if(o.test(c.id)){r=c.id;break}if(!r)return;const l=as(Ow,this).get(r);null===(null===l||void 0===l?void 0:l.annotationElementId)&&(e.stopPropagation(),e.preventDefault(),l.dblclick())},{signal:e,capture:!0})}const e=new Map,t=new Map;for(const a of as(Ow,this).values()){var n;a.disableEditing(),a.annotationElementId&&(null===a.serialize()?(t.set(a.annotationElementId,a),null===(n=this.getEditableAnnotation(a.annotationElementId))||void 0===n||n.show(),a.remove()):e.set(a.annotationElementId,a))}if(as(Rw,this)){const n=as(Rw,this).getEditableAnnotations();for(const i of n){const{id:n}=i.data;if(as(Xw,this).isDeletedAnnotationElement(n)){i.updateEdited({deleted:!0});continue}let a=t.get(n);a?(a.resetAnnotationElement(i),a.show(!1),i.show()):(a=e.get(n),a&&(as(Xw,this).addChangedExistingAnnotation(a),a.renderAnnotationElement(i)&&a.show(!1)),i.show())}}ns(Jw,this,nN).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of iN._.values())i.remove("".concat(a._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),ss(Hw,this,!1)}getEditableAnnotation(e){var t;return(null===(t=as(Rw,this))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){as(Xw,this).getActive()!==e&&as(Xw,this).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,null!==(e=as(Gw,this))&&void 0!==e&&e.div&&!as(Vw,this)){ss(Vw,this,new AbortController);const e=as(Xw,this).combinedSignal(as(Vw,this));as(Gw,this).div.addEventListener("pointerdown",ns(Jw,this,Zw).bind(this),{signal:e}),as(Gw,this).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,null!==(e=as(Gw,this))&&void 0!==e&&e.div&&as(Vw,this)&&(as(Vw,this).abort(),ss(Vw,this,null),as(Gw,this).div.classList.remove("highlighting"))}enableClick(){if(as(Dw,this))return;ss(Dw,this,new AbortController);const e=as(Xw,this).combinedSignal(as(Dw,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;null===(e=as(Dw,this))||void 0===e||e.abort(),ss(Dw,this,null)}attach(e){as(Ow,this).set(e.id,e);const{annotationElementId:t}=e;t&&as(Xw,this).isDeletedAnnotationElement(t)&&as(Xw,this).removeDeletedAnnotationElement(e)}detach(e){var t;as(Ow,this).delete(e.id),null===(t=as(Iw,this))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!as(Hw,this)&&e.annotationElementId&&as(Xw,this).addDeletedAnnotationElement(e)}remove(e){this.detach(e),as(Xw,this).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(as(Xw,this).addDeletedAnnotationElement(e.annotationElementId),bd.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),as(Xw,this).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!as(zw,this)),as(Xw,this).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!as(Bw,this)&&(e._focusEventsAllowed=!1,ss(Bw,this,setTimeout(()=>{ss(Bw,this,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:as(Xw,this)._signal}),n.focus())},0))),e._structTreeParentId=null===(t=as(Iw,this))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return as(Xw,this).getId()}combinedSignal(e){return as(Xw,this).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return null===(e=is(Jw,this,$w))||void 0===e?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await as(Xw,this).updateMode(e.mode);const{offsetX:n,offsetY:i}=ns(Jw,this,tN).call(this),s=this.getNextId(),r=ns(Jw,this,eN).call(this,(0,a.A)({parent:this,id:s,x:n,y:i,uiManager:as(Xw,this),isCentered:!0},t));r&&this.add(r)}async deserialize(e){var t,n;return await(null===(t=iN._.get(null!==(n=e.annotationType)&&void 0!==n?n:e.annotationEditorType))||void 0===t?void 0:t.deserialize(e,this,as(Xw,this)))||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=this.getNextId(),s=ns(Jw,this,eN).call(this,(0,a.A)({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:as(Xw,this),isCentered:t},n));return s&&this.add(s),s}addNewEditor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.createAndAddNewEditor(ns(Jw,this,tN).call(this),!0,e)}setSelected(e){as(Xw,this).setSelected(e)}toggleSelected(e){as(Xw,this).toggleSelected(e)}unselect(e){as(Xw,this).unselect(e)}pointerup(e){var t;const{isMac:n}=Nr.platform;if(0!==e.button||e.ctrlKey&&n)return;if(e.target!==this.div)return;if(!as(Ww,this))return;if(ss(Ww,this,!1),null!==(t=is(Jw,this,$w))&&void 0!==t&&t.isDrawer&&is(Jw,this,$w).supportMultipleDrawings)return;if(!as(Fw,this))return void ss(Fw,this,!0);const i=as(Xw,this).getMode();i!==Rs.STAMP&&i!==Rs.SIGNATURE?this.createAndAddNewEditor(e,!1):as(Xw,this).unselectAll()}pointerdown(e){var t;if(as(Xw,this).getMode()===Rs.HIGHLIGHT&&this.enableTextSelection(),as(Ww,this))return void ss(Ww,this,!1);const{isMac:n}=Nr.platform;if(0!==e.button||e.ctrlKey&&n)return;if(e.target!==this.div)return;if(ss(Ww,this,!0),null!==(t=is(Jw,this,$w))&&void 0!==t&&t.isDrawer)return void this.startDrawingSession(e);const i=as(Xw,this).getActive();ss(Fw,this,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),as(Uw,this))return void is(Jw,this,$w).startDrawing(this,as(Xw,this),!1,e);as(Xw,this).setCurrentDrawingSession(this),ss(Uw,this,new AbortController);const t=as(Xw,this).combinedSignal(as(Uw,this));this.div.addEventListener("blur",e=>{let{relatedTarget:t}=e;t&&!this.div.contains(t)&&(ss(qw,this,null),this.commitOrRemove())},{signal:t}),is(Jw,this,$w).startDrawing(this,as(Xw,this),!1,e)}pause(e){if(e){const{activeElement:e}=document;return void(this.div.contains(e)&&ss(qw,this,e))}as(qw,this)&&setTimeout(()=>{var e;null===(e=as(qw,this))||void 0===e||e.focus(),ss(qw,this,null)},0)}endDrawingSession(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return as(Uw,this)?(as(Xw,this).setCurrentDrawingSession(null),as(Uw,this).abort(),ss(Uw,this,null),ss(qw,this,null),is(Jw,this,$w).endDrawing(e)):null}findNewParent(e,t,n){const i=as(Xw,this).findParent(t,n);return null!==i&&i!==this&&(i.changeParent(e),!0)}commitOrRemove(){return!!as(Uw,this)&&(this.endDrawingSession(),!0)}onScaleChanging(){as(Uw,this)&&is(Jw,this,$w).onScaleChangingWhenDrawing(this)}destroy(){var e;this.commitOrRemove(),(null===(e=as(Xw,this).getActive())||void 0===e?void 0:e.parent)===this&&(as(Xw,this).commitOrRemove(),as(Xw,this).setActiveEditor(null)),as(Bw,this)&&(clearTimeout(as(Bw,this)),ss(Bw,this,null));for(const n of as(Ow,this).values()){var t;null===(t=as(Iw,this))||void 0===t||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,as(Ow,this).clear(),as(Xw,this).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,Xr(this.div,t);for(const n of as(Xw,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;as(Xw,this).commitOrRemove(),ns(Jw,this,nN).call(this);const n=this.viewport.rotation,i=t.rotation;if(this.viewport=t,Xr(this.div,{rotation:i}),n!==i)for(const a of as(Ow,this).values())a.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return as(Xw,this).viewParameters.realScale}}function Zw(e){as(Xw,this).unselectAll();const{target:t}=e;if(t===as(Gw,this).div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&as(Gw,this).div.contains(t)){const{isMac:t}=Nr.platform;if(0!==e.button||e.ctrlKey&&t)return;as(Xw,this).showAllEditors("highlight",!0,!0),as(Gw,this).div.classList.add("free"),this.toggleDrawing(),Sy.startHighlighting(this,"ltr"===as(Xw,this).direction,{target:as(Gw,this).div,x:e.x,y:e.y}),as(Gw,this).div.addEventListener("pointerup",()=>{as(Gw,this).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:as(Xw,this)._signal}),e.preventDefault()}}function $w(e){return iN._.get(as(Xw,e).getMode())}function eN(e){const t=is(Jw,this,$w);return t?new t.prototype.constructor(e):null}function tN(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),a=Math.max(0,e),s=Math.max(0,t),r=(a+Math.min(window.innerWidth,e+n))/2-e,o=(s+Math.min(window.innerHeight,t+i))/2-t,[l,c]=this.viewport.rotation%180===0?[r,o]:[o,r];return{offsetX:l,offsetY:c}}function nN(){for(const e of as(Ow,this).values())e.isEmpty()&&e.remove()}(0,ws.A)(Qw,"_initialized",!1);var iN={_:new Map([nb,Ux,jw,Sy,uw].map(e=>[e._editorType,e]))},aN=new WeakMap,sN=new WeakMap,rN=new WeakMap,oN=new WeakSet;class lN{constructor(e){let{pageIndex:t}=e;es(this,oN),ts(this,aN,null),ts(this,sN,new Map),ts(this,rN,new Map),this.pageIndex=t}setParent(e){if(as(aN,this)){if(as(aN,this)!==e){if(as(sN,this).size>0)for(const t of as(sN,this).values())t.remove(),e.append(t);ss(aN,this,e)}}else ss(aN,this,e)}static get _svgFactory(){return ur(this,"_svgFactory",new rg)}draw(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=(pN._=(t=pN._,n=t++,t),n),r=ns(oN,this,dN).call(this),o=lN._svgFactory.createElement("defs");r.append(o);const l=lN._svgFactory.createElement("path");o.append(l);const c="path_p".concat(this.pageIndex,"_").concat(s);l.setAttribute("id",c),l.setAttribute("vector-effect","non-scaling-stroke"),i&&as(rN,this).set(s,l);const d=a?ns(oN,this,hN).call(this,o,c):null,h=lN._svgFactory.createElement("use");return r.append(h),h.setAttribute("href","#".concat(c)),this.updateProperties(r,e),as(sN,this).set(s,r),{id:s,clipPathId:"url(#".concat(d,")")}}drawOutline(e,t){var n,i;const a=(pN._=(n=pN._,i=n++,n),i),s=ns(oN,this,dN).call(this),r=lN._svgFactory.createElement("defs");s.append(r);const o=lN._svgFactory.createElement("path");r.append(o);const l="path_p".concat(this.pageIndex,"_").concat(a);let c;if(o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t){const e=lN._svgFactory.createElement("mask");r.append(e),c="mask_p".concat(this.pageIndex,"_").concat(a),e.setAttribute("id",c),e.setAttribute("maskUnits","objectBoundingBox");const t=lN._svgFactory.createElement("rect");e.append(t),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("fill","white");const n=lN._svgFactory.createElement("use");e.append(n),n.setAttribute("href","#".concat(l)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const d=lN._svgFactory.createElement("use");s.append(d),d.setAttribute("href","#".concat(l)),c&&d.setAttribute("mask","url(#".concat(c,")"));const h=d.cloneNode();return s.append(h),d.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(s,e),as(sN,this).set(a,s),a}finalizeDraw(e,t){as(rN,this).delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:n,bbox:i,rootClass:a,path:s}=t,r="number"===typeof e?as(sN,this).get(e):e;if(r){if(n&&ns(oN,this,uN).call(this,r,n),i&&cN.call(lN,r,i),a){const{classList:e}=r;for(const[t,n]of Object.entries(a))e.toggle(t,n)}if(s){const e=r.firstChild.firstChild;ns(oN,this,uN).call(this,e,s)}}}updateParent(e,t){if(t===this)return;const n=as(sN,this).get(e);n&&(as(aN,t).append(n),as(sN,this).delete(e),as(sN,t).set(e,n))}remove(e){as(rN,this).delete(e),null!==as(aN,this)&&(as(sN,this).get(e).remove(),as(sN,this).delete(e))}destroy(){ss(aN,this,null);for(const e of as(sN,this).values())e.remove();as(sN,this).clear(),as(rN,this).clear()}}function cN(e,t){let[n,i,a,s]=t;const{style:r}=e;r.top="".concat(100*i,"%"),r.left="".concat(100*n,"%"),r.width="".concat(100*a,"%"),r.height="".concat(100*s,"%")}function dN(){const e=xs._svgFactory.create(1,1,!0);return as(aN,this).append(e),e.setAttribute("aria-hidden",!0),e}function hN(e,t){const n=xs._svgFactory.createElement("clipPath");e.append(n);const i="clip_".concat(t);n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const a=xs._svgFactory.createElement("use");return n.append(a),a.setAttribute("href","#".concat(t)),a.classList.add("clip"),i}function uN(e,t){for(const[n,i]of Object.entries(t))null===i?e.removeAttribute(n):e.setAttribute(n,i)}xs=lN;var pN={_:0};globalThis._pdfjsTestingUtils={HighlightOutliner:Zb},globalThis.pdfjsLib={AbortException:yr,AnnotationEditorLayer:Qw,AnnotationEditorParamsType:Ds,AnnotationEditorType:Rs,AnnotationEditorUIManager:Rl,AnnotationLayer:Vv,AnnotationMode:Is,AnnotationType:Gs,build:"9e2e9e209",ColorPicker:Uf,createValidAbsoluteUrl:dr,DOMSVGFactory:rg,DrawLayer:lN,FeatureTest:Nr,fetchData:Fr,getDocument:qm,getFilenameFromUrl:function(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)},getPdfFilenameFromUrl:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(Br(e))return or('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=(e=>{try{return new URL(e)}catch(t){try{return new URL(decodeURIComponent(e))}catch(n){try{return new URL(e,"https://foo.bar")}catch(i){try{return new URL(decodeURIComponent(e),"https://foo.bar")}catch(a){return null}}}}})(e);if(!n)return t;const i=e=>{try{let t=decodeURIComponent(e);return t.includes("/")?(t=t.split("/").at(-1),t.test(/^\.pdf$/i)?t:e):t}catch(t){return e}},a=/\.pdf$/i,s=n.pathname.split("/").at(-1);if(a.test(s))return i(s);if(n.searchParams.size>0){const e=Array.from(n.searchParams.values()).reverse();for(const n of e)if(a.test(n))return i(n);const t=Array.from(n.searchParams.keys()).reverse();for(const n of t)if(a.test(n))return i(n)}if(n.hash){const e=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(n.hash);if(e)return i(e[0])}return t},getRGB:Vr,getUuid:Er,getXfaPageViewport:function(e,t){let{scale:n=1,rotation:i=0}=t;const{width:a,height:s}=e.attributes.style,r=[0,0,parseInt(a),parseInt(s)];return new Rr({viewBox:r,userUnit:1,scale:n,rotation:i})},GlobalWorkerOptions:yp,ImageKind:qs,InvalidPDFException:gr,isDataScheme:Br,isPdfFile:Or,isValidExplicitDest:ih,MathClamp:Pr,noContextMenu:zr,normalizeUnicode:function(e){return _r||(_r=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,Sr=new Map([["\ufb05","\u017ft"]])),e.replaceAll(_r,(e,t,n)=>t?t.normalize("NFKC"):Sr.get(n))},OPS:Zs,OutputScale:Jr,PasswordResponses:{NEED_PASSWORD:1,INCORRECT_PASSWORD:2},PDFDataRangeTransport:Zm,PDFDateString:qr,PDFWorker:df,PermissionFlag:{PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},PixelsPerInch:Ir,RenderingCancelledException:Dr,ResponseException:vr,setLayerDimensions:Xr,shadow:ur,SignatureExtractor:Vx,stopEvent:Ur,SupportedImageMimeTypes:Qr,TextLayer:Mm,TouchManager:zc,updateUrlHash:hr,Util:kr,VerbosityLevel:Qs,version:"5.4.149",XfaLayer:og},yp.workerSrc="/pdf.worker.min.js";const mN=()=>{const[t,n]=(0,e.useState)("invoices"),[i,s]=(0,e.useState)([]),[r,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(!1),[d,h]=(0,e.useState)({businessLogo:null,businessName:"",businessAddress:"",businessEmail:"",businessPhone:"",businessWebsite:"",taxNumber:"",standardTerms:"Payment is due within 30 days of invoice date. Late payments may incur additional charges.",standardNotes:"Thank you for your business!",footerText:"For any queries regarding this invoice, please contact us.",colorScheme:"professional"}),[u,p]=(0,e.useState)(null),[m,f]=(0,e.useState)({id:"",clientName:"",clientEmail:"",clientAddress:"",description:"",amount:"",date:(new Date).toISOString().split("T")[0],status:"draft",invoiceImage:null,template:"professional",businessName:"",businessAddress:"",businessEmail:"",businessPhone:"",taxNumber:"",paymentTerms:"30 days",notes:""});(0,e.useEffect)(()=>{const e=localStorage.getItem("invoices"),t=localStorage.getItem("expenses"),i=localStorage.getItem("invoiceCustomization"),a=localStorage.getItem("openExpensesTab");e&&s(JSON.parse(e)),t&&o(JSON.parse(t)),i&&h(JSON.parse(i)),"true"===a&&(n("expenses"),localStorage.removeItem("openExpensesTab"));const r=localStorage.getItem("currentAssessmentPeriod");r&&p(JSON.parse(r))},[]),(0,e.useEffect)(()=>{localStorage.setItem("invoices",JSON.stringify(i))},[i]),(0,e.useEffect)(()=>{localStorage.setItem("expenses",JSON.stringify(r))},[r]),(0,e.useEffect)(()=>{localStorage.setItem("invoiceCustomization",JSON.stringify(d))},[d]),(0,e.useEffect)(()=>{(d.businessName||d.businessEmail||d.businessPhone||d.businessAddress||d.taxNumber)&&f(e=>(0,a.A)((0,a.A)({},e),{},{businessName:d.businessName||e.businessName,businessEmail:d.businessEmail||e.businessEmail,businessPhone:d.businessPhone||e.businessPhone,businessAddress:d.businessAddress||e.businessAddress,taxNumber:d.taxNumber||e.taxNumber}))},[d]);const g=()=>Date.now().toString(36)+Math.random().toString(36).substr(2),v=e=>{const t={amount:"",date:"",description:"",category:"uncategorized",vendor:""};if(!e||"string"!==typeof e)return t;const n=[/\xa3\s*(\d+\.?\d*)/g,/(\d+\.?\d*)\s*\xa3/g,/total[:\s]*\xa3?\s*(\d+\.?\d*)/gi,/amount[:\s]*\xa3?\s*(\d+\.?\d*)/gi,/(\d+\.?\d*)\s*GBP/gi,/(\d+\.?\d*)\s*USD/gi,/(\d+\.?\d*)\s*EUR/gi];for(const l of n){const n=e.match(l);if(n){t.amount=n[0].replace(/[\xa3$\u20acGBPUSD\s]/gi,"");break}}const i=[/(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4})/g,/(\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2})/g,/(\d{1,2}\s+(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s+\d{2,4})/gi,/((?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)[a-z]*\s+\d{1,2},?\s+\d{2,4})/gi];for(const l of i){const n=e.match(l);if(n){t.date=n[0];break}}const a=[/(?:from|merchant|vendor|store)[:\s]*([A-Za-z\s&]+)/gi,/^([A-Za-z\s&]+)\s*(?:receipt|invoice|bill)/gi,/([A-Za-z\s&]{3,})\s*(?:ltd|limited|inc|corp|company)/gi];for(const l of a){const n=e.match(l);if(n&&n[1]&&n[1].trim().length>2){t.vendor=n[1].trim();break}}const s=["fuel","petrol","diesel","gas","office","stationery","supplies","travel","transport","taxi","bus","train","meal","food","restaurant","lunch","dinner","hotel","accommodation","lodging","phone","mobile","telephone","internet","broadband","wifi","insurance","premium","policy","rent","lease","rental","utilities","electricity","gas","water","marketing","advertising","promotion","training","course","education","software","subscription","license"],r=e.toLowerCase();for(const l of s)if(r.includes(l)){t.category=l;break}const o=e.split("\n").filter(e=>e&&e.trim().length>5);return o.length>0&&o[0]&&(t.description=o[0].trim().substring(0,100)),t},{getRootProps:b,getInputProps:y,isDragActive:x}=Va({onDrop:async e=>{c(!0);for(const s of e)try{let e="",a="unknown";if(s.type.startsWith("image/"))try{const{data:{text:t}}=await Qa().recognize(s,"eng");e=t||"Image: ".concat(s.name,"\n\nNote: Could not extract text from this image. Please manually enter the expense details below."),a="image"}catch(t){console.error("OCR processing error:",t),e="Image: ".concat(s.name,"\n\nError: Could not process this image. Please manually enter the expense details below."),a="image"}else if("application/pdf"===s.type)try{const t=await s.arrayBuffer(),n=await qm({data:t}).promise;let i="";for(let e=1;e<=n.numPages;e++){const t=await n.getPage(e),a=await t.getTextContent();i+=a.items.map(e=>e.str||"").join(" ")+"\n"}e=i?i.trim():"PDF Document: ".concat(s.name,"\n\nNote: No readable text found in this PDF. Please manually enter the expense details below."),a="pdf"}catch(n){console.error("PDF processing error:",n),e="PDF Document: ".concat(s.name,"\n\nError: Could not extract text from this PDF. Please manually enter the expense details below."),a="pdf"}else if("text/html"===s.type)try{const t=await s.text();e=t?t.replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim():"HTML: ".concat(s.name,"\n\nNote: Could not read HTML content. Please manually enter the expense details below."),a="html"}catch(i){console.error("HTML processing error:",i),e="HTML: ".concat(s.name,"\n\nError: Could not process this HTML file. Please manually enter the expense details below."),a="html"}else e="File: ".concat(s.name,"\n\nPlease manually enter the amount and date below."),a="other";const r=v(e),l={id:g(),filename:s.name,amount:r.amount||"0",date:r.date||(new Date).toISOString().split("T")[0],description:r.description||e.substring(0,100)+(e.length>100?"...":""),fullText:e,category:r.category||"uncategorized",vendor:r.vendor||"",fileType:a,createdAt:(new Date).toISOString()};o(e=>[...e,l])}catch(a){console.error("Error processing file:",a),alert("Error processing ".concat(s.name,": ").concat(a.message))}c(!1)},accept:{"image/*":[".jpeg",".jpg",".png",".gif",".bmp",".webp"],"application/pdf":[".pdf"],"text/html":[".html",".htm"]}});return(0,Ct.jsxs)("div",{className:"invoices-receipts-container",children:[(0,Ct.jsxs)("div",{className:"page-header",children:[(0,Ct.jsx)("h1",{children:"Invoices & Receipts"}),(0,Ct.jsx)("p",{children:"Digitally store and organize all your receipts and invoices, with automatic categorization for tax purposes."}),u&&(0,Ct.jsxs)("div",{className:"period-context",children:[(0,Ct.jsxs)("h3",{children:["Current Assessment Period: ",u.month]}),(0,Ct.jsxs)("p",{children:["Period: ",u.start," - ",u.end]}),(0,Ct.jsx)("button",{className:"clear-period-btn",onClick:()=>{p(null),localStorage.removeItem("currentAssessmentPeriod")},children:"Clear Period Context"})]})]}),(0,Ct.jsxs)("div",{className:"tabs",children:[(0,Ct.jsxs)("button",{className:"tab ".concat("invoices"===t?"active":""),onClick:()=>n("invoices"),children:["Invoices (",i.length,")"]}),(0,Ct.jsxs)("button",{className:"tab ".concat("expenses"===t?"active":""),onClick:()=>n("expenses"),children:["Expenses (",r.length,")"]}),(0,Ct.jsx)("button",{className:"tab ".concat("customization"===t?"active":""),onClick:()=>n("customization"),children:"Customization"}),(0,Ct.jsx)("button",{className:"tab ".concat("export"===t?"active":""),onClick:()=>n("export"),children:"Export Data"})]}),"invoices"===t&&(0,Ct.jsxs)("div",{className:"invoices-tab",children:[(0,Ct.jsxs)("div",{className:"create-invoice-section",children:[(0,Ct.jsx)("h3",{children:"Create Professional Invoice"}),(0,Ct.jsxs)("div",{className:"invoice-form",children:[(0,Ct.jsxs)("div",{className:"form-section",children:[(0,Ct.jsx)("h4",{children:"Your Business Information"}),(0,Ct.jsx)("p",{className:"form-help-text",children:"\ud83d\udca1 Business information is automatically filled from your customization settings. You can override any field below or update your defaults in the Customization tab."}),(0,Ct.jsxs)("div",{className:"form-row",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Business Name *"}),(0,Ct.jsx)("input",{type:"text",value:m.businessName,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{businessName:e.target.value})),placeholder:"Your Business Name"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Business Email"}),(0,Ct.jsx)("input",{type:"email",value:m.businessEmail,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{businessEmail:e.target.value})),placeholder:"business@example.com"})]})]}),(0,Ct.jsxs)("div",{className:"form-row",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Business Phone"}),(0,Ct.jsx)("input",{type:"tel",value:m.businessPhone,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{businessPhone:e.target.value})),placeholder:"+44 123 456 7890"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Tax/VAT Number"}),(0,Ct.jsx)("input",{type:"text",value:m.taxNumber,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{taxNumber:e.target.value})),placeholder:"GB123456789"})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Business Address"}),(0,Ct.jsx)("textarea",{value:m.businessAddress,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{businessAddress:e.target.value})),placeholder:"Enter your business address",rows:"3"})]})]}),(0,Ct.jsxs)("div",{className:"form-section",children:[(0,Ct.jsx)("h4",{children:"Client Information"}),(0,Ct.jsxs)("div",{className:"form-row",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Client Name *"}),(0,Ct.jsx)("input",{type:"text",value:m.clientName,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{clientName:e.target.value})),placeholder:"Enter client name"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Client Email"}),(0,Ct.jsx)("input",{type:"email",value:m.clientEmail,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{clientEmail:e.target.value})),placeholder:"client@example.com"})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Client Address"}),(0,Ct.jsx)("textarea",{value:m.clientAddress,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{clientAddress:e.target.value})),placeholder:"Enter client address",rows:"3"})]})]}),(0,Ct.jsxs)("div",{className:"form-section",children:[(0,Ct.jsx)("h4",{children:"Invoice Details"}),(0,Ct.jsxs)("div",{className:"form-row",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Amount *"}),(0,Ct.jsx)("input",{type:"number",step:"0.01",value:m.amount,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{amount:e.target.value})),placeholder:"0.00"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Date"}),(0,Ct.jsx)("input",{type:"date",value:m.date,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{date:e.target.value}))})]})]}),(0,Ct.jsxs)("div",{className:"form-row",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Payment Terms"}),(0,Ct.jsxs)("select",{value:m.paymentTerms,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{paymentTerms:e.target.value})),children:[(0,Ct.jsx)("option",{value:"Due on receipt",children:"Due on receipt"}),(0,Ct.jsx)("option",{value:"7 days",children:"7 days"}),(0,Ct.jsx)("option",{value:"14 days",children:"14 days"}),(0,Ct.jsx)("option",{value:"30 days",children:"30 days"}),(0,Ct.jsx)("option",{value:"60 days",children:"60 days"}),(0,Ct.jsx)("option",{value:"90 days",children:"90 days"})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Invoice Template"}),(0,Ct.jsxs)("select",{value:m.template,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{template:e.target.value})),children:[(0,Ct.jsx)("option",{value:"professional",children:"Professional"}),(0,Ct.jsx)("option",{value:"modern",children:"Modern"}),(0,Ct.jsx)("option",{value:"minimal",children:"Minimal"})]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Description of Services/Products *"}),(0,Ct.jsx)("textarea",{value:m.description,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{description:e.target.value})),placeholder:"Describe the services or products provided",rows:"4"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Additional Notes"}),(0,Ct.jsx)("textarea",{value:m.notes,onChange:e=>f((0,a.A)((0,a.A)({},m),{},{notes:e.target.value})),placeholder:"Any additional notes or terms",rows:"3"})]})]}),(0,Ct.jsxs)("div",{className:"form-section",children:[(0,Ct.jsx)("h4",{children:"Invoice Image (Optional)"}),(0,Ct.jsxs)("div",{className:"image-upload-section",children:[(0,Ct.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{f((0,a.A)((0,a.A)({},m),{},{invoiceImage:e.target.result}))},e.readAsDataURL(t)}},id:"invoice-image-upload",style:{display:"none"}}),(0,Ct.jsx)("label",{htmlFor:"invoice-image-upload",className:"image-upload-btn",children:m.invoiceImage?"Change Image":"Upload Invoice Image"}),m.invoiceImage&&(0,Ct.jsxs)("div",{className:"image-preview",children:[(0,Ct.jsx)("img",{src:m.invoiceImage,alt:"Invoice preview"}),(0,Ct.jsx)("button",{type:"button",className:"remove-image-btn",onClick:()=>f((0,a.A)((0,a.A)({},m),{},{invoiceImage:null})),children:"Remove"})]})]})]}),(0,Ct.jsx)("button",{className:"create-btn",onClick:()=>{if(!m.clientName||!m.amount)return void alert("Please fill in client name and amount");const e=(0,a.A)((0,a.A)({},m),{},{id:g(),createdAt:(new Date).toISOString()});s([...i,e]),f({id:"",clientName:"",clientEmail:"",clientAddress:"",description:"",amount:"",date:(new Date).toISOString().split("T")[0],status:"draft",invoiceImage:null,template:"professional",businessName:d.businessName||"",businessAddress:d.businessAddress||"",businessEmail:d.businessEmail||"",businessPhone:d.businessPhone||"",taxNumber:d.taxNumber||"",paymentTerms:"30 days",notes:""})},children:"Create Professional Invoice"})]})]}),(0,Ct.jsxs)("div",{className:"invoices-list",children:[(0,Ct.jsx)("h3",{children:"Your Invoices"}),0===i.length?(0,Ct.jsx)("p",{className:"no-data",children:"No invoices created yet."}):(0,Ct.jsx)("div",{className:"invoices-grid",children:i.map(e=>(0,Ct.jsxs)("div",{className:"invoice-card",children:[(0,Ct.jsxs)("div",{className:"invoice-header",children:[(0,Ct.jsxs)("span",{className:"invoice-id",children:["#",e.id]}),(0,Ct.jsx)("span",{className:"status ".concat(e.status),children:e.status})]}),(0,Ct.jsxs)("div",{className:"invoice-details",children:[(0,Ct.jsx)("h4",{children:e.clientName}),(0,Ct.jsxs)("p",{children:["Amount: \xa3",parseFloat(e.amount).toFixed(2)]}),(0,Ct.jsxs)("p",{children:["Date: ",e.date]})]}),(0,Ct.jsx)("div",{className:"invoice-actions",children:(0,Ct.jsx)("button",{className:"pdf-btn",onClick:()=>(e=>{const t=new Xa.default,n=t.internal.pageSize.getWidth(),i=t.internal.pageSize.getHeight(),a={professional:{primary:[44,62,80],accent:[52,152,219],light:[245,245,245],dark:[33,37,41]},modern:{primary:[108,117,125],accent:[0,123,255],light:[248,249,250],dark:[52,58,64]},minimal:{primary:[73,80,87],accent:[108,117,125],light:[255,255,255],dark:[33,37,41]}},s=a[d.colorScheme]||a.professional;if(t.setFillColor(s.primary[0],s.primary[1],s.primary[2]),t.rect(0,0,n,60,"F"),d.businessLogo)try{t.addImage(d.businessLogo,"PNG",20,15,30,30)}catch(g){console.log("Logo could not be added to PDF")}t.setTextColor(255,255,255),t.setFontSize(28),t.setFont("helvetica","bold");const r=d.businessName||e.businessName||"Your Business Name";t.text(r,d.businessLogo?60:20,35),t.setFontSize(36),t.setFont("helvetica","bold"),t.text("INVOICE",n-80,40),t.setFillColor(s.light[0],s.light[1],s.light[2]),t.rect(n-90,70,80,50,"F"),t.setDrawColor(s.accent[0],s.accent[1],s.accent[2]),t.setLineWidth(1),t.rect(n-90,70,80,50,"S"),t.setTextColor(s.dark[0],s.dark[1],s.dark[2]),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("INVOICE DETAILS",n-85,85),t.setFont("helvetica","normal"),t.setFontSize(10),t.text("Invoice #:",n-85,95),t.setFont("helvetica","bold"),t.text(e.id,n-60,95),t.setFont("helvetica","normal"),t.text("Date:",n-85,105),t.setFont("helvetica","bold"),t.text(e.date,n-60,105),t.setFont("helvetica","normal"),t.text("Status:",n-85,115),t.setFont("helvetica","bold"),t.text(e.status.toUpperCase(),n-60,115),t.setTextColor(s.dark[0],s.dark[1],s.dark[2]),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("FROM:",20,85),t.setFont("helvetica","normal"),t.setFontSize(11);let o=95;if(r&&(t.setFont("helvetica","bold"),t.text(r,20,o),o+=8),d.businessAddress||e.businessAddress){t.setFont("helvetica","normal");const n=(d.businessAddress||e.businessAddress).split("\n");n.forEach((e,n)=>{t.text(e,20,o+6*n)}),o+=6*n.length+4}if((d.businessEmail||e.businessEmail)&&(t.text("Email: ".concat(d.businessEmail||e.businessEmail),20,o),o+=6),(d.businessPhone||e.businessPhone)&&(t.text("Phone: ".concat(d.businessPhone||e.businessPhone),20,o),o+=6),d.businessWebsite&&(t.text("Website: ".concat(d.businessWebsite),20,o),o+=6),(d.taxNumber||e.taxNumber)&&t.text("Tax/VAT #: ".concat(d.taxNumber||e.taxNumber),20,o),o=Math.max(o+20,140),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("BILL TO:",20,o),t.setFont("helvetica","normal"),t.setFontSize(11),o+=10,t.setFont("helvetica","bold"),t.text(e.clientName,20,o),o+=8,e.clientEmail&&(t.setFont("helvetica","normal"),t.text("Email: ".concat(e.clientEmail),20,o),o+=6),e.clientAddress){const n=e.clientAddress.split("\n");n.forEach((e,n)=>{t.text(e,20,o+6*n)}),o+=6*n.length+8}o+=10,t.setDrawColor(s.accent[0],s.accent[1],s.accent[2]),t.setLineWidth(1),t.line(20,o,n-20,o),o+=15,t.setFillColor(s.accent[0],s.accent[1],s.accent[2]),t.rect(20,o-10,n-40,10,"F"),t.setTextColor(255,255,255),t.setFontSize(11),t.setFont("helvetica","bold"),t.text("DESCRIPTION",25,o-3),t.text("QUANTITY",n-120,o-3),t.text("RATE",n-80,o-3),t.text("AMOUNT",n-40,o-3),t.setTextColor(s.dark[0],s.dark[1],s.dark[2]),t.setFont("helvetica","normal"),o+=5;const l=e.description||"Services rendered",c="\xa3".concat(parseFloat(e.amount).toFixed(2)),h="\xa3".concat(parseFloat(e.amount).toFixed(2)),u=t.splitTextToSize(l,n-140);u.forEach((e,n)=>{t.text(e,25,o+6*n)}),t.text("1",n-120,o),t.text(c,n-80,o),t.setFont("helvetica","bold"),t.text(h,n-40,o),o+=Math.max(6*u.length,15)+20,t.setFont("helvetica","normal"),t.setFontSize(11),t.text("Subtotal:",n-80,o),t.setFont("helvetica","bold"),t.text(h,n-40,o),o+=8,t.setFont("helvetica","normal"),t.text("Tax (0%):",n-80,o),t.setFont("helvetica","bold"),t.text("\xa30.00",n-40,o),o+=12,t.setFillColor(s.light[0],s.light[1],s.light[2]),t.rect(n-90,o-8,70,12,"F"),t.setDrawColor(s.accent[0],s.accent[1],s.accent[2]),t.setLineWidth(1),t.rect(n-90,o-8,70,12,"S"),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("TOTAL:",n-85,o),t.setFontSize(14),t.text(h,n-45,o),o+=25,t.setFontSize(11),t.setFont("helvetica","bold"),t.text("PAYMENT TERMS:",20,o),t.setFont("helvetica","normal");const p=e.paymentTerms||d.standardTerms,m=t.splitTextToSize(p,n-40);if(m.forEach((e,n)=>{t.text(e,20,o+8+6*n)}),o+=6*m.length+15,e.notes||d.standardNotes){t.setFont("helvetica","bold"),t.text("NOTES:",20,o),t.setFont("helvetica","normal");const i=e.notes||d.standardNotes,a=t.splitTextToSize(i,n-40);a.forEach((e,n)=>{t.text(e,20,o+8+6*n)}),o+=6*a.length+10}const f=i-30;t.setDrawColor(s.accent[0],s.accent[1],s.accent[2]),t.setLineWidth(.5),t.line(20,f-10,n-20,f-10),t.setFontSize(9),t.setTextColor(s.dark[0],s.dark[1],s.dark[2]),t.setFont("helvetica","normal"),d.footerText&&t.text(d.footerText,20,f),t.text("Generated on ".concat((new Date).toLocaleDateString()),n-60,f),t.save("invoice-".concat(e.id,".pdf"))})(e),children:"Generate PDF"})})]},e.id))})]})]}),"expenses"===t&&(0,Ct.jsxs)("div",{className:"expenses-tab",children:[(0,Ct.jsxs)("div",{className:"upload-section",children:[(0,Ct.jsx)("h3",{children:"Upload Receipts"}),(0,Ct.jsxs)("div",(0,a.A)((0,a.A)({},b()),{},{className:"dropzone ".concat(x?"active":""),children:[(0,Ct.jsx)("input",(0,a.A)({},y())),l?(0,Ct.jsxs)("div",{className:"processing",children:[(0,Ct.jsx)("div",{className:"spinner"}),(0,Ct.jsx)("p",{children:"Processing receipt..."})]}):(0,Ct.jsxs)("div",{className:"dropzone-content",children:[(0,Ct.jsx)("p",{children:"Drag & drop receipt files here, or click to select files"}),(0,Ct.jsx)("p",{className:"dropzone-hint",children:"Supports: Images (JPG, PNG, GIF, BMP, WebP), PDF, HTML"})]})]}))]}),(0,Ct.jsxs)("div",{className:"expenses-list",children:[(0,Ct.jsx)("h3",{children:"Your Expenses"}),0===r.length?(0,Ct.jsx)("p",{className:"no-data",children:"No expenses recorded yet. Upload some receipts to get started!"}):(0,Ct.jsx)("div",{className:"expenses-grid",children:r.map(e=>{var t;return(0,Ct.jsxs)("div",{className:"expense-card",children:[(0,Ct.jsxs)("div",{className:"expense-header",children:[(0,Ct.jsxs)("div",{className:"expense-amount-section",children:[(0,Ct.jsxs)("span",{className:"expense-amount",children:["\xa3",parseFloat(e.amount).toFixed(2)]}),(0,Ct.jsxs)("span",{className:"file-type-badge ".concat(e.fileType||"unknown"),children:["image"===e.fileType?"\ud83d\udcf7":"pdf"===e.fileType?"\ud83d\udcc4":"html"===e.fileType?"\ud83c\udf10":"\ud83d\udcc1",(null===(t=e.fileType)||void 0===t?void 0:t.toUpperCase())||"FILE"]})]}),(0,Ct.jsx)("span",{className:"expense-date",children:e.date})]}),(0,Ct.jsxs)("div",{className:"expense-details",children:[(0,Ct.jsx)("h4",{children:e.filename}),e.vendor&&(0,Ct.jsxs)("p",{className:"expense-vendor",children:[(0,Ct.jsx)("strong",{children:"Vendor:"})," ",e.vendor]}),(0,Ct.jsx)("p",{className:"expense-description",children:e.description}),(0,Ct.jsxs)("select",{value:e.category,onChange:t=>{const n=r.map(n=>n.id===e.id?(0,a.A)((0,a.A)({},n),{},{category:t.target.value}):n);o(n)},className:"category-select",children:[(0,Ct.jsx)("option",{value:"uncategorized",children:"Uncategorized"}),(0,Ct.jsx)("option",{value:"office-supplies",children:"Office Supplies"}),(0,Ct.jsx)("option",{value:"travel",children:"Travel"}),(0,Ct.jsx)("option",{value:"meals",children:"Meals"}),(0,Ct.jsx)("option",{value:"equipment",children:"Equipment"}),(0,Ct.jsx)("option",{value:"utilities",children:"Utilities"}),(0,Ct.jsx)("option",{value:"marketing",children:"Marketing"}),(0,Ct.jsx)("option",{value:"other",children:"Other"})]})]})]},e.id)})})]})]}),"customization"===t&&(0,Ct.jsx)("div",{className:"customization-tab",children:(0,Ct.jsxs)("div",{className:"customization-section",children:[(0,Ct.jsx)("h3",{children:"Invoice Customization"}),(0,Ct.jsx)("p",{children:"Customize your invoice templates with your business branding and standard text."}),(0,Ct.jsxs)("div",{className:"customization-form",children:[(0,Ct.jsxs)("div",{className:"form-section",children:[(0,Ct.jsx)("h4",{children:"Business Branding"}),(0,Ct.jsxs)("div",{className:"logo-upload-section",children:[(0,Ct.jsx)("label",{children:"Business Logo"}),(0,Ct.jsxs)("div",{className:"logo-upload-area",children:[(0,Ct.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{h((0,a.A)((0,a.A)({},d),{},{businessLogo:e.target.result}))},e.readAsDataURL(t)}},id:"logo-upload",style:{display:"none"}}),(0,Ct.jsx)("label",{htmlFor:"logo-upload",className:"logo-upload-btn",children:d.businessLogo?"Change Logo":"Upload Logo"}),d.businessLogo&&(0,Ct.jsxs)("div",{className:"logo-preview",children:[(0,Ct.jsx)("img",{src:d.businessLogo,alt:"Business logo preview"}),(0,Ct.jsx)("button",{type:"button",className:"remove-logo-btn",onClick:()=>h((0,a.A)((0,a.A)({},d),{},{businessLogo:null})),children:"Remove"})]})]})]}),(0,Ct.jsxs)("div",{className:"form-row",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Business Name"}),(0,Ct.jsx)("input",{type:"text",value:d.businessName,onChange:e=>h((0,a.A)((0,a.A)({},d),{},{businessName:e.target.value})),placeholder:"Your Business Name"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Business Email"}),(0,Ct.jsx)("input",{type:"email",value:d.businessEmail,onChange:e=>h((0,a.A)((0,a.A)({},d),{},{businessEmail:e.target.value})),placeholder:"business@example.com"})]})]}),(0,Ct.jsxs)("div",{className:"form-row",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Business Phone"}),(0,Ct.jsx)("input",{type:"tel",value:d.businessPhone,onChange:e=>h((0,a.A)((0,a.A)({},d),{},{businessPhone:e.target.value})),placeholder:"+44 123 456 7890"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Business Website"}),(0,Ct.jsx)("input",{type:"url",value:d.businessWebsite,onChange:e=>h((0,a.A)((0,a.A)({},d),{},{businessWebsite:e.target.value})),placeholder:"https://www.yourbusiness.com"})]})]}),(0,Ct.jsxs)("div",{className:"form-row",children:[(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Tax/VAT Number"}),(0,Ct.jsx)("input",{type:"text",value:d.taxNumber,onChange:e=>h((0,a.A)((0,a.A)({},d),{},{taxNumber:e.target.value})),placeholder:"GB123456789"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Color Scheme"}),(0,Ct.jsxs)("select",{value:d.colorScheme,onChange:e=>h((0,a.A)((0,a.A)({},d),{},{colorScheme:e.target.value})),children:[(0,Ct.jsx)("option",{value:"professional",children:"Professional"}),(0,Ct.jsx)("option",{value:"modern",children:"Modern"}),(0,Ct.jsx)("option",{value:"minimal",children:"Minimal"})]})]})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Business Address"}),(0,Ct.jsx)("textarea",{value:d.businessAddress,onChange:e=>h((0,a.A)((0,a.A)({},d),{},{businessAddress:e.target.value})),placeholder:"Enter your business address",rows:"3"})]})]}),(0,Ct.jsxs)("div",{className:"form-section",children:[(0,Ct.jsx)("h4",{children:"Standard Text & Terms"}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Standard Payment Terms"}),(0,Ct.jsx)("textarea",{value:d.standardTerms,onChange:e=>h((0,a.A)((0,a.A)({},d),{},{standardTerms:e.target.value})),placeholder:"Payment is due within 30 days of invoice date. Late payments may incur additional charges.",rows:"3"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Standard Notes"}),(0,Ct.jsx)("textarea",{value:d.standardNotes,onChange:e=>h((0,a.A)((0,a.A)({},d),{},{standardNotes:e.target.value})),placeholder:"Thank you for your business!",rows:"3"})]}),(0,Ct.jsxs)("div",{className:"form-group",children:[(0,Ct.jsx)("label",{children:"Footer Text"}),(0,Ct.jsx)("textarea",{value:d.footerText,onChange:e=>h((0,a.A)((0,a.A)({},d),{},{footerText:e.target.value})),placeholder:"For any queries regarding this invoice, please contact us.",rows:"2"})]})]}),(0,Ct.jsx)("div",{className:"customization-actions",children:(0,Ct.jsx)("button",{className:"save-customization-btn",onClick:()=>{f(e=>(0,a.A)((0,a.A)({},e),{},{businessName:d.businessName||e.businessName,businessEmail:d.businessEmail||e.businessEmail,businessPhone:d.businessPhone||e.businessPhone,businessAddress:d.businessAddress||e.businessAddress,taxNumber:d.taxNumber||e.taxNumber})),alert("Customization saved and applied to invoice form!")},children:"Save & Apply to Invoice Form"})})]})]})}),"export"===t&&(0,Ct.jsxs)("div",{className:"export-tab",children:[(0,Ct.jsx)("h3",{children:"Export Data for Monthly Profit Calculations"}),(0,Ct.jsx)("p",{children:"Export your invoices and expenses data to use in the monthly profit calculator."}),(0,Ct.jsxs)("div",{className:"export-summary",children:[(0,Ct.jsxs)("div",{className:"summary-item",children:[(0,Ct.jsx)("h4",{children:"Total Invoices"}),(0,Ct.jsx)("p",{children:i.length})]}),(0,Ct.jsxs)("div",{className:"summary-item",children:[(0,Ct.jsx)("h4",{children:"Total Invoice Value"}),(0,Ct.jsxs)("p",{children:["\xa3",i.reduce((e,t)=>e+parseFloat(t.amount||0),0).toFixed(2)]})]}),(0,Ct.jsxs)("div",{className:"summary-item",children:[(0,Ct.jsx)("h4",{children:"Total Expenses"}),(0,Ct.jsx)("p",{children:r.length})]}),(0,Ct.jsxs)("div",{className:"summary-item",children:[(0,Ct.jsx)("h4",{children:"Total Expense Value"}),(0,Ct.jsxs)("p",{children:["\xa3",r.reduce((e,t)=>e+parseFloat(t.amount||0),0).toFixed(2)]})]})]}),(0,Ct.jsx)("button",{className:"export-btn",onClick:()=>{const e={invoices:i.map(e=>({id:e.id,amount:parseFloat(e.amount),date:e.date,status:e.status})),expenses:r.map(e=>({id:e.id,amount:parseFloat(e.amount),date:e.date,category:e.category}))},t=JSON.stringify(e,null,2),n=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download="invoices-expenses-data.json",s.click(),URL.revokeObjectURL(a)},children:"Export Data as JSON"})]}),(0,Ct.jsx)(sn,{showRelatedTools:!1})]})};const fN=function(){const t=re();return(0,e.useEffect)(()=>{Jt(t.pathname)},[t.pathname]),(0,Ct.jsx)(on,{isSelfEmployment:!0})};const gN=function(t){let{onAuthenticated:n}=t;const[i,a]=(0,e.useState)(""),[s,r]=(0,e.useState)(!1);return(0,Ct.jsx)("div",{className:"password-protection",children:(0,Ct.jsxs)("div",{className:"password-box",children:[(0,Ct.jsx)("h1",{children:"Universal Credit Calculator"}),(0,Ct.jsx)("p",{children:"Please enter the password to access the calculator"}),(0,Ct.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"3ntitledto"===i?(sessionStorage.setItem("authenticated","true"),n()):(r(!0),a(""))},children:[(0,Ct.jsx)("input",{type:"password",value:i,onChange:e=>{a(e.target.value),r(!1)},placeholder:"Enter password",className:s?"error":"",autoFocus:!0}),s&&(0,Ct.jsx)("p",{className:"error-message",children:"Incorrect password. Please try again."}),(0,Ct.jsx)("button",{type:"submit",children:"Enter"})]})]})})};function vN(){const t=re();return(0,e.useEffect)(()=>{Jt(t.pathname)},[t.pathname]),null}const bN=function(){const[t,n]=(0,e.useState)(!1);return(0,e.useEffect)(()=>{(()=>{try{const e=localStorage.getItem("currentSkin");e&&Ot[e]&&(Ht=e);const t=localStorage.getItem("routeSkins");if(t){const e=JSON.parse(t);Object.keys(e).forEach(t=>{Ot[e[t]]&&(Wt[t]=e[t])})}}catch(e){console.warn("Failed to load skins from localStorage:",e)}})();"true"===sessionStorage.getItem("authenticated")&&n(!0)},[]),t?(0,Ct.jsxs)(lt,{children:[(0,Ct.jsx)(vN,{}),(0,Ct.jsxs)(Se,{children:[(0,Ct.jsx)(Ce,{path:"/",element:(0,Ct.jsx)(on,{})}),(0,Ct.jsx)(Ce,{path:"/self-employment-accounts",element:(0,Ct.jsx)(ln,{})}),(0,Ct.jsx)(Ce,{path:"/self-assessment-tax-form",element:(0,Ct.jsx)(cn,{})}),(0,Ct.jsx)(Ce,{path:"/monthly-profit",element:(0,Ct.jsx)(fi,{})}),(0,Ct.jsx)(Ce,{path:"/rehabilitation-services",element:(0,Ct.jsx)(gi,{})}),(0,Ct.jsx)(Ce,{path:"/affordability-map",element:(0,Ct.jsx)(vi,{})}),(0,Ct.jsx)(Ce,{path:"/help-guide",element:(0,Ct.jsx)(bi,{})}),(0,Ct.jsx)(Ce,{path:"/help-guide/benefits",element:(0,Ct.jsx)(yi,{})}),(0,Ct.jsx)(Ce,{path:"/help-guide/housing",element:(0,Ct.jsx)(xi,{})}),(0,Ct.jsx)(Ce,{path:"/help-guide/health",element:(0,Ct.jsx)(wi,{})}),(0,Ct.jsx)(Ce,{path:"/help/child-benefit-charge",element:(0,Ct.jsx)(Ni,{})}),(0,Ct.jsx)(Ce,{path:"/budgeting-tool",element:(0,Ct.jsx)(Bi,{})}),(0,Ct.jsx)(Ce,{path:"/budgeting-tool-admin",element:(0,Ct.jsx)(Wi,{})}),(0,Ct.jsx)(Ce,{path:"/housing-review-amounts",element:(0,Ct.jsx)(Ui,{})}),(0,Ct.jsx)(Ce,{path:"/ons-standard-amounts",element:(0,Ct.jsx)(qi,{})}),(0,Ct.jsx)(Ce,{path:"/rehabilitation-calculator",element:(0,Ct.jsx)(Oi,{})}),(0,Ct.jsx)(Ce,{path:"/mif-help-guide",element:(0,Ct.jsx)(Hi,{})}),(0,Ct.jsx)(Ce,{path:"/mif-calculator",element:(0,Ct.jsx)(zi,{})}),(0,Ct.jsx)(Ce,{path:"/self-employment-accounts/invoices-receipts",element:(0,Ct.jsx)(mN,{})}),(0,Ct.jsx)(Ce,{path:"/self-employment-accounts/income-maximisation",element:(0,Ct.jsx)(fN,{})})]})]}):(0,Ct.jsx)(gN,{onAuthenticated:()=>n(!0)})};t.createRoot(document.getElementById("root")).render((0,Ct.jsx)(e.StrictMode,{children:(0,Ct.jsx)(bN,{})}))})()})();
//# sourceMappingURL=main.7043878f.js.map